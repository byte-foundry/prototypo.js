{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap aa73b97aaf9547687e1d","webpack:///./~/lodash/_root.js","webpack:///./~/lodash/isArray.js","webpack:///./~/lodash/_getNative.js","webpack:///./~/lodash/_baseGetTag.js","webpack:///./~/lodash/isObjectLike.js","webpack:///../plumin.js/dist/plumin.js","webpack:///./~/lodash/_ListCache.js","webpack:///./~/lodash/_Symbol.js","webpack:///./~/lodash/_assocIndexOf.js","webpack:///./~/lodash/_getMapData.js","webpack:///./~/lodash/_nativeCreate.js","webpack:///./~/lodash/_toKey.js","webpack:///./~/lodash/isObject.js","webpack:///./~/lodash/isSymbol.js","webpack:///(webpack)/buildin/module.js","webpack:///./~/lodash.assign/index.js","webpack:///./~/lodash/_Map.js","webpack:///./~/lodash/_MapCache.js","webpack:///./~/lodash/_isKey.js","webpack:///./~/lodash/isLength.js","webpack:///./~/lodash/keys.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/Utils.js","webpack:///./~/lodash.clonedeep/index.js","webpack:///./~/lodash/_Stack.js","webpack:///./~/lodash/_baseGet.js","webpack:///./~/lodash/_baseIsEqual.js","webpack:///./~/lodash/_baseIteratee.js","webpack:///./~/lodash/_castPath.js","webpack:///./~/lodash/_equalArrays.js","webpack:///./~/lodash/_freeGlobal.js","webpack:///./~/lodash/_isIndex.js","webpack:///./~/lodash/_isStrictComparable.js","webpack:///./~/lodash/_matchesStrictComparable.js","webpack:///./~/lodash/_toSource.js","webpack:///./~/lodash/eq.js","webpack:///./~/lodash/isArguments.js","webpack:///./~/lodash/isArrayLike.js","webpack:///./~/lodash/isBuffer.js","webpack:///./~/lodash/isFunction.js","webpack:///./~/lodash/isTypedArray.js","webpack:///./src/prototypo.js","webpack:///./src/naive.js","webpack:///./src/updateUtils.js","webpack:///./~/deptree/index.js","webpack:///./~/lodash.filter/index.js","webpack:///./~/lodash/_DataView.js","webpack:///./~/lodash/_Hash.js","webpack:///./~/lodash/_Promise.js","webpack:///./~/lodash/_Set.js","webpack:///./~/lodash/_SetCache.js","webpack:///./~/lodash/_Uint8Array.js","webpack:///./~/lodash/_WeakMap.js","webpack:///./~/lodash/_arrayFilter.js","webpack:///./~/lodash/_arrayLikeKeys.js","webpack:///./~/lodash/_arrayMap.js","webpack:///./~/lodash/_arrayPush.js","webpack:///./~/lodash/_arraySome.js","webpack:///./~/lodash/_baseFindIndex.js","webpack:///./~/lodash/_baseGetAllKeys.js","webpack:///./~/lodash/_baseHasIn.js","webpack:///./~/lodash/_baseIsArguments.js","webpack:///./~/lodash/_baseIsEqualDeep.js","webpack:///./~/lodash/_baseIsMatch.js","webpack:///./~/lodash/_baseIsNative.js","webpack:///./~/lodash/_baseIsTypedArray.js","webpack:///./~/lodash/_baseKeys.js","webpack:///./~/lodash/_baseMatches.js","webpack:///./~/lodash/_baseMatchesProperty.js","webpack:///./~/lodash/_baseProperty.js","webpack:///./~/lodash/_basePropertyDeep.js","webpack:///./~/lodash/_baseTimes.js","webpack:///./~/lodash/_baseToString.js","webpack:///./~/lodash/_baseUnary.js","webpack:///./~/lodash/_cacheHas.js","webpack:///./~/lodash/_coreJsData.js","webpack:///./~/lodash/_createFind.js","webpack:///./~/lodash/_equalByTag.js","webpack:///./~/lodash/_equalObjects.js","webpack:///./~/lodash/_getAllKeys.js","webpack:///./~/lodash/_getMatchData.js","webpack:///./~/lodash/_getRawTag.js","webpack:///./~/lodash/_getSymbols.js","webpack:///./~/lodash/_getTag.js","webpack:///./~/lodash/_getValue.js","webpack:///./~/lodash/_hasPath.js","webpack:///./~/lodash/_hashClear.js","webpack:///./~/lodash/_hashDelete.js","webpack:///./~/lodash/_hashGet.js","webpack:///./~/lodash/_hashHas.js","webpack:///./~/lodash/_hashSet.js","webpack:///./~/lodash/_isKeyable.js","webpack:///./~/lodash/_isMasked.js","webpack:///./~/lodash/_isPrototype.js","webpack:///./~/lodash/_listCacheClear.js","webpack:///./~/lodash/_listCacheDelete.js","webpack:///./~/lodash/_listCacheGet.js","webpack:///./~/lodash/_listCacheHas.js","webpack:///./~/lodash/_listCacheSet.js","webpack:///./~/lodash/_mapCacheClear.js","webpack:///./~/lodash/_mapCacheDelete.js","webpack:///./~/lodash/_mapCacheGet.js","webpack:///./~/lodash/_mapCacheHas.js","webpack:///./~/lodash/_mapCacheSet.js","webpack:///./~/lodash/_mapToArray.js","webpack:///./~/lodash/_memoizeCapped.js","webpack:///./~/lodash/_nativeKeys.js","webpack:///./~/lodash/_nodeUtil.js","webpack:///./~/lodash/_objectToString.js","webpack:///./~/lodash/_overArg.js","webpack:///./~/lodash/_setCacheAdd.js","webpack:///./~/lodash/_setCacheHas.js","webpack:///./~/lodash/_setToArray.js","webpack:///./~/lodash/_stackClear.js","webpack:///./~/lodash/_stackDelete.js","webpack:///./~/lodash/_stackGet.js","webpack:///./~/lodash/_stackHas.js","webpack:///./~/lodash/_stackSet.js","webpack:///./~/lodash/_stringToPath.js","webpack:///./~/lodash/find.js","webpack:///./~/lodash/findIndex.js","webpack:///./~/lodash/get.js","webpack:///./~/lodash/hasIn.js","webpack:///./~/lodash/identity.js","webpack:///./~/lodash/memoize.js","webpack:///./~/lodash/property.js","webpack:///./~/lodash/stubArray.js","webpack:///./~/lodash/stubFalse.js","webpack:///./~/lodash/toFinite.js","webpack:///./~/lodash/toInteger.js","webpack:///./~/lodash/toNumber.js","webpack:///./~/lodash/toString.js"],"names":["webpackUniversalModuleDefinition","root","factory","module","exports","define","amd","modules","installedModules","__webpack_require__","moduleId","id","loaded","call","m","c","p","opentype","paper","Font","Glyph","Outline","Path","Node","PaperScope","prototype","global","TINF_OK","TINF_DATA_ERROR","Tree","table","Uint16Array","trans","Data","source","dest","sourceIndex","tag","bitcount","destLen","ltree","dtree","sltree","sdtree","length_bits","Uint8Array","length_base","dist_bits","dist_base","clcidx","code_tree","lengths","tinf_build_bits_base","bits","base","delta","first","i","sum","tinf_build_fixed_trees","lt","dt","offs","tinf_build_tree","t","off","num","tinf_getbit","d","bit","tinf_read_bits","val","tinf_decode_symbol","cur","len","tinf_decode_trees","hlit","hdist","hclen","length","clen","sym","prev","tinf_inflate_block_data","dist","tinf_inflate_uncompressed_block","invlength","tinf_uncompress","bfinal","btype","res","Error","slice","subarray","index","derive","v0","v1","v2","v3","Math","pow","BoundingBox","x1","Number","NaN","y1","x2","y2","isEmpty","isNaN","addPoint","x","y","addX","addY","addBezier","x0","y0","this$1","p0","p1","p2","p3","b","a","b2ac","t1","sqrt","t2","addQuad","cp1x","cp1y","cp2x","cp2y","commands","fill","stroke","strokeWidth","moveTo","push","type","lineTo","curveTo","bezierCurveTo","quadTo","quadraticCurveTo","close","closePath","extend","pathOrCommands","box","Array","apply","getBoundingBox","startX","startY","prevX","prevY","cmd","draw","ctx","beginPath","fillStyle","strokeStyle","lineWidth","toPathData","decimalPlaces","undefined","floatToString","v","round","toFixed","packValues","arguments$1","arguments","s","toSVG","svg","toDOMElement","temporaryPath","newPath","document","createElementNS","setAttribute","fail","message","argument","predicate","check","assert","LIMIT16","LIMIT32","decode","encode","sizeOf","constant","BYTE","CHAR","charCodeAt","CHARARRAY","USHORT","SHORT","UINT24","ULONG","LONG","FIXED","FWORD","UFWORD","LONGDATETIME","TAG","Card8","Card16","OffSize","SID","NUMBER","NUMBER16","NUMBER32","REAL","value","toString","exec","epsilon","parseFloat","nibbles","ii","out","i$1","ii$1","parseInt","substr","NAME","STRING","UTF8","data","offset","numBytes","codePoints","numChars","j","getUint8","String","fromCharCode","UTF16","getUint16","codepoint","eightBitMacEncodings","macintosh","MACSTRING","dataView","dataLength","encoding","result","macEncodingTableCache","WeakMap","macEncodingCacheKeys","getMacEncodingTable","e","cacheKey","cachedTable","get","decodingTable","encodingTable","set","str","isByteEncodable","encodeVarDeltaRunAsZeroes","deltas","pos","runLength","numDeltas","encodeVarDeltaRunAsBytes","encodeVarDeltaRunAsWords","VARDELTAS","INDEX","l","offsets","OBJECT","encodedOffsets","offSize","floor","log","offsetEncoder","encodedOffset","concat","DICT","keys","Object","k","OPERAND","OPERATOR","isArray","OP","wmm","CHARSTRING","ops","cachedValue","op","encodingFunction","sizeOfFunction","TABLE","fields","subtables","subtableOffsets","field","name","bytes","o","tableName","RECORD","LITERAL","Table","options","optionKeys","ushortList","itemName","list","count","tableList","records","itemCallback","recordList","Coverage","coverageTable","format","glyphs","create","constructor","ScriptList","scriptListTable","scriptRecord","script","defaultLangSys","reqFeatureIndex","featureIndexes","langSysRecords","langSysRecord","langSys","FeatureList","featureListTable","featureRecord","feature","featureParams","lookupListIndexes","LookupList","lookupListTable","subtableMakers","lookupTable","subtableCallback","lookupType","lookupFlag","Record","getByte","getUShort","getShort","getInt16","getULong","getUint32","getFixed","decimal","fraction","getTag","getInt8","getOffset","getBytes","startOffset","endOffset","bytesToString","typeOffsets","byte","uShort","short","uLong","fixed","longDateTime","Parser","relativeOffset","parseByte","parseChar","parseCard8","parseUShort","parseCard16","parseSID","parseOffset16","parseShort","parseF2Dot14","parseULong","parseFixed","parseString","string","parseTag","parseLongDateTime","parseVersion","major","minor","skip","amount","parseOffset16List","parseUShortList","parseShortList","parseByteList","parseList","parseRecordList","recordDescription","rec","fieldName","fieldType","parseStruct","description","struct","parsePointer","structOffset","parseListOfLists","start","subOffsets","subList","parseCoverage","ranges","end","parseClassDef","startGlyph","classes","classId","pointer","offset16","uShortList","coverage","classDef","langSysTable","reserved","parseScriptList","parseFeatureList","parseLookupList","lookupTableParsers","useMarkFilteringSet","markFilteringSet","parse","getCard8","getCard16","parseCmapTableFormat12","cmap","language","groupCount","glyphIndexMap","startCharCode","endCharCode","startGlyphId","parseCmapTableFormat4","segCount","endCountParser","startCountParser","idDeltaParser","idRangeOffsetParser","glyphIndexOffset","glyphIndex","endCount","startCount","idDelta","idRangeOffset","parseCmapTable","version","numTables","platformId","encodingId","addSegment","code","segments","addTerminatorSegment","makeCmapTable","glyph","unicodes","sort","segCountX2","searchRange","entrySelector","rangeShift","endCounts","startCounts","idDeltas","idRangeOffsets","glyphIds","segment","glyphId","make","cffStandardStrings","cffStandardEncoding","cffExpertEncoding","standardNames","DefaultEncoding","font","charToGlyphIndex","CmapEncoding","CffEncoding","charset","charName","indexOf","GlyphNames","post","names","numberOfGlyphs","glyphNameIndex","nameToGlyphIndex","glyphIndexToName","gid","addGlyphNames","tables","charCodes","addUnicode","cffEncoding","isCIDFont","glyphNames","line","parseGlyphCoordinate","flag","previousValue","shortVectorBitMask","sameBitMask","parseGlyph","numberOfContours","_xMin","_yMin","_xMax","_yMax","flags","endPointIndices","instructionLength","instructions","numberOfCoordinates","i$2","repeatCount","points","point","i$3","onCurve","lastPointOfContour","px","i$4","py","i$5","isComposite","components","moreComponents","component","xScale","scale01","scale10","yScale","dx","dy","matchedPoints","i$6","transformPoints","transform","newPoints","pt","newPt","getContours","contours","currentContour","getPath","contourIndex","contour","curr","next","prev2","next2","buildPath","componentGlyph","transformedPoints","firstPt","secondPt","parseGlyfTable","loca","glyphset","GlyphSet","nextOffset","ttfGlyphLoader","glyphLoader","glyf","getPathDefinition","path","_path","configurable","bindConstructorValues","unicode","xMin","yMin","xMax","yMax","advanceWidth","defineProperty","fontSize","hPoints","hinting","scale","unitsPerEm","getMetrics","xCoords","yCoords","metrics","min","max","leftSideBearing","isFinite","rightSideBearing","drawPoints","drawCircles","PI_SQ","PI","arc","blueCircles","redCircles","drawMetrics","defineDependentProperty","externalName","internalName","newValue","enumerable","loader","position","cffGlyphLoader","parseCFFCharstring","charstring","equals","calcCFFSubroutineBias","subrs","bias","parseCFFIndex","conversionFn","objects","objectOffset","offsetSize","parseFloatOperand","parser","eof","lookup","n1","n2","parseOperand","b0","b1","b2","b3","b4","entriesToObject","entries","key","values","hasOwnProperty","parseCFFDict","size","operands","getCFFString","strings","interpretDict","dict","meta","newDict","parseCFFHeader","header","formatMajor","formatMinor","TOP_DICT_META","PRIVATE_DICT_META","parseCFFTopDict","byteLength","parseCFFPrivateDict","gatherCFFTopDicts","cffIndex","topDictArray","iTopDict","topDictData","DataView","buffer","topDict","_subrs","_subrsBias","privateSize","private","privateOffset","privateDict","_defaultWidthX","defaultWidthX","_nominalWidthX","nominalWidthX","subrOffset","subrIndex","_privateDict","parseCFFCharset","nGlyphs","sid","parseCFFEncoding","enc","nCodes","nRanges","nLeft","c1x","c1y","c2x","c2y","stack","nStems","haveWidth","open","subrsBias","fdIndex","cff","_fdSelect","fdDict","_fdArray","width","newContour","parseStems","hasWidthArg","shift","parse$$1","codeIndex","subrCode","jpx","jpy","c3x","c3y","c4x","c4y","pop","abs","console","gsubrsBias","gsubrs","parseCFFFDSelect","fdArrayCount","fdSelect","iGid","iRange","parseCFFTable","nameIndex","topDictIndex","stringIndex","globalSubrIndex","ros","fdArrayOffset","fdArray","fdSelectOffset","fdArrayIndex","numGlyphs","privateDictOffset","charStringsIndex","charStrings","charString","encodeString","makeHeader","makeNameIndex","fontNames","makeDict","attrs","entry","makeTopDict","makeTopDictIndex","topDicts","makeStringIndex","makeGlobalSubrIndex","makeCharsets","glyphName","glyphSID","glyphToOps","_13","_23","dx1","dy1","dx2","dy2","makeCharStringsIndex","makePrivateDict","makeCFFTable","fontScale","fullName","familyName","weight","weightName","fontBBox","fontMatrix","privateAttrs","postScriptName","charsets","parseHeadTable","head","fontRevision","checkSumAdjustment","magicNumber","created","modified","macStyle","lowestRecPPEM","fontDirectionHint","indexToLocFormat","glyphDataFormat","makeHeadTable","timestamp","Date","getTime","createdTimestamp","parseHheaTable","hhea","ascender","descender","lineGap","advanceWidthMax","minLeftSideBearing","minRightSideBearing","xMaxExtent","caretSlopeRise","caretSlopeRun","caretOffset","metricDataFormat","numberOfHMetrics","makeHheaTable","parseHmtxTable","numMetrics","makeHmtxTable","hmtx","makeLtagTable","tags","stringPool","stringPoolOffset","parseLtagTable","tableVersion","numTags","ltag","parseMaxpTable","maxp","maxPoints","maxContours","maxCompositePoints","maxCompositeContours","maxZones","maxTwilightPoints","maxStorage","maxFunctionDefs","maxInstructionDefs","maxStackElements","maxSizeOfInstructions","maxComponentElements","maxComponentDepth","makeMaxpTable","nameTableNames","macLanguages","macLanguageToScript","windowsLanguages","getLanguageCode","platformID","languageID","utf16","macScriptEncodings","macLanguageEncodings","getEncoding","encodingID","parseNameTable","stringOffset","nameID","property","text","translations","langTagCount","reverseDict","makeNameRecord","findSubArray","needle","haystack","needleLength","limit","loop","addStringToPool","pool","makeNameTable","nameIDs","namesWithNumericKeys","nameTableIds","macLanguageIds","windowsLanguageIds","nameRecords","lang","macPlatform","macLanguage","macScript","macEncoding","macName","macNameOffset","winLanguage","winName","winNameOffset","r","_name","unicodeRanges","begin","getUnicodeRange","range","parseOS2Table","os2","xAvgCharWidth","usWeightClass","usWidthClass","fsType","ySubscriptXSize","ySubscriptYSize","ySubscriptXOffset","ySubscriptYOffset","ySuperscriptXSize","ySuperscriptYSize","ySuperscriptXOffset","ySuperscriptYOffset","yStrikeoutSize","yStrikeoutPosition","sFamilyClass","panose","ulUnicodeRange1","ulUnicodeRange2","ulUnicodeRange3","ulUnicodeRange4","achVendID","fsSelection","usFirstCharIndex","usLastCharIndex","sTypoAscender","sTypoDescender","sTypoLineGap","usWinAscent","usWinDescent","ulCodePageRange1","ulCodePageRange2","sxHeight","sCapHeight","usDefaultChar","usBreakChar","usMaxContent","makeOS2Table","parsePostTable","italicAngle","underlinePosition","underlineThickness","isFixedPitch","minMemType42","maxMemType42","minMemType1","maxMemType1","nameLength","makePostTable","subtableParsers","parseLookup1","substFormat","deltaGlyphId","substitute","parseLookup2","sequences","parseLookup3","alternateSets","parseLookup4","ligatureSets","ligGlyph","lookupRecordDesc","sequenceIndex","lookupListIndex","parseLookup5","ruleSets","glyphCount","substCount","input","lookupRecords","classSets","coverages","parseLookup6","chainRuleSets","backtrack","lookahead","backtrackClassDef","inputClassDef","lookaheadClassDef","chainClassSet","backtrackCoverage","inputCoverage","lookaheadCoverage","parseLookup7","extensionLookupType","extensionParser","extension","parseLookup8","substitutes","parseGsubTable","scripts","features","lookups","makeLookup1","subtable","makeLookup3","alternateSet","makeLookup4","ligatureSet","ligature","makeGsubTable","gsub","parseMetaTable","numDataMaps","dataOffset","makeMetaTable","log2","computeCheckSum","makeTableRecord","checkSum","makeSfntTable","sfnt","highestPowerOf2","recordFields","tableFields","tableLength","tableRecord","r1","r2","metricsForChar","chars","notFoundMetrics","average","vs","fontToSfntTable","xMins","yMins","xMaxs","yMaxs","advanceWidths","leftSideBearings","rightSideBearings","firstCharIndex","lastCharIndex","globals","advanceWidthAvg","maxLeftSideBearing","headTable","hheaTable","maxpTable","os2Table","hasChar","hmtxTable","cmapTable","englishFamilyName","getEnglishName","englishStyleName","englishFullName","replace","n","uniqueID","en","preferredFamily","fontFamily","preferredSubfamily","fontSubfamily","languageTags","nameTable","ltagTable","postTable","cffTable","metaTable","metas","sfntTable","checkSumAdjusted","fontToTable","searchTag","arr","imin","imax","imid","binSearch","Layout","getTable","layout","createDefaultTable","getScriptNames","map","getDefaultScriptName","hasLatn","getScriptTable","scr","splice","getLangSysTable","scriptTable","getFeatureTable","featIndexes","allFeatures","params","getLookupTables","featureTable","allLookups","expandCoverage","Substitution","arraysEqual","ar1","ar2","getSubstFormat","defaultSubtable","getSingle","substitutions","lookupTables","idx","sub","by","getAlternates","alternates","getLigatures","ligatures","ligSet","lig","addSingle","substitution","coverageGlyph","addAlternate","addLigature","ligComponents","ligatureTable","getFeature","test","add","isBrowser","window","nodeBufferToArrayBuffer","ab","ArrayBuffer","view","arrayBufferToNodeBuffer","Buffer","checkArgument","expression","instructionTable","execGlyph","execComponent","Hinting","_fpgmState","_prepState","_errorState","roundOff","roundToGrid","sign","roundToDoubleGrid","roundToHalfGrid","roundUpToGrid","ceil","roundDownToGrid","roundSuper","period","srPeriod","phase","srPhase","threshold","srThreshold","trunc","xUnitVector","axis","distance","o1","o2","xo","interpolate","rp1","rp2","pv","do1","do2","doa1","doa2","dm1","dm2","setRelative","normalSlope","NEGATIVE_INFINITY","rp","org","rpx","rpy","yo","rpdx","rpdy","slope","touch","xTouched","touched","untouch","yUnitVector","POSITIVE_INFINITY","yTouched","freeze","UnitVector","pvns","fvs","getUnitVector","HPoint","prevPointOnContour","nextPointOnContour","preventExtensions","nextTouched","prevTouched","HPZero","defaultState","cvCutIn","deltaBase","deltaShift","minDis","autoFlip","State","env","prog","zp0","zp1","zp2","rp0","fv","dpv","ppem","prepState","fpgmState","fpgm","funcs","DEBUG","step","prep","oCvt","cvt","gZone","state","cg","gz","cc","pi","gLen","inhibitGridFit","z0","z1","z2","pLen","cp","sp","np","ins","ip","initTZone","tZone","handleElse","nesting","SVTCA","SPVTCA","SFVTCA","SPVTL","p2i","p1i","SFVTL","SPVFS","SFVFS","GPV","GFV","SFVTPV","ISECT","pa0i","pa1i","pb0i","pb1i","pa0","pa1","pb0","pb1","x3","y3","x4","y4","div","f1","f2","SRP0","SRP1","SRP2","SZP0","SZP1","SZP2","SZPS","SLOOP","RTG","RTHG","SMD","ELSE","JMPR","SCVTCI","DUP","POP","CLEAR","SWAP","DEPTH","LOOPCALL","fn","cip","cprog","CALL","CINDEX","MINDEX","FDEF","ipBegin","MDAP","IUP","pp","SHP","rpi","SHC","ci","SHZ","z","SHPIX","IP","rp1i","rp2i","MSIRP","ALIGNRP","rp0i","RTDG","MIAP","cv","NPUSHB","NPUSHW","w","WS","store","RS","WCVTP","RCVT","cvte","GC","MD","pi2","pi1","MPPEM","FLIPON","LT","e2","e1","LTEQ","GT","GTEQ","EQ","NEQ","ODD","EVEN","IF","EIF","AND","OR","NOT","DELTAP123","ds","arg","appem","mag","SDB","SDS","ADD","SUB","DIV","MUL","ABS","NEG","FLOOR","CEILING","ROUND","WCVTF","DELTAC123","SROUND","S45ROUND","ROFF","RUTG","RDTG","SCANCTRL","SDPVTL","GETINFO","sel","ROLL","MAX","MIN","SCANTYPE","INSTCTRL","ignoreCvt","PUSHB","PUSHW","MDRP_MIRP","indirect","setRp0","keepD","ro","md","od","bind","empty","styleName","designer","designerURL","manufacturer","manufacturerURL","license","licenseURL","copyright","trademark","weightClass","usWeightClasses","MEDIUM","widthClass","usWidthClasses","fsSelectionValues","REGULAR","supported","_hinting","outlinesFormat","charToGlyph","stringToGlyphs","defaultRenderOptions","indexes","manyToOne","liga","rlig","compCount","notdef","nameToGlyph","getKerningValue","leftGlyph","rightGlyph","gposKerning","getGposKerningValue","kerningPairs","kerning","forEachGlyph","callback","kerningValue","letterSpacing","tracking","fullPath","gX","gY","gFontSize","glyphPath","getPaths","glyphPaths","getAdvanceWidth","validate","warnings","_this","assertNamePresent","englishName","trim","toTables","toBuffer","warn","toArrayBuffer","intArray","download","fileName","arrayBuffer","requestFileSystem","webkitRequestFileSystem","TEMPORARY","fs","getFile","fileEntry","createWriter","writer","blob","Blob","write","addEventListener","location","href","toURL","err","writeFileSync","ITALIC","UNDERSCORE","NEGATIVE","OUTLINED","STRIKEOUT","BOLD","USER_TYPO_METRICS","WWS","OBLIQUE","ULTRA_CONDENSED","EXTRA_CONDENSED","CONDENSED","SEMI_CONDENSED","SEMI_EXPANDED","EXPANDED","EXTRA_EXPANDED","ULTRA_EXPANDED","THIN","EXTRA_LIGHT","LIGHT","NORMAL","SEMI_BOLD","EXTRA_BOLD","BLACK","addName","nameString","JSON","stringify","nameKey","makeFvarAxis","minValue","defaultValue","maxValue","parseFvarAxis","makeFvarInstance","inst","axes","axisTag","coordinates","parseFvarInstance","makeFvarTable","fvar","instances","offsetToData","parseFvarTable","axisCount","axisSize","instanceCount","instanceSize","instanceStart","parseTaggedListTable","parseCoverageTable","parseClassDefTable","glyphID","rangeCount","startGlyphs","endGlyphs","classValues","parsePairPosSubTable","coverageOffset","valueFormat1","valueFormat2","value1","value2","sharedPairSets","pairSetCount","pairSet","pairSetOffsets","firstGlyph","pairSetOffset","sharedPairSet","pairValueCount","secondGlyph","pairs","classDef1Offset","classDef2Offset","class1Count","class2Count","getClass1","getClass2","kerningMatrix","kerningRow","covered","class1","class2","parseLookupTable","subTableCount","subTableOffsets","pairPosSubTable","parseGposTable","lookupListOffset","lookupCount","lookupTableOffsets","lookupListAbsoluteOffset","gpos","parseWindowsKernTable","subtableVersion","nPairs","leftIndex","rightIndex","parseMacKernTable","nTables","parseKernTable","kern","parseLocaTable","shortVersion","parseFn","glyphOffsets","glyphOffset","loadFromFile","readFile","loadFromUrl","url","request","XMLHttpRequest","responseType","onload","status","statusText","response","onerror","send","parseOpenTypeTableEntries","tableEntries","checksum","compression","parseWOFFTableEntries","compLength","origLength","compressedLength","uncompressTable","tableEntry","inBuffer","outBuffer","parseBuffer","signature","flavor","cffTableEntry","fvarTableEntry","glyfTableEntry","gposTableEntry","gsubTableEntry","hmtxTableEntry","kernTableEntry","locaTableEntry","nameTableEntry","metaTableEntry","locaTable","locaOffsets","glyfTable","kernTable","gposTable","gsubTable","fvarTable","load","isNode$$1","loadFn","loadSync","readFileSync","_parse","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","self","Base","hidden","array","describe","getOwnPropertyDescriptor","forEach","iter","forIn","assign","dst","src","each","obj","desc","inject","beans","preserve","beansNames","substring","isFunc","bean","match","toLowerCase","isPlainObject","writable","part","statics","ctor","proto","initialize","clone","pick","_id","_class","Formatter","instance","number","join","getClassName","importJSON","json","exportJSON","toJSON","serialize","props","exclude","filter","_prioritize","obj1","obj2","read","peek","__index","readIndex","_readIndex","readNull","__read","filtered","__filtered","remain","readList","readNamed","getNamed","hasObject","__unfiltered","_hasObject","hasNamed","prioritize","processed","handleKey","isPlainValue","asString","compact","dictionary","isRoot","formatter","precision","definitions","references","item","ref","unshift","_serialize","_compactSerialize","deserialize","_data","_setDictionary","_isRoot","isFirst","hasDictionary","isDictionary","args","target","useTarget","Item","Layer","insert","items","remove","append","_index","removed","capitalize","toUpperCase","camelize","chr","hyphenate","Emitter","on","func","types","_eventTypes","handlers","_callbacks","install","uninstall","once","emit","event","setTarget","currentTarget","stop","responds","attach","detach","fire","_installEvents","events","_events","isString","settings","applyMatrix","insertItems","handleSize","hitTolerance","project","projects","tools","_scopes","support","CanvasProvider","getContext","nativeDash","nativeBlendModes","BlendMode","nativeModes","release","agent","user","navigator","userAgent","os","platform","browser","rv","chrome","versionNumber","webkit","atom","getView","_view","getPaper","execute","PaperScript","View","updateFocus","scope","that","setup","element","Project","createCanvas","height","getCanvas","activate","clear","handleAttribute","el","attr","getAttribute","hasAttribute","PaperScopeItem","_scope","_list","_reference","isActive","multiplier","pair","val1","val2","separator","rectangle","Numerical","abscissas","weights","LOG2E","EPSILON","MACHINE_EPSILON","clamp","getDiscriminant","split","hi","lo","D","E","ad","bd","cd","dp","q","dq","getNormalizationFactor","norm","CURVETIME_EPSILON","GEOMETRIC_EPSILON","TRIGONOMETRIC_EPSILON","KAPPA","isZero","integrate","f","A","B","Ax","findRoot","df","tolerance","fx","nx","solveQuadratic","roots","Infinity","Q","R","boundless","minB","maxB","solveCubic","c2","qd","evaluate","tmp","td","rd","UID","_pools","Point","arg0","arg1","reading","hasY","_set","setAngle","angle","getLength","setLength","_angle","cos","sin","getAngle","getAngleInRadians","setAngleInRadians","getAngleInDegrees","setAngleInDegrees","atan2","dot","acos","getQuadrant","getDirectedAngle","cross","getDistance","squared","normalize","current","rotate","center","subtract","matrix","_transformPoint","multiply","divide","modulo","negate","isInside","Rectangle","contains","isClose","isCollinear","isColinear","isOrthogonal","isInQuadrant","point1","point2","random","LinkedPoint","owner","setter","_x","_y","_owner","_setter","_dontNotify","getX","setX","getY","setY","isSelected","_selection","_getSelection","setSelected","selected","_changeSelection","Size","hasHeight","size1","size2","LinkedSize","_width","_height","getWidth","setWidth","getHeight","setHeight","arg2","arg3","from","to","frm","rect","rt","getPoint","_dontLink","setPoint","getSize","_fw","_fh","setSize","sx","_sx","sy","_sy","h","getLeft","setLeft","left","getTop","setTop","top","getRight","setRight","right","getBottom","setBottom","bottom","getCenterX","setCenterX","getCenterY","setCenterY","getCenter","setCenter","getArea","_containsRectangle","_containsPoint","intersects","intersect","unite","include","expand","hor","ver","parts","xFirst","LinkedRectangle","internal","Matrix","ok","_a","_b","_c","_d","_tx","_ty","reset","tx","ty","_changed","getValues","_applyMatrix","mx","recursively","_setApplyMatrix","isIdentity","translate","shear","skew","toRadians","tan","a1","c1","d1","a2","d2","tx2","ty2","prepend","tx1","ty1","appended","prepended","invert","det","inverted","concatenate","preConcatenate","chain","_shiftless","_orNullIfIdentity","isInvertible","isSingular","_transformCoordinates","_transformCorners","coords","_transformBounds","bounds","inverseTransform","_inverseTransform","decompose","degrees","asin","translation","getTranslation","rotation","scaling","skewing","getScaling","getRotation","applyToContext","prop","Line","arg4","asVector","_px","_py","_vx","_vy","getVector","isInfinite","getSide","getSignedDistance","p1x","p1y","v1x","v1y","p2x","p2y","v2x","v2y","u1","u2","uMin","uMax","vx","vy","ccw","_children","_namedChildren","_activeLayer","_currentStyle","Style","_selectionItems","_selectionCount","_updateVersion","_needsUpdate","_requested","_autoUpdate","requestUpdate","changes","_changes","changesById","_changesById","children","getCurrentStyle","setCurrentStyle","style","getIndex","getOptions","getLayers","getActiveLayer","getSymbolDefinitions","ids","getItems","class","SymbolItem","definition","_definition","getSymbols","getSelectedItems","selectionItems","selection","isInserted","_updateSelection","selectAll","setFullySelected","deselectAll","addLayer","layer","insertLayer","_remove","_setProject","setName","_insertItem","_created","NO_INSERT","insertChild","_getItems","getItem","removeOn","sets","_removeSets","mousedrag","other","pixelRatio","save","param","viewMatrix","matrices","updateMatrix","restore","_drawSelection","_serializeFields","_canApplyMatrix","_canScaleStroke","_pivot","_visible","_blendMode","_opacity","_locked","_guide","_clipMask","_selectBounds","_selectChildren","pivot","visible","blendMode","opacity","locked","guide","clipMask","_countItemEvent","onFrame","_animateItem","onLoad","onError","_itemHandlers","_initialize","hasProps","_matrix","_parent","_style","parent","Group","_defaults","symbol","_symbol","cacheParent","_project","_bounds","_position","_decomposed","_globalMatrix","_clearBoundsCache","getId","getName","_removeNamed","_getOwner","namedChildren","getStyle","setStyle","getSelection","setSelection","isFullySelected","isClipMask","setClipMask","setFillColor","setStrokeColor","getData","setData","getPosition","getBounds","setPosition","getPivot","setPivot","getStrokeBounds","getHandleBounds","handle","getInternalBounds","hasMatrix","opts","_boundsOptions","getStrokeScaling","cacheItem","_getCachedBounds","setBounds","_backup","_getBounds","_updateBoundsCache","_getBoundsCacheKey","noInternal","cached","nonscaling","hasStroke","_getStrokeMatrix","_item","getViewMatrix","_boundsCache","cache","_decompose","decomposed","setRotation","setScaling","getMatrix","setMatrix","getGlobalMatrix","_dontClone","updateVersion","getApplyMatrix","setApplyMatrix","getTransformContent","setTransformContent","getProject","installEvents","getLayer","getParent","setParent","addChild","getChildren","setChildren","removeChildren","addChildren","getFirstChild","getLastChild","getNextSibling","getPreviousSibling","_equals","copy","deep","copyAttributes","copyContent","insertAbove","orig","excludeMatrix","rasterize","resolution","getResolution","topLeft","getTopLeft","bottomRight","getBottomRight","raster","Raster","canvas","setCanvas","_contains","_asPathItem","getIntersections","hitTest","_hitTest","HitResult","hitTestAll","all","hitTestChildren","_exclude","child","_hitTestChildren","parentViewMatrix","guides","tolerancePadding","_tolerancePadding","_getStrokePadding","checkSelf","hit","checkPoint","checkPosition","checkCenter","checkBounds","_hitTestSelf","hasFill","matches","compare","matchObject","firstOnly","overlapping","inside","recursive","childMatrix","insertChildren","inserted","notifySelf","_insertAt","insertBelow","sendToBack","bringToFront","appendTop","appendBottom","moveAbove","moveBelow","addTo","copyTo","reduce","namedArray","notifyParent","replaceWith","reverseChildren","reverse","isEditable","hasShadow","_getOrder","getList","list1","list2","hasChildren","isAbove","isBelow","isParent","isChild","isDescendant","isAncestor","isSibling","isGroupedWith","_applyRecursively","fillColor","getFillColor","strokeColor","getStrokeColor","_transformContent","decomp","applyRecursively","globalToLocal","localToGlobal","parentToLocal","localToParent","fitBounds","itemRatio","rectRatio","newBounds","_setStyles","toCanvasStyle","getStrokeWidth","strokeJoin","getStrokeJoin","strokeCap","getStrokeCap","miterLimit","getMiterLimit","lineJoin","lineCap","dashArray","getDashArray","dashOffset","getDashOffset","setLineDash","lineDashOffset","mozDash","mozDashOffset","blur","getShadowBlur","getShadowOffset","shadowColor","getShadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","parentStrokeMatrix","globalMatrix","normalBlend","nativeBlend","direct","dontStart","clip","_canComposite","mainCtx","itemOffset","prevOffset","strokeMatrix","clipItem","globalAlpha","globalCompositeOperation","setTransform","_draw","dontFinish","process","_isUpdated","CompoundPath","updated","itemSelected","boundsSelected","positionSelected","_drawSelected","color","getSelectedColor","half","fillRect","hash","_clipItem","_getClipItem","isClipped","setClipped","clipped","Shape","radius","_type","_size","_radius","setType","setRadius","getType","getShape","setShape","getRadius","rad","toPath","toShape","dontPaint","untransformed","isCircle","rx","ry","kappa","cx","cy","getFillRule","getCornerCenter","halfSize","dir","corner","quadrant","isOnEllipseStroke","padding","vector","hitStroke","hitFill","strokeRadius","strokePadding","outer","inner","createShape","Circle","Ellipse","ellipse","_readEllipse","crossOrigin","object","image","getElementById","setImage","setSource","_loaded","getSource","_image","_canvas","_setImage","copyCanvas","drawImage","_crossOrigin","getElement","getLoaded","u","getPpi","getImage","Event","setTimeout","DomEvent","error","complete","naturalWidth","naturalHeight","_context","modify","setContext","context","toDataURL","Image","getCrossOrigin","setCrossOrigin","getSubCanvas","getSubRaster","getAverageColor","PathItem","sampleSize","_sampleContext","clearRect","pixels","getImageData","channels","total","alpha","Color","getPixel","setPixel","_convert","_alpha","imageData","createImageData","putImageData","setImageData","setDefinition","SymbolDefinition","getDefinition","getSymbol","setSymbol","dontCenter","setItem","_dontCenter","place","handles","ends","Segment","arg5","handleIn","handleOut","SegmentPoint","_point","hasHandles","_handleIn","_handleOut","curves","_curves","curve","_closed","getHandleIn","setHandleIn","getHandleOut","setHandleOut","isSmooth","clearHandles","oldSelection","getCurve","_segments","getCurves","getLocation","CurveLocation","_segment1","getNext","smooth","_first","_last","factor","getPrevious","d1_a","d1_2a","d2_a","d2_2a","N","isLast","reversed","removeSegment","handleIn1","handleIn2","handleOut2","handleOut1","change","Curve","arg6","arg7","seg1","seg2","handle1","handle2","segment1","segment2","_segment2","getPoint1","getHandle1","getHandle2","getPoint2","_length","classify","setPoint1","setPoint2","setHandle1","setHandle2","getSegment1","getSegment2","getPoints","getLine","getPart","getPartLength","divideAt","divideAtTime","time","getTimeAt","_setHandles","tMin","tMax","subdivide","setHandles","splitAt","splitAtTime","getLocationAtTime","isTime","straight","h1","h2","x5","y5","x6","y6","x7","y7","x8","y8","x9","y9","getMonoCurves","io","o0","o3","isStraight","coord","getTimeOf","geomEpsilon","getNearestTime","minDist","minT","refine","flip","isFlatEnough","flatness","ux","uy","_addBounds","minPad","maxPad","s1","s2","isLinear","third","hasLength","isHorizontal","getTangentAtTime","isVertical","getLocationAt","_isTime","getParameterAt","getOffsetAtTime","getLocationOf","getOffsetOf","loc","getParameterOf","getNearestLocation","getNearestPoint","methods","_evaluateMethods","getLengthIntegrand","ax","bx","ay","getIterations","normalized","a3","d3","serpentine","hasRoots","t1Ok","t2Ok","forward","rangeLength","diff","guess","getTangent","getWeightedTangent","getNormal","getWeightedNormal","getCurvature","getPeaks","addLocation","locations","overlap","excludeStart","excludeEnd","loc1","loc2","_intersection","addCurveIntersections","recursion","calls","fatLineEpsilon","q0x","q0y","q3x","q3y","dMin","dMax","dp0","dp1","dp2","dp3","hull","getConvexHull","tMinClip","tMaxClip","clipConvexHull","tMinNew","tMaxNew","dq0","dq1","dq2","dq3","dist1","dist2","distRatio","hullTop","hullBottom","clipConvexHullPart","qx","qy","getCurveLineIntersections","addCurveLineIntersections","addLineIntersection","getCurveIntersections","overlaps","getOverlaps","straight1","straight2","before","i1","i2","getLoopIntersection","info","curves1","curves2","matrix1","matrix2","_returnFirst","length1","length2","values2","arrays","curve1","values1","path1","getSquaredLineLength","timeEpsilon","straightBoth","l1","l2","_overlap","_distance","_setCurve","_time","getPointAtTime","_next","_previous","_version","_curve","_segment","_setSegment","getSegment","_offset","_curveOffset","trySegment","getParameter","getCurveOffset","getIntersection","getLastSegment","_ignoreOther","isTouching","inter","curve2","isCrossing","t1Inside","t2Inside","c4","c3","addOffsets","isInRange","getPointAt","v4","a4","hasOverlap","merge","search","found","path2","expanded","compound","pathData","isClockwise","setClockwise","clockwise","setPathData","relative","previous","control","getCoord","command","lower","move","cubicCurveTo","arcTo","winding","_getWinding","onPath","windingL","windingR","getCrossings","minLoc","isPath","itemsFrom","itemsTo","setClosed","paths1","paths2","matched","closed","setSegments","_segmentSelection","_area","getSegments","fullySelected","last","_add","getFirstSegment","_countCurves","getFirstCurve","getLastCurve","isClosed","getPathData","_precision","curX","curY","inX","inY","outX","outY","skipLine","segs","_adjustCurves","insertSegment","addSegments","insertSegments","removeSegments","_includeCurves","area","_selectSegments","newSelection","last1","last2","first2","first1","simplify","flatten","flattener","PathFlattener","PathFitter","fit","_default","asymmetric","paddingLeft","paddingRight","knots","n_1","rf","hx","hy","topCenter","seg3","seg4","isArc","pt1","pt2","shape","pos1","pos2","end1","end2","start2","numSegments","cap","hitCurves","isCloseEnough","checkSegmentPoint","seg","anchor","checkSegmentPoints","addToArea","checkSegmentStroke","isJoin","_addBevelJoin","_addSquareCap","drawHandles","pX","pY","drawHandle","hX","hY","drawSegments","drawSegment","dashLength","drawPart","getCurrentSegment","moveBy","through","extent","middle","large","rxSq","rySq","xSq","ySq","throughSide","centerSide","ext","inc","_in","lineBy","curveBy","parameter","cubicCurveBy","quadraticCurveBy","arcBy","method","prevCoords","processSegment","joinBounds","addRound","addJoin","addCap","phi","isArea","normal1","getNormalAtTime","normal2","normal","joinPadding","joinRadius","SQRT2","paddingX","paddingY","xn","xx","yn","yx","ellipseSegments","createPath","createEllipse","bl","getBottomLeft","tl","tr","getTopRight","br","RoundRectangle","Oval","Arc","RegularPolygon","sides","three","Star","radius1","radius2","paths","getCurrentPath","operators","preparePath","resolve","resolveCrossings","reorient","createResult","traceBoolean","operation","trace","splitBoolean","_path1","_path2","operator","crossings","divideLocations","collect","_overlapsOnly","propagateWinding","_winding","tracePaths","reorientPaths","added","addPath","linkIntersections","clearCurveHandles","container","sorted","entry1","getInteriorPoint","containerWinding","entry2","clearLater","results","clearCurves","clearLookup","renormalizeLocs","prevCurve","prevTime","origTime","newCurve","getWinding","dontFlip","ia","pa","po","windingEpsilon","qualityEpsilon","paL","paR","pathWindingL","pathWindingR","onAnyPath","quality","vPrev","vClose","addWinding","a0","windingPrev","a3Prev","handleCurve","monoCurves","totalLength","curveLength","operand","SQRT1_2","wind","starts","isValid","_visited","isStart","visitPath","getCrossingSegments","collectStarts","nextInter","_prev","inter1","inter2","over1","over2","valid","finished","branches","branch","visited","hasOverlaps","hasCrossings","intersections","nonZero","intercepts","mv","mo0","mo3","maxRecursion","ignoreStraight","minSpan","addCurve","computeParts","halves","tMid","_get","fitCubic","tan1","tan2","uPrime","chordLengthParameterize","maxError","parametersInOrder","generateBezier","findMaxError","reparameterize","tanCenter","C","X","detC0C1","alpha1","alpha2","detC0X","detXC1","c0","segLength","eps","degree","maxDist","P","TextItem","content","_content","_lines","setContent","getContent","getCharacterStyle","setCharacterStyle","getParagraphStyle","setParagraphStyle","PointText","lines","leading","getLeading","getFontStyle","textAlign","getJustification","fillText","strokeText","numLines","justification","getTextWidth","gray","rgb","hsb","hsl","gradient","componentParsers","colorCache","colorCtx","fromCSS","hsbIndices","converters","g","achromatic","t3s","t3","properties","_components","Gradient","_removeOwner","_addOwner","_properties","argType","parsers","stops","radial","getComponents","_canvasStyle","converter","convert","getAlpha","setAlpha","hasAlpha","col","isGradient","toCSS","hex","_stops","origin","destination","highlight","inverse","canvasGradient","_radial","createRadialGradient","createLinearGradient","addColorStop","_color","_types","components1","components2","setStops","setRadial","_owners","getStops","GradientStop","getRadial","stops1","stops2","rampPoint","setColor","setOffset","getRampPoint","setRampPoint","getColor","itemDefaults","fillRule","strokeScaling","shadowOffset","selectedColor","groupDefaults","fontWeight","textDefaults","_values","isColor","isPoint","old","_dontMerge","childValue","WindingRule","isStyle","style1","style2","secondary","defaults2","getFontSize","getFontWeight","getFontFamily","getFont","setFont","getPixelSize","DomElement","handlePrefix","prefixes","suffix","prefix","getStyles","doc","nodeType","ownerDocument","defaultView","getComputedStyle","viewport","body","html","documentElement","getBoundingClientRect","clientLeft","clientTop","pageXOffset","scrollLeft","pageYOffset","scrollTop","getViewportBounds","innerWidth","clientWidth","innerHeight","clientHeight","isInvisible","isInView","getPrefixed","setPrefixed","removeEventListener","targetTouches","changedTouches","pageX","clientX","pageY","clientY","getTarget","srcElement","getRelatedTarget","relatedTarget","toElement","requestAnimationFrame","nativeRequest","requested","callbacks","timer","handleCallbacks","functions","setInterval","getCanvasSize","_viewEvents","none","userDrag","userSelect","touchCallout","contentZooming","tapHighlightColor","_windowEvents","resize","setViewSize","Stats","_stats","stats","domElement","appendChild","_element","_pixelRatio","devicePixelRatio","_setElementSize","_viewSize","_views","_viewsById","_focused","_frameItems","_frameItemCount","_itemEvents","native","virtual","node","_animate","play","pause","_count","getAutoUpdate","setAutoUpdate","autoUpdate","update","_handleFrame","now","animate","_handleFrameItems","getPixelRatio","getViewSize","isVisible","parentNode","temp","createElement","removeChild","getZoom","setZoom","zoom","scrollBy","projectToView","viewToProject","getEventPoint","CanvasView","prevFocus","tempFocus","dragging","mouseDown","handleMouseMove","_handleMouseEvent","mousedown","mousemove","mouseup","pointerEnabled","msPointerEnabled","viewEvents","docEvents","mouseout","nodeName","scroll","called","prevented","fallbacks","doubleclick","wasInView","overView","downPoint","lastPoint","downItem","overItem","dragItem","clickItem","clickTime","dblClick","emitMouseEvent","prevPoint","stopItem","stopped","mouseEvent","MouseEvent","fallback","emitMouseEvents","hitItem","itemEventsMap","click","mouseenter","mouseleave","itemEvents","hitItems","nativeMove","tool","inView","mouse","drag","down","up","preventDefault","_handleKeyEvent","character","keyEvent","KeyEvent","HTMLCanvasElement","deviceRatio","backingStoreRatio","firefox","prevFont","measureText","stopPropagation","getTimeStamp","timeStamp","getModifiers","Key","modifiers","keyLookup","charLookup","keyMap","charMap","metaFixMap","downKey","alt","capsLock","space","option","mac","getKey","keyIdentifier","keyCode","keydown","altKey","metaKey","ctrlKey","keypress","charCode","keyup","isDown","ToolEvent","_choosePoint","toolPoint","getLastPoint","_lastPoint","setLastPoint","getDownPoint","_downPoint","setDownPoint","getMiddlePoint","_middlePoint","setMiddlePoint","middlePoint","getDelta","_delta","setDelta","getCount","setCount","Tool","_moveCount","_downCount","getMinDistance","_minDistance","setMinDistance","minDistance","_maxDistance","getMaxDistance","setMaxDistance","maxDistance","getFixedDistance","setFixedDistance","Http","xhr","async","mimeType","overrideMimeType","responseText","canvases","sr","sg","sb","sa","bg","bb","ba","dr","dg","db","getLum","setLum","mn","lmn","ln","mxl","getSat","setSat","modes","screen","overlay","darken","lighten","difference","exclusion","hue","saturation","luminosity","negation","mode","srcContext","dstContext","srcCanvas","dstData","SvgElement","xmlns","xlink","attributeNamespace","attributes","namespace","getAttributeNS","setAttributeNS","SvgStyles","true","false","attribute","fromSVG","exportFilter","getTransform","exportGroup","childNode","exportSVG","exportRaster","embedImages","exportPath","matchShapes","exportShape","exportCompoundPath","exportSymbolItem","definitionItem","viewBox","overflow","exportGradient","gradientNode","getGradient","getOrigin","getDestination","getHighlight","fy","gradientUnits","stopColor","exportText","textContent","exporters","applyStyle","visibility","svgs","__id","typeId","exportDefinitions","defs","insertBefore","firstChild","XMLSerializer","serializeToString","exporter","onExport","setOptions","rootSize","getValue","allowNull","allowPercent","convertValue","importGroup","nodes","childNodes","isClip","isDefs","currentStyle","applyAttributes","querySelectorAll","importNode","importPoly","importPath","importGradient","scaleToBounds","_scaleToBounds","importers","clippath","polygon","polyline","lineargradient","radialgradient","use","circle","applyTransform","transforms","applyOpacity","gradientTransform","setVisible","display","percent","styles","group","tagName","isElement","nextSibling","importer","onImport","expandShapes","importSVG","DOMParser","parseFromString","File","reader","FileReader","readAsText","Symbol","PlacedSymbol","mergeFont","merged","cb","fetch","encodeURIComponent","family","template","headers","then","fontinfo","ot","glyphMap","altMap","_subset","fontMap","addGlyph","addGlyphs","fonts","styleElement","styleSheet","styleSheets","ss","ownerNode","_lastSubset","normalizeSubset","lastIndexOf","getGlyphSubset","subset","setAlternateFor","font0","font1","coef","updateSVGData","updateOTCommands","shouldMerge","updateOT","shouldUpdateCommands","combineOTCommands","importOT","otFont","otGlyph","_URL","URL","webkitURL","addToFonts","enFamilyName","noMerge","clearTimeout","mergeTimeout","delete","fontface","FontFace","timeoutRef","mergedBuffer","createObjectURL","fontObjectURL","revokeObjectURL","deleteRule","insertRule","triggerDownload","filename","onloadend","dispatchEvent","readAsDataURL","bufferToDownload","anchors","parentAnchors","_base","getOwnPropertyNames","addAnchor","addAnchors","addParentAnchor","glyph0","glyph1","svgData","combined","combineTo","isPrepared","outline","_preserve","fromPath","_clone","outline0","outline1","reducing","exportReversed","firstSource","TypeError","nextSource","keysArray","nextIndex","nextKey","polyfill","defineProperties","firstNode","lastNode","_updateData","pushSimple","pushBezier","ctrl1","ctrl2","plumin","require","DepTree","cloneDeep","updateUtils","Utils","_","ufoToPaper","parameters","parentParameters","lib","transformOrigin","solvingOrder","fontFromSrc","filteredSrc","controls","presets","createUpdaters","mergeStatic","solveDependencyTree","glyphFromSrc","fontSrc","naive","embed","anchorSrc","contourSrc","contourIdx","addContour","nodeSrc","nodeIdx","componentLists","embedComponents","componentSrc","selectGlyphComponent","componentName","annotator","componentId","chosen","multiple","addComponent","optionPoint","cursor","propFromCursor","_dependencies","_parameters","_updaters","leaf","_operation","createUpdater","updaterCache","sOperation","Function","depTree","dependencyTree","order","simplified","simplifyResolutionOrder","parentSrc","leafSrc","currCursor","dep","rdeg","transformsToMatrix","Float32Array","rslt","updateParameters","paramsToUpdate","updateIndividualParameters","groupName","needed","handleGroup","updateProperties","erroredPreviously","errored","_cursor","propName","manualChanges","cursors","cursorName","cursorKeys","validCursor","cursorString","tmpObj","cursorKeyArray","tmpSrc","oldUpdaters","newCursor","manual","dirty","updateXscenderProperties","xscenderProperties","find","psProto","parametricFont","glyphSrc","_glyph","altList","oldGlyph","resetComponents","_drawOld","realViewMatrix","changeCursorsToManual","glyphUnicode","setAlternatesFor","nextGlyph","relatedGlyphs","relatedGlyph","alternateName","_params","oldParams","indivParam","groups","baseSpacingLeft","spacingLeft","baseSpacingRight","spacingRight","glyphSpecialProps","propsToUpdate","glyphComponentChoice","componentsChoices","componentFilter","comp","availableComponent","compAvail","changeComponent","skeleton","expandedTo","_node","_contour","glyphWidth","componentToDelete","prepareDataUpdate","expandedFrom","autoExpandableNodeSrc","inSkeleton","autoExpandedNodeSrc","side","expandedNodeUpdater","skeletonCopier","explicitExpandableNodeSrc","explicitExpandedNodeSrc","expandedContourSrc","curviness","prepareContour","updateContour","additionalContours","leftContour","rightContour","leftNodes","rightNodes","leftNodesSrc","rightNodesSrc","leftSrc","rightSrc","typeIn","typeOut","addContours","isLeft","distr","_dirOut","_dirIn","tensionIn","tensionOut","tension","lineAngle","startCtrl","endCtrl","startType","endType","startTension","endTension","startDir","endDir","rri","rayRayIntersection","_expand","dirIn","dirOut","lineLineIntersection","p4","piOver2","onLine","pointOnCurve","pointHandleOut","pointHandleIn","distanceFromOut","inverseOrientation","linePrecision","previousPoint","getPointOnCurve","inverseT","splitBezier","align","lineStart","lineEnd","crt","lineCurveIntersection","pb","pc","pd","q2","discriminant","mp3","mp33","cosphi","crtr","sd","vectorFromPoints","int","makeCurveInsideSerif","pAnchors","serifHeight","serifWidth","serifMedian","serifCurve","serifTerminal","thickness","midWidth","serifRotate","yDir","xDir","midStumpOrient","inverseMidStump","realThickness","rotateRad","rotationAngle","baseWidth","baseHeight","stumpOpposite","opposite","stumpBase","stumpVector","stumpNorm","stumpAngle","rotationCenter","bottomLeft","splitBase","inverseOrder","curveEnd","serifCenter","splitCurveEnd","serifDirection","serifBasis","serifRadDirection","pointOnSerif","pointWithCurve","normalToCurve","curveRatio","angleInRadians","leftEdge","rightEdge","serifRoot","rootVector","medianVector","terminalVector","midPoint","midStump"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA,CAAC,QAASA,iCAAT,CAA0CC,IAA1C,CAAgDC,OAAhD,CAAyD,CACzD,GAAG,IAAH,CACCC,OAAOC,OAAP,CAAiBF,SAAjB,CADD,IAEK,IAAG,MAAOG,OAAP,GAAkB,UAAlB,EAAgCA,OAAOC,GAA1C,C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;;ACjBA;;AAEA;AACA;;AAEA;;;;;;;ACLA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iDAAiD,eAAe;;AAEhE;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5nBA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;;AAEA;AACA;AACA;AACA;AA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CAAhB,GAAoB,CAApB,GAAwB,CAAC,CAApC;;AAEAwL,SAAK0jG,EAAL,CAASlvG,IAAT,IAAkBg0B,OAAO7gC,KAAKqf,GAAL,CAAUrf,KAAKinB,GAAL,CAAS5O,KAAK0jG,EAAL,CAASlvG,IAAT,CAAT,CAAV,EACxB7M,KAAKinB,GAAL,CAASw5B,IAAI8jE,SAAJ,CAAc,CAAd,EAAiBlhH,KAAjB,CACRgV,KAAK0jG,EADG,EAER,CACClvG,IADD,EACO,IADP,EACa,IADb,EACmB,IADnB,EACyBk1G,KADzB,EAEEv2G,MAFF,CAGC,CAAEi1C,IAAI6jE,WAAJ,IAAmB,EAArB,EAA0BxnF,GAA1B,CAA8B,UAASvL,KAAT,EAAgB;AAC7C,YAAO8oF,MAAM9oF,KAAN,KAAgBkM,OAAOlM,KAAP,CAAvB;AACA,KAFD,CAHD,CAFQ,CAAT,CADwB,CAAzB;AAYA,IAlBD;AAmBA,GArBD;AAsBA;AACD,CAhCD;;AAkCAx3B,OAAOC,OAAP,GAAiB+nH,KAAjB,C;;;;;;ACtxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB;AACA,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO,WAAW;AAC7B,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA;AACA,mBAAmB,SAAS,GAAG,SAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACntDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,EAAE;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClFA;AACA;;AAEA;;;;;;;;ACHA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QA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;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,aAAa;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,EAAE;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA,MAAM,8CAA8C;AACpD,MAAM;AACN;AACA;AACA,gCAAgC,kBAAkB,EAAE;AACpD;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB,QAAQ,OAAO,SAAS,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB;AACA;AACA,0BAA0B,gBAAgB,SAAS,GAAG;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA,MAAM,OAAO,SAAS,EAAE;AACxB,MAAM,OAAO,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC7zEA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACNA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACNA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC1BA;;AAEA;AACA;;AAEA;;;;;;;ACLA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClFA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3DA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;;AAEA;AACA;;AAEA;;;;;;;ACLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,+CAA+C;AAChF;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/GA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7CA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzDA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AClBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;;;;;;ACzBA;;AAEA;AACA;;AAEA;;;;;;;ACLA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;ACrBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;AC3BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA,MAAM,+CAA+C;AACrD,MAAM,gDAAgD;AACtD,MAAM;AACN;AACA;AACA,8BAA8B,mBAAmB,EAAE;AACnD;AACA;AACA;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzCA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA,MAAM,qCAAqC;AAC3C,MAAM,qCAAqC;AAC3C,MAAM;AACN;AACA;AACA,mCAAmC,2BAA2B,EAAE;AAChE;AACA;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB,QAAQ,OAAO,SAAS,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB;AACA;AACA,0BAA0B,gBAAgB,SAAS,GAAG;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACxEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA,MAAM,OAAO,SAAS,EAAE;AACxB,MAAM,OAAO,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACnCA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"prototypo.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"prototypo\"] = factory();\n\telse\n\t\troot[\"prototypo\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 132);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap aa73b97aaf9547687e1d","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_root.js\n// module id = 0\n// module chunks = 0","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isArray.js\n// module id = 1\n// module chunks = 0","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getNative.js\n// module id = 2\n// module chunks = 0","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseGetTag.js\n// module id = 3\n// module chunks = 0","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isObjectLike.js\n// module id = 4\n// module chunks = 0","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"plumin\"] = factory();\n\telse\n\t\troot[\"plumin\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar opentype = __webpack_require__(2);\n\tvar paper = __webpack_require__(4);\n\tvar Font = __webpack_require__(7);\n\tvar Glyph = __webpack_require__(8);\n\tvar Outline = __webpack_require__(9);\n\tvar Path = __webpack_require__(11);\n\tvar Node = __webpack_require__(12);\n\t\n\tpaper.PaperScope.prototype.Font = Font;\n\tpaper.PaperScope.prototype.Glyph = Glyph;\n\tpaper.PaperScope.prototype.Outline = Outline;\n\tpaper.PaperScope.prototype.Path = Path;\n\tpaper.PaperScope.prototype.Node = Node;\n\t\n\tpaper.opentype = opentype;\n\t\n\tmodule.exports = paper;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/**\n\t * https://opentype.js.org v0.7.3 | (c) Frederik De Bleser and other contributors | MIT License | Uses tiny-inflate by Devon Govett\n\t */\n\t\n\t(function (global, factory) {\n\t\t true ? factory(exports) :\n\t\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t\t(factory((global.opentype = global.opentype || {})));\n\t}(this, (function (exports) { 'use strict';\n\t\n\tvar TINF_OK = 0;\n\tvar TINF_DATA_ERROR = -3;\n\t\n\tfunction Tree() {\n\t  this.table = new Uint16Array(16);   /* table of code length counts */\n\t  this.trans = new Uint16Array(288);  /* code -> symbol translation table */\n\t}\n\t\n\tfunction Data(source, dest) {\n\t  this.source = source;\n\t  this.sourceIndex = 0;\n\t  this.tag = 0;\n\t  this.bitcount = 0;\n\t  \n\t  this.dest = dest;\n\t  this.destLen = 0;\n\t  \n\t  this.ltree = new Tree();  /* dynamic length/symbol tree */\n\t  this.dtree = new Tree();  /* dynamic distance tree */\n\t}\n\t\n\t/* --------------------------------------------------- *\n\t * -- uninitialized global data (static structures) -- *\n\t * --------------------------------------------------- */\n\t\n\tvar sltree = new Tree();\n\tvar sdtree = new Tree();\n\t\n\t/* extra bits and base tables for length codes */\n\tvar length_bits = new Uint8Array(30);\n\tvar length_base = new Uint16Array(30);\n\t\n\t/* extra bits and base tables for distance codes */\n\tvar dist_bits = new Uint8Array(30);\n\tvar dist_base = new Uint16Array(30);\n\t\n\t/* special ordering of code length codes */\n\tvar clcidx = new Uint8Array([\n\t  16, 17, 18, 0, 8, 7, 9, 6,\n\t  10, 5, 11, 4, 12, 3, 13, 2,\n\t  14, 1, 15\n\t]);\n\t\n\t/* used by tinf_decode_trees, avoids allocations every call */\n\tvar code_tree = new Tree();\n\tvar lengths = new Uint8Array(288 + 32);\n\t\n\t/* ----------------------- *\n\t * -- utility functions -- *\n\t * ----------------------- */\n\t\n\t/* build extra bits and base tables */\n\tfunction tinf_build_bits_base(bits, base, delta, first) {\n\t  var i, sum;\n\t\n\t  /* build bits table */\n\t  for (i = 0; i < delta; ++i) { bits[i] = 0; }\n\t  for (i = 0; i < 30 - delta; ++i) { bits[i + delta] = i / delta | 0; }\n\t\n\t  /* build base table */\n\t  for (sum = first, i = 0; i < 30; ++i) {\n\t    base[i] = sum;\n\t    sum += 1 << bits[i];\n\t  }\n\t}\n\t\n\t/* build the fixed huffman trees */\n\tfunction tinf_build_fixed_trees(lt, dt) {\n\t  var i;\n\t\n\t  /* build fixed length tree */\n\t  for (i = 0; i < 7; ++i) { lt.table[i] = 0; }\n\t\n\t  lt.table[7] = 24;\n\t  lt.table[8] = 152;\n\t  lt.table[9] = 112;\n\t\n\t  for (i = 0; i < 24; ++i) { lt.trans[i] = 256 + i; }\n\t  for (i = 0; i < 144; ++i) { lt.trans[24 + i] = i; }\n\t  for (i = 0; i < 8; ++i) { lt.trans[24 + 144 + i] = 280 + i; }\n\t  for (i = 0; i < 112; ++i) { lt.trans[24 + 144 + 8 + i] = 144 + i; }\n\t\n\t  /* build fixed distance tree */\n\t  for (i = 0; i < 5; ++i) { dt.table[i] = 0; }\n\t\n\t  dt.table[5] = 32;\n\t\n\t  for (i = 0; i < 32; ++i) { dt.trans[i] = i; }\n\t}\n\t\n\t/* given an array of code lengths, build a tree */\n\tvar offs = new Uint16Array(16);\n\t\n\tfunction tinf_build_tree(t, lengths, off, num) {\n\t  var i, sum;\n\t\n\t  /* clear code length count table */\n\t  for (i = 0; i < 16; ++i) { t.table[i] = 0; }\n\t\n\t  /* scan symbol lengths, and sum code length counts */\n\t  for (i = 0; i < num; ++i) { t.table[lengths[off + i]]++; }\n\t\n\t  t.table[0] = 0;\n\t\n\t  /* compute offset table for distribution sort */\n\t  for (sum = 0, i = 0; i < 16; ++i) {\n\t    offs[i] = sum;\n\t    sum += t.table[i];\n\t  }\n\t\n\t  /* create code->symbol translation table (symbols sorted by code) */\n\t  for (i = 0; i < num; ++i) {\n\t    if (lengths[off + i]) { t.trans[offs[lengths[off + i]]++] = i; }\n\t  }\n\t}\n\t\n\t/* ---------------------- *\n\t * -- decode functions -- *\n\t * ---------------------- */\n\t\n\t/* get one bit from source stream */\n\tfunction tinf_getbit(d) {\n\t  /* check if tag is empty */\n\t  if (!d.bitcount--) {\n\t    /* load next tag */\n\t    d.tag = d.source[d.sourceIndex++];\n\t    d.bitcount = 7;\n\t  }\n\t\n\t  /* shift bit out of tag */\n\t  var bit = d.tag & 1;\n\t  d.tag >>>= 1;\n\t\n\t  return bit;\n\t}\n\t\n\t/* read a num bit value from a stream and add base */\n\tfunction tinf_read_bits(d, num, base) {\n\t  if (!num)\n\t    { return base; }\n\t\n\t  while (d.bitcount < 24) {\n\t    d.tag |= d.source[d.sourceIndex++] << d.bitcount;\n\t    d.bitcount += 8;\n\t  }\n\t\n\t  var val = d.tag & (0xffff >>> (16 - num));\n\t  d.tag >>>= num;\n\t  d.bitcount -= num;\n\t  return val + base;\n\t}\n\t\n\t/* given a data stream and a tree, decode a symbol */\n\tfunction tinf_decode_symbol(d, t) {\n\t  while (d.bitcount < 24) {\n\t    d.tag |= d.source[d.sourceIndex++] << d.bitcount;\n\t    d.bitcount += 8;\n\t  }\n\t  \n\t  var sum = 0, cur = 0, len = 0;\n\t  var tag = d.tag;\n\t\n\t  /* get more bits while code value is above sum */\n\t  do {\n\t    cur = 2 * cur + (tag & 1);\n\t    tag >>>= 1;\n\t    ++len;\n\t\n\t    sum += t.table[len];\n\t    cur -= t.table[len];\n\t  } while (cur >= 0);\n\t  \n\t  d.tag = tag;\n\t  d.bitcount -= len;\n\t\n\t  return t.trans[sum + cur];\n\t}\n\t\n\t/* given a data stream, decode dynamic trees from it */\n\tfunction tinf_decode_trees(d, lt, dt) {\n\t  var hlit, hdist, hclen;\n\t  var i, num, length;\n\t\n\t  /* get 5 bits HLIT (257-286) */\n\t  hlit = tinf_read_bits(d, 5, 257);\n\t\n\t  /* get 5 bits HDIST (1-32) */\n\t  hdist = tinf_read_bits(d, 5, 1);\n\t\n\t  /* get 4 bits HCLEN (4-19) */\n\t  hclen = tinf_read_bits(d, 4, 4);\n\t\n\t  for (i = 0; i < 19; ++i) { lengths[i] = 0; }\n\t\n\t  /* read code lengths for code length alphabet */\n\t  for (i = 0; i < hclen; ++i) {\n\t    /* get 3 bits code length (0-7) */\n\t    var clen = tinf_read_bits(d, 3, 0);\n\t    lengths[clcidx[i]] = clen;\n\t  }\n\t\n\t  /* build code length tree */\n\t  tinf_build_tree(code_tree, lengths, 0, 19);\n\t\n\t  /* decode code lengths for the dynamic trees */\n\t  for (num = 0; num < hlit + hdist;) {\n\t    var sym = tinf_decode_symbol(d, code_tree);\n\t\n\t    switch (sym) {\n\t      case 16:\n\t        /* copy previous code length 3-6 times (read 2 bits) */\n\t        var prev = lengths[num - 1];\n\t        for (length = tinf_read_bits(d, 2, 3); length; --length) {\n\t          lengths[num++] = prev;\n\t        }\n\t        break;\n\t      case 17:\n\t        /* repeat code length 0 for 3-10 times (read 3 bits) */\n\t        for (length = tinf_read_bits(d, 3, 3); length; --length) {\n\t          lengths[num++] = 0;\n\t        }\n\t        break;\n\t      case 18:\n\t        /* repeat code length 0 for 11-138 times (read 7 bits) */\n\t        for (length = tinf_read_bits(d, 7, 11); length; --length) {\n\t          lengths[num++] = 0;\n\t        }\n\t        break;\n\t      default:\n\t        /* values 0-15 represent the actual code lengths */\n\t        lengths[num++] = sym;\n\t        break;\n\t    }\n\t  }\n\t\n\t  /* build dynamic trees */\n\t  tinf_build_tree(lt, lengths, 0, hlit);\n\t  tinf_build_tree(dt, lengths, hlit, hdist);\n\t}\n\t\n\t/* ----------------------------- *\n\t * -- block inflate functions -- *\n\t * ----------------------------- */\n\t\n\t/* given a stream and two trees, inflate a block of data */\n\tfunction tinf_inflate_block_data(d, lt, dt) {\n\t  while (1) {\n\t    var sym = tinf_decode_symbol(d, lt);\n\t\n\t    /* check for end of block */\n\t    if (sym === 256) {\n\t      return TINF_OK;\n\t    }\n\t\n\t    if (sym < 256) {\n\t      d.dest[d.destLen++] = sym;\n\t    } else {\n\t      var length, dist, offs;\n\t      var i;\n\t\n\t      sym -= 257;\n\t\n\t      /* possibly get more bits from length code */\n\t      length = tinf_read_bits(d, length_bits[sym], length_base[sym]);\n\t\n\t      dist = tinf_decode_symbol(d, dt);\n\t\n\t      /* possibly get more bits from distance code */\n\t      offs = d.destLen - tinf_read_bits(d, dist_bits[dist], dist_base[dist]);\n\t\n\t      /* copy match */\n\t      for (i = offs; i < offs + length; ++i) {\n\t        d.dest[d.destLen++] = d.dest[i];\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\t/* inflate an uncompressed block of data */\n\tfunction tinf_inflate_uncompressed_block(d) {\n\t  var length, invlength;\n\t  var i;\n\t  \n\t  /* unread from bitbuffer */\n\t  while (d.bitcount > 8) {\n\t    d.sourceIndex--;\n\t    d.bitcount -= 8;\n\t  }\n\t\n\t  /* get length */\n\t  length = d.source[d.sourceIndex + 1];\n\t  length = 256 * length + d.source[d.sourceIndex];\n\t\n\t  /* get one's complement of length */\n\t  invlength = d.source[d.sourceIndex + 3];\n\t  invlength = 256 * invlength + d.source[d.sourceIndex + 2];\n\t\n\t  /* check length */\n\t  if (length !== (~invlength & 0x0000ffff))\n\t    { return TINF_DATA_ERROR; }\n\t\n\t  d.sourceIndex += 4;\n\t\n\t  /* copy block */\n\t  for (i = length; i; --i)\n\t    { d.dest[d.destLen++] = d.source[d.sourceIndex++]; }\n\t\n\t  /* make sure we start next block on a byte boundary */\n\t  d.bitcount = 0;\n\t\n\t  return TINF_OK;\n\t}\n\t\n\t/* inflate stream from source to dest */\n\tfunction tinf_uncompress(source, dest) {\n\t  var d = new Data(source, dest);\n\t  var bfinal, btype, res;\n\t\n\t  do {\n\t    /* read final block flag */\n\t    bfinal = tinf_getbit(d);\n\t\n\t    /* read block type (2 bits) */\n\t    btype = tinf_read_bits(d, 2, 0);\n\t\n\t    /* decompress block */\n\t    switch (btype) {\n\t      case 0:\n\t        /* decompress uncompressed block */\n\t        res = tinf_inflate_uncompressed_block(d);\n\t        break;\n\t      case 1:\n\t        /* decompress block with fixed huffman trees */\n\t        res = tinf_inflate_block_data(d, sltree, sdtree);\n\t        break;\n\t      case 2:\n\t        /* decompress block with dynamic huffman trees */\n\t        tinf_decode_trees(d, d.ltree, d.dtree);\n\t        res = tinf_inflate_block_data(d, d.ltree, d.dtree);\n\t        break;\n\t      default:\n\t        res = TINF_DATA_ERROR;\n\t    }\n\t\n\t    if (res !== TINF_OK)\n\t      { throw new Error('Data error'); }\n\t\n\t  } while (!bfinal);\n\t\n\t  if (d.destLen < d.dest.length) {\n\t    if (typeof d.dest.slice === 'function')\n\t      { return d.dest.slice(0, d.destLen); }\n\t    else\n\t      { return d.dest.subarray(0, d.destLen); }\n\t  }\n\t  \n\t  return d.dest;\n\t}\n\t\n\t/* -------------------- *\n\t * -- initialization -- *\n\t * -------------------- */\n\t\n\t/* build fixed huffman trees */\n\ttinf_build_fixed_trees(sltree, sdtree);\n\t\n\t/* build extra bits and base tables */\n\ttinf_build_bits_base(length_bits, length_base, 4, 3);\n\ttinf_build_bits_base(dist_bits, dist_base, 2, 1);\n\t\n\t/* fix a special case */\n\tlength_bits[28] = 0;\n\tlength_base[28] = 258;\n\t\n\tvar index = tinf_uncompress;\n\t\n\t// The Bounding Box object\n\t\n\tfunction derive(v0, v1, v2, v3, t) {\n\t    return Math.pow(1 - t, 3) * v0 +\n\t        3 * Math.pow(1 - t, 2) * t * v1 +\n\t        3 * (1 - t) * Math.pow(t, 2) * v2 +\n\t        Math.pow(t, 3) * v3;\n\t}\n\t/**\n\t * A bounding box is an enclosing box that describes the smallest measure within which all the points lie.\n\t * It is used to calculate the bounding box of a glyph or text path.\n\t *\n\t * On initialization, x1/y1/x2/y2 will be NaN. Check if the bounding box is empty using `isEmpty()`.\n\t *\n\t * @exports opentype.BoundingBox\n\t * @class\n\t * @constructor\n\t */\n\tfunction BoundingBox() {\n\t    this.x1 = Number.NaN;\n\t    this.y1 = Number.NaN;\n\t    this.x2 = Number.NaN;\n\t    this.y2 = Number.NaN;\n\t}\n\t\n\t/**\n\t * Returns true if the bounding box is empty, that is, no points have been added to the box yet.\n\t */\n\tBoundingBox.prototype.isEmpty = function() {\n\t    return isNaN(this.x1) || isNaN(this.y1) || isNaN(this.x2) || isNaN(this.y2);\n\t};\n\t\n\t/**\n\t * Add the point to the bounding box.\n\t * The x1/y1/x2/y2 coordinates of the bounding box will now encompass the given point.\n\t * @param {number} x - The X coordinate of the point.\n\t * @param {number} y - The Y coordinate of the point.\n\t */\n\tBoundingBox.prototype.addPoint = function(x, y) {\n\t    if (typeof x === 'number') {\n\t        if (isNaN(this.x1) || isNaN(this.x2)) {\n\t            this.x1 = x;\n\t            this.x2 = x;\n\t        }\n\t        if (x < this.x1) {\n\t            this.x1 = x;\n\t        }\n\t        if (x > this.x2) {\n\t            this.x2 = x;\n\t        }\n\t    }\n\t    if (typeof y === 'number') {\n\t        if (isNaN(this.y1) || isNaN(this.y2)) {\n\t            this.y1 = y;\n\t            this.y2 = y;\n\t        }\n\t        if (y < this.y1) {\n\t            this.y1 = y;\n\t        }\n\t        if (y > this.y2) {\n\t            this.y2 = y;\n\t        }\n\t    }\n\t};\n\t\n\t/**\n\t * Add a X coordinate to the bounding box.\n\t * This extends the bounding box to include the X coordinate.\n\t * This function is used internally inside of addBezier.\n\t * @param {number} x - The X coordinate of the point.\n\t */\n\tBoundingBox.prototype.addX = function(x) {\n\t    this.addPoint(x, null);\n\t};\n\t\n\t/**\n\t * Add a Y coordinate to the bounding box.\n\t * This extends the bounding box to include the Y coordinate.\n\t * This function is used internally inside of addBezier.\n\t * @param {number} y - The Y coordinate of the point.\n\t */\n\tBoundingBox.prototype.addY = function(y) {\n\t    this.addPoint(null, y);\n\t};\n\t\n\t/**\n\t * Add a Bézier curve to the bounding box.\n\t * This extends the bounding box to include the entire Bézier.\n\t * @param {number} x0 - The starting X coordinate.\n\t * @param {number} y0 - The starting Y coordinate.\n\t * @param {number} x1 - The X coordinate of the first control point.\n\t * @param {number} y1 - The Y coordinate of the first control point.\n\t * @param {number} x2 - The X coordinate of the second control point.\n\t * @param {number} y2 - The Y coordinate of the second control point.\n\t * @param {number} x - The ending X coordinate.\n\t * @param {number} y - The ending Y coordinate.\n\t */\n\tBoundingBox.prototype.addBezier = function(x0, y0, x1, y1, x2, y2, x, y) {\n\t    var this$1 = this;\n\t\n\t    // This code is based on http://nishiohirokazu.blogspot.com/2009/06/how-to-calculate-bezier-curves-bounding.html\n\t    // and https://github.com/icons8/svg-path-bounding-box\n\t\n\t    var p0 = [x0, y0];\n\t    var p1 = [x1, y1];\n\t    var p2 = [x2, y2];\n\t    var p3 = [x, y];\n\t\n\t    this.addPoint(x0, y0);\n\t    this.addPoint(x, y);\n\t\n\t    for (var i = 0; i <= 1; i++) {\n\t        var b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n\t        var a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n\t        var c = 3 * p1[i] - 3 * p0[i];\n\t\n\t        if (a === 0) {\n\t            if (b === 0) { continue; }\n\t            var t = -c / b;\n\t            if (0 < t && t < 1) {\n\t                if (i === 0) { this$1.addX(derive(p0[i], p1[i], p2[i], p3[i], t)); }\n\t                if (i === 1) { this$1.addY(derive(p0[i], p1[i], p2[i], p3[i], t)); }\n\t            }\n\t            continue;\n\t        }\n\t\n\t        var b2ac = Math.pow(b, 2) - 4 * c * a;\n\t        if (b2ac < 0) { continue; }\n\t        var t1 = (-b + Math.sqrt(b2ac)) / (2 * a);\n\t        if (0 < t1 && t1 < 1) {\n\t            if (i === 0) { this$1.addX(derive(p0[i], p1[i], p2[i], p3[i], t1)); }\n\t            if (i === 1) { this$1.addY(derive(p0[i], p1[i], p2[i], p3[i], t1)); }\n\t        }\n\t        var t2 = (-b - Math.sqrt(b2ac)) / (2 * a);\n\t        if (0 < t2 && t2 < 1) {\n\t            if (i === 0) { this$1.addX(derive(p0[i], p1[i], p2[i], p3[i], t2)); }\n\t            if (i === 1) { this$1.addY(derive(p0[i], p1[i], p2[i], p3[i], t2)); }\n\t        }\n\t    }\n\t};\n\t\n\t/**\n\t * Add a quadratic curve to the bounding box.\n\t * This extends the bounding box to include the entire quadratic curve.\n\t * @param {number} x0 - The starting X coordinate.\n\t * @param {number} y0 - The starting Y coordinate.\n\t * @param {number} x1 - The X coordinate of the control point.\n\t * @param {number} y1 - The Y coordinate of the control point.\n\t * @param {number} x - The ending X coordinate.\n\t * @param {number} y - The ending Y coordinate.\n\t */\n\tBoundingBox.prototype.addQuad = function(x0, y0, x1, y1, x, y) {\n\t    var cp1x = x0 + 2 / 3 * (x1 - x0);\n\t    var cp1y = y0 + 2 / 3 * (y1 - y0);\n\t    var cp2x = cp1x + 1 / 3 * (x - x0);\n\t    var cp2y = cp1y + 1 / 3 * (y - y0);\n\t    this.addBezier(x0, y0, cp1x, cp1y, cp2x, cp2y, x, y);\n\t};\n\t\n\t// Geometric objects\n\t\n\t/**\n\t * A bézier path containing a set of path commands similar to a SVG path.\n\t * Paths can be drawn on a context using `draw`.\n\t * @exports opentype.Path\n\t * @class\n\t * @constructor\n\t */\n\tfunction Path() {\n\t    this.commands = [];\n\t    this.fill = 'black';\n\t    this.stroke = null;\n\t    this.strokeWidth = 1;\n\t}\n\t\n\t/**\n\t * @param  {number} x\n\t * @param  {number} y\n\t */\n\tPath.prototype.moveTo = function(x, y) {\n\t    this.commands.push({\n\t        type: 'M',\n\t        x: x,\n\t        y: y\n\t    });\n\t};\n\t\n\t/**\n\t * @param  {number} x\n\t * @param  {number} y\n\t */\n\tPath.prototype.lineTo = function(x, y) {\n\t    this.commands.push({\n\t        type: 'L',\n\t        x: x,\n\t        y: y\n\t    });\n\t};\n\t\n\t/**\n\t * Draws cubic curve\n\t * @function\n\t * curveTo\n\t * @memberof opentype.Path.prototype\n\t * @param  {number} x1 - x of control 1\n\t * @param  {number} y1 - y of control 1\n\t * @param  {number} x2 - x of control 2\n\t * @param  {number} y2 - y of control 2\n\t * @param  {number} x - x of path point\n\t * @param  {number} y - y of path point\n\t */\n\t\n\t/**\n\t * Draws cubic curve\n\t * @function\n\t * bezierCurveTo\n\t * @memberof opentype.Path.prototype\n\t * @param  {number} x1 - x of control 1\n\t * @param  {number} y1 - y of control 1\n\t * @param  {number} x2 - x of control 2\n\t * @param  {number} y2 - y of control 2\n\t * @param  {number} x - x of path point\n\t * @param  {number} y - y of path point\n\t * @see curveTo\n\t */\n\tPath.prototype.curveTo = Path.prototype.bezierCurveTo = function(x1, y1, x2, y2, x, y) {\n\t    this.commands.push({\n\t        type: 'C',\n\t        x1: x1,\n\t        y1: y1,\n\t        x2: x2,\n\t        y2: y2,\n\t        x: x,\n\t        y: y\n\t    });\n\t};\n\t\n\t/**\n\t * Draws quadratic curve\n\t * @function\n\t * quadraticCurveTo\n\t * @memberof opentype.Path.prototype\n\t * @param  {number} x1 - x of control\n\t * @param  {number} y1 - y of control\n\t * @param  {number} x - x of path point\n\t * @param  {number} y - y of path point\n\t */\n\t\n\t/**\n\t * Draws quadratic curve\n\t * @function\n\t * quadTo\n\t * @memberof opentype.Path.prototype\n\t * @param  {number} x1 - x of control\n\t * @param  {number} y1 - y of control\n\t * @param  {number} x - x of path point\n\t * @param  {number} y - y of path point\n\t */\n\tPath.prototype.quadTo = Path.prototype.quadraticCurveTo = function(x1, y1, x, y) {\n\t    this.commands.push({\n\t        type: 'Q',\n\t        x1: x1,\n\t        y1: y1,\n\t        x: x,\n\t        y: y\n\t    });\n\t};\n\t\n\t/**\n\t * Closes the path\n\t * @function closePath\n\t * @memberof opentype.Path.prototype\n\t */\n\t\n\t/**\n\t * Close the path\n\t * @function close\n\t * @memberof opentype.Path.prototype\n\t */\n\tPath.prototype.close = Path.prototype.closePath = function() {\n\t    this.commands.push({\n\t        type: 'Z'\n\t    });\n\t};\n\t\n\t/**\n\t * Add the given path or list of commands to the commands of this path.\n\t * @param  {Array} pathOrCommands - another opentype.Path, an opentype.BoundingBox, or an array of commands.\n\t */\n\tPath.prototype.extend = function(pathOrCommands) {\n\t    if (pathOrCommands.commands) {\n\t        pathOrCommands = pathOrCommands.commands;\n\t    } else if (pathOrCommands instanceof BoundingBox) {\n\t        var box = pathOrCommands;\n\t        this.moveTo(box.x1, box.y1);\n\t        this.lineTo(box.x2, box.y1);\n\t        this.lineTo(box.x2, box.y2);\n\t        this.lineTo(box.x1, box.y2);\n\t        this.close();\n\t        return;\n\t    }\n\t\n\t    Array.prototype.push.apply(this.commands, pathOrCommands);\n\t};\n\t\n\t/**\n\t * Calculate the bounding box of the path.\n\t * @returns {opentype.BoundingBox}\n\t */\n\tPath.prototype.getBoundingBox = function() {\n\t    var this$1 = this;\n\t\n\t    var box = new BoundingBox();\n\t\n\t    var startX = 0;\n\t    var startY = 0;\n\t    var prevX = 0;\n\t    var prevY = 0;\n\t    for (var i = 0; i < this.commands.length; i++) {\n\t        var cmd = this$1.commands[i];\n\t        switch (cmd.type) {\n\t            case 'M':\n\t                box.addPoint(cmd.x, cmd.y);\n\t                startX = prevX = cmd.x;\n\t                startY = prevY = cmd.y;\n\t                break;\n\t            case 'L':\n\t                box.addPoint(cmd.x, cmd.y);\n\t                prevX = cmd.x;\n\t                prevY = cmd.y;\n\t                break;\n\t            case 'Q':\n\t                box.addQuad(prevX, prevY, cmd.x1, cmd.y1, cmd.x, cmd.y);\n\t                prevX = cmd.x;\n\t                prevY = cmd.y;\n\t                break;\n\t            case 'C':\n\t                box.addBezier(prevX, prevY, cmd.x1, cmd.y1, cmd.x2, cmd.y2, cmd.x, cmd.y);\n\t                prevX = cmd.x;\n\t                prevY = cmd.y;\n\t                break;\n\t            case 'Z':\n\t                prevX = startX;\n\t                prevY = startY;\n\t                break;\n\t            default:\n\t                throw new Error('Unexpected path command ' + cmd.type);\n\t        }\n\t    }\n\t    if (box.isEmpty()) {\n\t        box.addPoint(0, 0);\n\t    }\n\t    return box;\n\t};\n\t\n\t/**\n\t * Draw the path to a 2D context.\n\t * @param {CanvasRenderingContext2D} ctx - A 2D drawing context.\n\t */\n\tPath.prototype.draw = function(ctx) {\n\t    var this$1 = this;\n\t\n\t    ctx.beginPath();\n\t    for (var i = 0; i < this.commands.length; i += 1) {\n\t        var cmd = this$1.commands[i];\n\t        if (cmd.type === 'M') {\n\t            ctx.moveTo(cmd.x, cmd.y);\n\t        } else if (cmd.type === 'L') {\n\t            ctx.lineTo(cmd.x, cmd.y);\n\t        } else if (cmd.type === 'C') {\n\t            ctx.bezierCurveTo(cmd.x1, cmd.y1, cmd.x2, cmd.y2, cmd.x, cmd.y);\n\t        } else if (cmd.type === 'Q') {\n\t            ctx.quadraticCurveTo(cmd.x1, cmd.y1, cmd.x, cmd.y);\n\t        } else if (cmd.type === 'Z') {\n\t            ctx.closePath();\n\t        }\n\t    }\n\t\n\t    if (this.fill) {\n\t        ctx.fillStyle = this.fill;\n\t        ctx.fill();\n\t    }\n\t\n\t    if (this.stroke) {\n\t        ctx.strokeStyle = this.stroke;\n\t        ctx.lineWidth = this.strokeWidth;\n\t        ctx.stroke();\n\t    }\n\t};\n\t\n\t/**\n\t * Convert the Path to a string of path data instructions\n\t * See http://www.w3.org/TR/SVG/paths.html#PathData\n\t * @param  {number} [decimalPlaces=2] - The amount of decimal places for floating-point values\n\t * @return {string}\n\t */\n\tPath.prototype.toPathData = function(decimalPlaces) {\n\t    var this$1 = this;\n\t\n\t    decimalPlaces = decimalPlaces !== undefined ? decimalPlaces : 2;\n\t\n\t    function floatToString(v) {\n\t        if (Math.round(v) === v) {\n\t            return '' + Math.round(v);\n\t        } else {\n\t            return v.toFixed(decimalPlaces);\n\t        }\n\t    }\n\t\n\t    function packValues() {\n\t        var arguments$1 = arguments;\n\t\n\t        var s = '';\n\t        for (var i = 0; i < arguments.length; i += 1) {\n\t            var v = arguments$1[i];\n\t            if (v >= 0 && i > 0) {\n\t                s += ' ';\n\t            }\n\t\n\t            s += floatToString(v);\n\t        }\n\t\n\t        return s;\n\t    }\n\t\n\t    var d = '';\n\t    for (var i = 0; i < this.commands.length; i += 1) {\n\t        var cmd = this$1.commands[i];\n\t        if (cmd.type === 'M') {\n\t            d += 'M' + packValues(cmd.x, cmd.y);\n\t        } else if (cmd.type === 'L') {\n\t            d += 'L' + packValues(cmd.x, cmd.y);\n\t        } else if (cmd.type === 'C') {\n\t            d += 'C' + packValues(cmd.x1, cmd.y1, cmd.x2, cmd.y2, cmd.x, cmd.y);\n\t        } else if (cmd.type === 'Q') {\n\t            d += 'Q' + packValues(cmd.x1, cmd.y1, cmd.x, cmd.y);\n\t        } else if (cmd.type === 'Z') {\n\t            d += 'Z';\n\t        }\n\t    }\n\t\n\t    return d;\n\t};\n\t\n\t/**\n\t * Convert the path to an SVG <path> element, as a string.\n\t * @param  {number} [decimalPlaces=2] - The amount of decimal places for floating-point values\n\t * @return {string}\n\t */\n\tPath.prototype.toSVG = function(decimalPlaces) {\n\t    var svg = '<path d=\"';\n\t    svg += this.toPathData(decimalPlaces);\n\t    svg += '\"';\n\t    if (this.fill && this.fill !== 'black') {\n\t        if (this.fill === null) {\n\t            svg += ' fill=\"none\"';\n\t        } else {\n\t            svg += ' fill=\"' + this.fill + '\"';\n\t        }\n\t    }\n\t\n\t    if (this.stroke) {\n\t        svg += ' stroke=\"' + this.stroke + '\" stroke-width=\"' + this.strokeWidth + '\"';\n\t    }\n\t\n\t    svg += '/>';\n\t    return svg;\n\t};\n\t\n\t/**\n\t * Convert the path to a DOM element.\n\t * @param  {number} [decimalPlaces=2] - The amount of decimal places for floating-point values\n\t * @return {SVGPathElement}\n\t */\n\tPath.prototype.toDOMElement = function(decimalPlaces) {\n\t    var temporaryPath = this.toPathData(decimalPlaces);\n\t    var newPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n\t\n\t    newPath.setAttribute('d', temporaryPath);\n\t\n\t    return newPath;\n\t};\n\t\n\t// Run-time checking of preconditions.\n\t\n\tfunction fail(message) {\n\t    throw new Error(message);\n\t}\n\t\n\t// Precondition function that checks if the given predicate is true.\n\t// If not, it will throw an error.\n\tfunction argument(predicate, message) {\n\t    if (!predicate) {\n\t        fail(message);\n\t    }\n\t}\n\t\n\tvar check = { fail: fail, argument: argument, assert: argument };\n\t\n\t// Data types used in the OpenType font file.\n\t// All OpenType fonts use Motorola-style byte ordering (Big Endian)\n\t\n\tvar LIMIT16 = 32768; // The limit at which a 16-bit number switches signs == 2^15\n\tvar LIMIT32 = 2147483648; // The limit at which a 32-bit number switches signs == 2 ^ 31\n\t\n\t/**\n\t * @exports opentype.decode\n\t * @class\n\t */\n\tvar decode = {};\n\t/**\n\t * @exports opentype.encode\n\t * @class\n\t */\n\tvar encode = {};\n\t/**\n\t * @exports opentype.sizeOf\n\t * @class\n\t */\n\tvar sizeOf = {};\n\t\n\t// Return a function that always returns the same value.\n\tfunction constant(v) {\n\t    return function() {\n\t        return v;\n\t    };\n\t}\n\t\n\t// OpenType data types //////////////////////////////////////////////////////\n\t\n\t/**\n\t * Convert an 8-bit unsigned integer to a list of 1 byte.\n\t * @param {number}\n\t * @returns {Array}\n\t */\n\tencode.BYTE = function(v) {\n\t    check.argument(v >= 0 && v <= 255, 'Byte value should be between 0 and 255.');\n\t    return [v];\n\t};\n\t/**\n\t * @constant\n\t * @type {number}\n\t */\n\tsizeOf.BYTE = constant(1);\n\t\n\t/**\n\t * Convert a 8-bit signed integer to a list of 1 byte.\n\t * @param {string}\n\t * @returns {Array}\n\t */\n\tencode.CHAR = function(v) {\n\t    return [v.charCodeAt(0)];\n\t};\n\t\n\t/**\n\t * @constant\n\t * @type {number}\n\t */\n\tsizeOf.CHAR = constant(1);\n\t\n\t/**\n\t * Convert an ASCII string to a list of bytes.\n\t * @param {string}\n\t * @returns {Array}\n\t */\n\tencode.CHARARRAY = function(v) {\n\t    var b = [];\n\t    for (var i = 0; i < v.length; i += 1) {\n\t        b[i] = v.charCodeAt(i);\n\t    }\n\t\n\t    return b;\n\t};\n\t\n\t/**\n\t * @param {Array}\n\t * @returns {number}\n\t */\n\tsizeOf.CHARARRAY = function(v) {\n\t    return v.length;\n\t};\n\t\n\t/**\n\t * Convert a 16-bit unsigned integer to a list of 2 bytes.\n\t * @param {number}\n\t * @returns {Array}\n\t */\n\tencode.USHORT = function(v) {\n\t    return [(v >> 8) & 0xFF, v & 0xFF];\n\t};\n\t\n\t/**\n\t * @constant\n\t * @type {number}\n\t */\n\tsizeOf.USHORT = constant(2);\n\t\n\t/**\n\t * Convert a 16-bit signed integer to a list of 2 bytes.\n\t * @param {number}\n\t * @returns {Array}\n\t */\n\tencode.SHORT = function(v) {\n\t    // Two's complement\n\t    if (v >= LIMIT16) {\n\t        v = -(2 * LIMIT16 - v);\n\t    }\n\t\n\t    return [(v >> 8) & 0xFF, v & 0xFF];\n\t};\n\t\n\t/**\n\t * @constant\n\t * @type {number}\n\t */\n\tsizeOf.SHORT = constant(2);\n\t\n\t/**\n\t * Convert a 24-bit unsigned integer to a list of 3 bytes.\n\t * @param {number}\n\t * @returns {Array}\n\t */\n\tencode.UINT24 = function(v) {\n\t    return [(v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n\t};\n\t\n\t/**\n\t * @constant\n\t * @type {number}\n\t */\n\tsizeOf.UINT24 = constant(3);\n\t\n\t/**\n\t * Convert a 32-bit unsigned integer to a list of 4 bytes.\n\t * @param {number}\n\t * @returns {Array}\n\t */\n\tencode.ULONG = function(v) {\n\t    return [(v >> 24) & 0xFF, (v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n\t};\n\t\n\t/**\n\t * @constant\n\t * @type {number}\n\t */\n\tsizeOf.ULONG = constant(4);\n\t\n\t/**\n\t * Convert a 32-bit unsigned integer to a list of 4 bytes.\n\t * @param {number}\n\t * @returns {Array}\n\t */\n\tencode.LONG = function(v) {\n\t    // Two's complement\n\t    if (v >= LIMIT32) {\n\t        v = -(2 * LIMIT32 - v);\n\t    }\n\t\n\t    return [(v >> 24) & 0xFF, (v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n\t};\n\t\n\t/**\n\t * @constant\n\t * @type {number}\n\t */\n\tsizeOf.LONG = constant(4);\n\t\n\tencode.FIXED = encode.ULONG;\n\tsizeOf.FIXED = sizeOf.ULONG;\n\t\n\tencode.FWORD = encode.SHORT;\n\tsizeOf.FWORD = sizeOf.SHORT;\n\t\n\tencode.UFWORD = encode.USHORT;\n\tsizeOf.UFWORD = sizeOf.USHORT;\n\t\n\t/**\n\t * Convert a 32-bit Apple Mac timestamp integer to a list of 8 bytes, 64-bit timestamp.\n\t * @param {number}\n\t * @returns {Array}\n\t */\n\tencode.LONGDATETIME = function(v) {\n\t    return [0, 0, 0, 0, (v >> 24) & 0xFF, (v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n\t};\n\t\n\t/**\n\t * @constant\n\t * @type {number}\n\t */\n\tsizeOf.LONGDATETIME = constant(8);\n\t\n\t/**\n\t * Convert a 4-char tag to a list of 4 bytes.\n\t * @param {string}\n\t * @returns {Array}\n\t */\n\tencode.TAG = function(v) {\n\t    check.argument(v.length === 4, 'Tag should be exactly 4 ASCII characters.');\n\t    return [v.charCodeAt(0),\n\t            v.charCodeAt(1),\n\t            v.charCodeAt(2),\n\t            v.charCodeAt(3)];\n\t};\n\t\n\t/**\n\t * @constant\n\t * @type {number}\n\t */\n\tsizeOf.TAG = constant(4);\n\t\n\t// CFF data types ///////////////////////////////////////////////////////////\n\t\n\tencode.Card8 = encode.BYTE;\n\tsizeOf.Card8 = sizeOf.BYTE;\n\t\n\tencode.Card16 = encode.USHORT;\n\tsizeOf.Card16 = sizeOf.USHORT;\n\t\n\tencode.OffSize = encode.BYTE;\n\tsizeOf.OffSize = sizeOf.BYTE;\n\t\n\tencode.SID = encode.USHORT;\n\tsizeOf.SID = sizeOf.USHORT;\n\t\n\t// Convert a numeric operand or charstring number to a variable-size list of bytes.\n\t/**\n\t * Convert a numeric operand or charstring number to a variable-size list of bytes.\n\t * @param {number}\n\t * @returns {Array}\n\t */\n\tencode.NUMBER = function(v) {\n\t    if (v >= -107 && v <= 107) {\n\t        return [v + 139];\n\t    } else if (v >= 108 && v <= 1131) {\n\t        v = v - 108;\n\t        return [(v >> 8) + 247, v & 0xFF];\n\t    } else if (v >= -1131 && v <= -108) {\n\t        v = -v - 108;\n\t        return [(v >> 8) + 251, v & 0xFF];\n\t    } else if (v >= -32768 && v <= 32767) {\n\t        return encode.NUMBER16(v);\n\t    } else {\n\t        return encode.NUMBER32(v);\n\t    }\n\t};\n\t\n\t/**\n\t * @param {number}\n\t * @returns {number}\n\t */\n\tsizeOf.NUMBER = function(v) {\n\t    return encode.NUMBER(v).length;\n\t};\n\t\n\t/**\n\t * Convert a signed number between -32768 and +32767 to a three-byte value.\n\t * This ensures we always use three bytes, but is not the most compact format.\n\t * @param {number}\n\t * @returns {Array}\n\t */\n\tencode.NUMBER16 = function(v) {\n\t    return [28, (v >> 8) & 0xFF, v & 0xFF];\n\t};\n\t\n\t/**\n\t * @constant\n\t * @type {number}\n\t */\n\tsizeOf.NUMBER16 = constant(3);\n\t\n\t/**\n\t * Convert a signed number between -(2^31) and +(2^31-1) to a five-byte value.\n\t * This is useful if you want to be sure you always use four bytes,\n\t * at the expense of wasting a few bytes for smaller numbers.\n\t * @param {number}\n\t * @returns {Array}\n\t */\n\tencode.NUMBER32 = function(v) {\n\t    return [29, (v >> 24) & 0xFF, (v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n\t};\n\t\n\t/**\n\t * @constant\n\t * @type {number}\n\t */\n\tsizeOf.NUMBER32 = constant(5);\n\t\n\t/**\n\t * @param {number}\n\t * @returns {Array}\n\t */\n\tencode.REAL = function(v) {\n\t    var value = v.toString();\n\t\n\t    // Some numbers use an epsilon to encode the value. (e.g. JavaScript will store 0.0000001 as 1e-7)\n\t    // This code converts it back to a number without the epsilon.\n\t    var m = /\\.(\\d*?)(?:9{5,20}|0{5,20})\\d{0,2}(?:e(.+)|$)/.exec(value);\n\t    if (m) {\n\t        var epsilon = parseFloat('1e' + ((m[2] ? +m[2] : 0) + m[1].length));\n\t        value = (Math.round(v * epsilon) / epsilon).toString();\n\t    }\n\t\n\t    var nibbles = '';\n\t    for (var i = 0, ii = value.length; i < ii; i += 1) {\n\t        var c = value[i];\n\t        if (c === 'e') {\n\t            nibbles += value[++i] === '-' ? 'c' : 'b';\n\t        } else if (c === '.') {\n\t            nibbles += 'a';\n\t        } else if (c === '-') {\n\t            nibbles += 'e';\n\t        } else {\n\t            nibbles += c;\n\t        }\n\t    }\n\t\n\t    nibbles += (nibbles.length & 1) ? 'f' : 'ff';\n\t    var out = [30];\n\t    for (var i$1 = 0, ii$1 = nibbles.length; i$1 < ii$1; i$1 += 2) {\n\t        out.push(parseInt(nibbles.substr(i$1, 2), 16));\n\t    }\n\t\n\t    return out;\n\t};\n\t\n\t/**\n\t * @param {number}\n\t * @returns {number}\n\t */\n\tsizeOf.REAL = function(v) {\n\t    return encode.REAL(v).length;\n\t};\n\t\n\tencode.NAME = encode.CHARARRAY;\n\tsizeOf.NAME = sizeOf.CHARARRAY;\n\t\n\tencode.STRING = encode.CHARARRAY;\n\tsizeOf.STRING = sizeOf.CHARARRAY;\n\t\n\t/**\n\t * @param {DataView} data\n\t * @param {number} offset\n\t * @param {number} numBytes\n\t * @returns {string}\n\t */\n\tdecode.UTF8 = function(data, offset, numBytes) {\n\t    var codePoints = [];\n\t    var numChars = numBytes;\n\t    for (var j = 0; j < numChars; j++, offset += 1) {\n\t        codePoints[j] = data.getUint8(offset);\n\t    }\n\t\n\t    return String.fromCharCode.apply(null, codePoints);\n\t};\n\t\n\t/**\n\t * @param {DataView} data\n\t * @param {number} offset\n\t * @param {number} numBytes\n\t * @returns {string}\n\t */\n\tdecode.UTF16 = function(data, offset, numBytes) {\n\t    var codePoints = [];\n\t    var numChars = numBytes / 2;\n\t    for (var j = 0; j < numChars; j++, offset += 2) {\n\t        codePoints[j] = data.getUint16(offset);\n\t    }\n\t\n\t    return String.fromCharCode.apply(null, codePoints);\n\t};\n\t\n\t/**\n\t * Convert a JavaScript string to UTF16-BE.\n\t * @param {string}\n\t * @returns {Array}\n\t */\n\tencode.UTF16 = function(v) {\n\t    var b = [];\n\t    for (var i = 0; i < v.length; i += 1) {\n\t        var codepoint = v.charCodeAt(i);\n\t        b[b.length] = (codepoint >> 8) & 0xFF;\n\t        b[b.length] = codepoint & 0xFF;\n\t    }\n\t\n\t    return b;\n\t};\n\t\n\t/**\n\t * @param {string}\n\t * @returns {number}\n\t */\n\tsizeOf.UTF16 = function(v) {\n\t    return v.length * 2;\n\t};\n\t\n\t// Data for converting old eight-bit Macintosh encodings to Unicode.\n\t// This representation is optimized for decoding; encoding is slower\n\t// and needs more memory. The assumption is that all opentype.js users\n\t// want to open fonts, but saving a font will be comparatively rare\n\t// so it can be more expensive. Keyed by IANA character set name.\n\t//\n\t// Python script for generating these strings:\n\t//\n\t//     s = u''.join([chr(c).decode('mac_greek') for c in range(128, 256)])\n\t//     print(s.encode('utf-8'))\n\t/**\n\t * @private\n\t */\n\tvar eightBitMacEncodings = {\n\t    'x-mac-croatian':  // Python: 'mac_croatian'\n\t    'ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø' +\n\t    '¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ',\n\t    'x-mac-cyrillic':  // Python: 'mac_cyrillic'\n\t    'АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњ' +\n\t    'јЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю',\n\t    'x-mac-gaelic': // http://unicode.org/Public/MAPPINGS/VENDORS/APPLE/GAELIC.TXT\n\t    'ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæø' +\n\t    'ṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ',\n\t    'x-mac-greek':  // Python: 'mac_greek'\n\t    'Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩ' +\n\t    'άΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ\\u00AD',\n\t    'x-mac-icelandic':  // Python: 'mac_iceland'\n\t    'ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø' +\n\t    '¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ',\n\t    'x-mac-inuit': // http://unicode.org/Public/MAPPINGS/VENDORS/APPLE/INUIT.TXT\n\t    'ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗ' +\n\t    'ᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł',\n\t    'x-mac-ce':  // Python: 'mac_latin2'\n\t    'ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅ' +\n\t    'ņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ',\n\t    macintosh:  // Python: 'mac_roman'\n\t    'ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø' +\n\t    '¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ',\n\t    'x-mac-romanian':  // Python: 'mac_romanian'\n\t    'ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș' +\n\t    '¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ',\n\t    'x-mac-turkish':  // Python: 'mac_turkish'\n\t    'ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø' +\n\t    '¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ'\n\t};\n\t\n\t/**\n\t * Decodes an old-style Macintosh string. Returns either a Unicode JavaScript\n\t * string, or 'undefined' if the encoding is unsupported. For example, we do\n\t * not support Chinese, Japanese or Korean because these would need large\n\t * mapping tables.\n\t * @param {DataView} dataView\n\t * @param {number} offset\n\t * @param {number} dataLength\n\t * @param {string} encoding\n\t * @returns {string}\n\t */\n\tdecode.MACSTRING = function(dataView, offset, dataLength, encoding) {\n\t    var table = eightBitMacEncodings[encoding];\n\t    if (table === undefined) {\n\t        return undefined;\n\t    }\n\t\n\t    var result = '';\n\t    for (var i = 0; i < dataLength; i++) {\n\t        var c = dataView.getUint8(offset + i);\n\t        // In all eight-bit Mac encodings, the characters 0x00..0x7F are\n\t        // mapped to U+0000..U+007F; we only need to look up the others.\n\t        if (c <= 0x7F) {\n\t            result += String.fromCharCode(c);\n\t        } else {\n\t            result += table[c & 0x7F];\n\t        }\n\t    }\n\t\n\t    return result;\n\t};\n\t\n\t// Helper function for encode.MACSTRING. Returns a dictionary for mapping\n\t// Unicode character codes to their 8-bit MacOS equivalent. This table\n\t// is not exactly a super cheap data structure, but we do not care because\n\t// encoding Macintosh strings is only rarely needed in typical applications.\n\tvar macEncodingTableCache = typeof WeakMap === 'function' && new WeakMap();\n\tvar macEncodingCacheKeys;\n\tvar getMacEncodingTable = function (encoding) {\n\t    // Since we use encoding as a cache key for WeakMap, it has to be\n\t    // a String object and not a literal. And at least on NodeJS 2.10.1,\n\t    // WeakMap requires that the same String instance is passed for cache hits.\n\t    if (!macEncodingCacheKeys) {\n\t        macEncodingCacheKeys = {};\n\t        for (var e in eightBitMacEncodings) {\n\t            /*jshint -W053 */  // Suppress \"Do not use String as a constructor.\"\n\t            macEncodingCacheKeys[e] = new String(e);\n\t        }\n\t    }\n\t\n\t    var cacheKey = macEncodingCacheKeys[encoding];\n\t    if (cacheKey === undefined) {\n\t        return undefined;\n\t    }\n\t\n\t    // We can't do \"if (cache.has(key)) {return cache.get(key)}\" here:\n\t    // since garbage collection may run at any time, it could also kick in\n\t    // between the calls to cache.has() and cache.get(). In that case,\n\t    // we would return 'undefined' even though we do support the encoding.\n\t    if (macEncodingTableCache) {\n\t        var cachedTable = macEncodingTableCache.get(cacheKey);\n\t        if (cachedTable !== undefined) {\n\t            return cachedTable;\n\t        }\n\t    }\n\t\n\t    var decodingTable = eightBitMacEncodings[encoding];\n\t    if (decodingTable === undefined) {\n\t        return undefined;\n\t    }\n\t\n\t    var encodingTable = {};\n\t    for (var i = 0; i < decodingTable.length; i++) {\n\t        encodingTable[decodingTable.charCodeAt(i)] = i + 0x80;\n\t    }\n\t\n\t    if (macEncodingTableCache) {\n\t        macEncodingTableCache.set(cacheKey, encodingTable);\n\t    }\n\t\n\t    return encodingTable;\n\t};\n\t\n\t/**\n\t * Encodes an old-style Macintosh string. Returns a byte array upon success.\n\t * If the requested encoding is unsupported, or if the input string contains\n\t * a character that cannot be expressed in the encoding, the function returns\n\t * 'undefined'.\n\t * @param {string} str\n\t * @param {string} encoding\n\t * @returns {Array}\n\t */\n\tencode.MACSTRING = function(str, encoding) {\n\t    var table = getMacEncodingTable(encoding);\n\t    if (table === undefined) {\n\t        return undefined;\n\t    }\n\t\n\t    var result = [];\n\t    for (var i = 0; i < str.length; i++) {\n\t        var c = str.charCodeAt(i);\n\t\n\t        // In all eight-bit Mac encodings, the characters 0x00..0x7F are\n\t        // mapped to U+0000..U+007F; we only need to look up the others.\n\t        if (c >= 0x80) {\n\t            c = table[c];\n\t            if (c === undefined) {\n\t                // str contains a Unicode character that cannot be encoded\n\t                // in the requested encoding.\n\t                return undefined;\n\t            }\n\t        }\n\t        result[i] = c;\n\t        // result.push(c);\n\t    }\n\t\n\t    return result;\n\t};\n\t\n\t/**\n\t * @param {string} str\n\t * @param {string} encoding\n\t * @returns {number}\n\t */\n\tsizeOf.MACSTRING = function(str, encoding) {\n\t    var b = encode.MACSTRING(str, encoding);\n\t    if (b !== undefined) {\n\t        return b.length;\n\t    } else {\n\t        return 0;\n\t    }\n\t};\n\t\n\t// Helper for encode.VARDELTAS\n\tfunction isByteEncodable(value) {\n\t    return value >= -128 && value <= 127;\n\t}\n\t\n\t// Helper for encode.VARDELTAS\n\tfunction encodeVarDeltaRunAsZeroes(deltas, pos, result) {\n\t    var runLength = 0;\n\t    var numDeltas = deltas.length;\n\t    while (pos < numDeltas && runLength < 64 && deltas[pos] === 0) {\n\t        ++pos;\n\t        ++runLength;\n\t    }\n\t    result.push(0x80 | (runLength - 1));\n\t    return pos;\n\t}\n\t\n\t// Helper for encode.VARDELTAS\n\tfunction encodeVarDeltaRunAsBytes(deltas, offset, result) {\n\t    var runLength = 0;\n\t    var numDeltas = deltas.length;\n\t    var pos = offset;\n\t    while (pos < numDeltas && runLength < 64) {\n\t        var value = deltas[pos];\n\t        if (!isByteEncodable(value)) {\n\t            break;\n\t        }\n\t\n\t        // Within a byte-encoded run of deltas, a single zero is best\n\t        // stored literally as 0x00 value. However, if we have two or\n\t        // more zeroes in a sequence, it is better to start a new run.\n\t        // Fore example, the sequence of deltas [15, 15, 0, 15, 15]\n\t        // becomes 6 bytes (04 0F 0F 00 0F 0F) when storing the zero\n\t        // within the current run, but 7 bytes (01 0F 0F 80 01 0F 0F)\n\t        // when starting a new run.\n\t        if (value === 0 && pos + 1 < numDeltas && deltas[pos + 1] === 0) {\n\t            break;\n\t        }\n\t\n\t        ++pos;\n\t        ++runLength;\n\t    }\n\t    result.push(runLength - 1);\n\t    for (var i = offset; i < pos; ++i) {\n\t        result.push((deltas[i] + 256) & 0xff);\n\t    }\n\t    return pos;\n\t}\n\t\n\t// Helper for encode.VARDELTAS\n\tfunction encodeVarDeltaRunAsWords(deltas, offset, result) {\n\t    var runLength = 0;\n\t    var numDeltas = deltas.length;\n\t    var pos = offset;\n\t    while (pos < numDeltas && runLength < 64) {\n\t        var value = deltas[pos];\n\t\n\t        // Within a word-encoded run of deltas, it is easiest to start\n\t        // a new run (with a different encoding) whenever we encounter\n\t        // a zero value. For example, the sequence [0x6666, 0, 0x7777]\n\t        // needs 7 bytes when storing the zero inside the current run\n\t        // (42 66 66 00 00 77 77), and equally 7 bytes when starting a\n\t        // new run (40 66 66 80 40 77 77).\n\t        if (value === 0) {\n\t            break;\n\t        }\n\t\n\t        // Within a word-encoded run of deltas, a single value in the\n\t        // range (-128..127) should be encoded within the current run\n\t        // because it is more compact. For example, the sequence\n\t        // [0x6666, 2, 0x7777] becomes 7 bytes when storing the value\n\t        // literally (42 66 66 00 02 77 77), but 8 bytes when starting\n\t        // a new run (40 66 66 00 02 40 77 77).\n\t        if (isByteEncodable(value) && pos + 1 < numDeltas && isByteEncodable(deltas[pos + 1])) {\n\t            break;\n\t        }\n\t\n\t        ++pos;\n\t        ++runLength;\n\t    }\n\t    result.push(0x40 | (runLength - 1));\n\t    for (var i = offset; i < pos; ++i) {\n\t        var val = deltas[i];\n\t        result.push(((val + 0x10000) >> 8) & 0xff, (val + 0x100) & 0xff);\n\t    }\n\t    return pos;\n\t}\n\t\n\t/**\n\t * Encode a list of variation adjustment deltas.\n\t *\n\t * Variation adjustment deltas are used in ‘gvar’ and ‘cvar’ tables.\n\t * They indicate how points (in ‘gvar’) or values (in ‘cvar’) get adjusted\n\t * when generating instances of variation fonts.\n\t *\n\t * @see https://www.microsoft.com/typography/otspec/gvar.htm\n\t * @see https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6gvar.html\n\t * @param {Array}\n\t * @return {Array}\n\t */\n\tencode.VARDELTAS = function(deltas) {\n\t    var pos = 0;\n\t    var result = [];\n\t    while (pos < deltas.length) {\n\t        var value = deltas[pos];\n\t        if (value === 0) {\n\t            pos = encodeVarDeltaRunAsZeroes(deltas, pos, result);\n\t        } else if (value >= -128 && value <= 127) {\n\t            pos = encodeVarDeltaRunAsBytes(deltas, pos, result);\n\t        } else {\n\t            pos = encodeVarDeltaRunAsWords(deltas, pos, result);\n\t        }\n\t    }\n\t    return result;\n\t};\n\t\n\t// Convert a list of values to a CFF INDEX structure.\n\t// The values should be objects containing name / type / value.\n\t/**\n\t * @param {Array} l\n\t * @returns {Array}\n\t */\n\tencode.INDEX = function(l) {\n\t    //var offset, offsets, offsetEncoder, encodedOffsets, encodedOffset, data,\n\t    //    i, v;\n\t    // Because we have to know which data type to use to encode the offsets,\n\t    // we have to go through the values twice: once to encode the data and\n\t    // calculate the offsets, then again to encode the offsets using the fitting data type.\n\t    var offset = 1; // First offset is always 1.\n\t    var offsets = [offset];\n\t    var data = [];\n\t    for (var i = 0; i < l.length; i += 1) {\n\t        var v = encode.OBJECT(l[i]);\n\t        Array.prototype.push.apply(data, v);\n\t        offset += v.length;\n\t        offsets.push(offset);\n\t    }\n\t\n\t    if (data.length === 0) {\n\t        return [0, 0];\n\t    }\n\t\n\t    var encodedOffsets = [];\n\t    var offSize = (1 + Math.floor(Math.log(offset) / Math.log(2)) / 8) | 0;\n\t    var offsetEncoder = [undefined, encode.BYTE, encode.USHORT, encode.UINT24, encode.ULONG][offSize];\n\t    for (var i$1 = 0; i$1 < offsets.length; i$1 += 1) {\n\t        var encodedOffset = offsetEncoder(offsets[i$1]);\n\t        Array.prototype.push.apply(encodedOffsets, encodedOffset);\n\t    }\n\t\n\t    return Array.prototype.concat(encode.Card16(l.length),\n\t                           encode.OffSize(offSize),\n\t                           encodedOffsets,\n\t                           data);\n\t};\n\t\n\t/**\n\t * @param {Array}\n\t * @returns {number}\n\t */\n\tsizeOf.INDEX = function(v) {\n\t    return encode.INDEX(v).length;\n\t};\n\t\n\t/**\n\t * Convert an object to a CFF DICT structure.\n\t * The keys should be numeric.\n\t * The values should be objects containing name / type / value.\n\t * @param {Object} m\n\t * @returns {Array}\n\t */\n\tencode.DICT = function(m) {\n\t    var d = [];\n\t    var keys = Object.keys(m);\n\t    var length = keys.length;\n\t\n\t    for (var i = 0; i < length; i += 1) {\n\t        // Object.keys() return string keys, but our keys are always numeric.\n\t        var k = parseInt(keys[i], 0);\n\t        var v = m[k];\n\t        // Value comes before the key.\n\t        d = d.concat(encode.OPERAND(v.value, v.type));\n\t        d = d.concat(encode.OPERATOR(k));\n\t    }\n\t\n\t    return d;\n\t};\n\t\n\t/**\n\t * @param {Object}\n\t * @returns {number}\n\t */\n\tsizeOf.DICT = function(m) {\n\t    return encode.DICT(m).length;\n\t};\n\t\n\t/**\n\t * @param {number}\n\t * @returns {Array}\n\t */\n\tencode.OPERATOR = function(v) {\n\t    if (v < 1200) {\n\t        return [v];\n\t    } else {\n\t        return [12, v - 1200];\n\t    }\n\t};\n\t\n\t/**\n\t * @param {Array} v\n\t * @param {string}\n\t * @returns {Array}\n\t */\n\tencode.OPERAND = function(v, type) {\n\t    var d = [];\n\t    if (Array.isArray(type)) {\n\t        for (var i = 0; i < type.length; i += 1) {\n\t            check.argument(v.length === type.length, 'Not enough arguments given for type' + type);\n\t            d = d.concat(encode.OPERAND(v[i], type[i]));\n\t        }\n\t    } else {\n\t        if (type === 'SID') {\n\t            d = d.concat(encode.NUMBER(v));\n\t        } else if (type === 'offset') {\n\t            // We make it easy for ourselves and always encode offsets as\n\t            // 4 bytes. This makes offset calculation for the top dict easier.\n\t            d = d.concat(encode.NUMBER32(v));\n\t        } else if (type === 'number') {\n\t            d = d.concat(encode.NUMBER(v));\n\t        } else if (type === 'real') {\n\t            d = d.concat(encode.REAL(v));\n\t        } else {\n\t            throw new Error('Unknown operand type ' + type);\n\t            // FIXME Add support for booleans\n\t        }\n\t    }\n\t\n\t    return d;\n\t};\n\t\n\tencode.OP = encode.BYTE;\n\tsizeOf.OP = sizeOf.BYTE;\n\t\n\t// memoize charstring encoding using WeakMap if available\n\tvar wmm = typeof WeakMap === 'function' && new WeakMap();\n\t\n\t/**\n\t * Convert a list of CharString operations to bytes.\n\t * @param {Array}\n\t * @returns {Array}\n\t */\n\tencode.CHARSTRING = function(ops) {\n\t    // See encode.MACSTRING for why we don't do \"if (wmm && wmm.has(ops))\".\n\t    if (wmm) {\n\t        var cachedValue = wmm.get(ops);\n\t        if (cachedValue !== undefined) {\n\t            return cachedValue;\n\t        }\n\t    }\n\t\n\t    var d = [];\n\t    var length = ops.length;\n\t\n\t    for (var i = 0; i < length; i += 1) {\n\t        var op = ops[i];\n\t        d = d.concat(encode[op.type](op.value));\n\t    }\n\t\n\t    if (wmm) {\n\t        wmm.set(ops, d);\n\t    }\n\t\n\t    return d;\n\t};\n\t\n\t/**\n\t * @param {Array}\n\t * @returns {number}\n\t */\n\tsizeOf.CHARSTRING = function(ops) {\n\t    return encode.CHARSTRING(ops).length;\n\t};\n\t\n\t// Utility functions ////////////////////////////////////////////////////////\n\t\n\t/**\n\t * Convert an object containing name / type / value to bytes.\n\t * @param {Object}\n\t * @returns {Array}\n\t */\n\tencode.OBJECT = function(v) {\n\t    var encodingFunction = encode[v.type];\n\t    check.argument(encodingFunction !== undefined, 'No encoding function for type ' + v.type);\n\t    return encodingFunction(v.value);\n\t};\n\t\n\t/**\n\t * @param {Object}\n\t * @returns {number}\n\t */\n\tsizeOf.OBJECT = function(v) {\n\t    var sizeOfFunction = sizeOf[v.type];\n\t    check.argument(sizeOfFunction !== undefined, 'No sizeOf function for type ' + v.type);\n\t    return sizeOfFunction(v.value);\n\t};\n\t\n\t/**\n\t * Convert a table object to bytes.\n\t * A table contains a list of fields containing the metadata (name, type and default value).\n\t * The table itself has the field values set as attributes.\n\t * @param {opentype.Table}\n\t * @returns {Array}\n\t */\n\tencode.TABLE = function(table) {\n\t    var d = [];\n\t    var length = table.fields.length;\n\t    var subtables = [];\n\t    var subtableOffsets = [];\n\t\n\t    for (var i = 0; i < length; i += 1) {\n\t        var field = table.fields[i];\n\t        var encodingFunction = encode[field.type];\n\t        check.argument(encodingFunction !== undefined, 'No encoding function for field type ' + field.type + ' (' + field.name + ')');\n\t        var value = table[field.name];\n\t        if (value === undefined) {\n\t            value = field.value;\n\t        }\n\t\n\t        var bytes = encodingFunction(value);\n\t\n\t        if (field.type === 'TABLE') {\n\t            subtableOffsets.push(d.length);\n\t            d = d.concat([0, 0]);\n\t            subtables.push(bytes);\n\t        } else {\n\t            d = d.concat(bytes);\n\t        }\n\t    }\n\t\n\t    for (var i$1 = 0; i$1 < subtables.length; i$1 += 1) {\n\t        var o = subtableOffsets[i$1];\n\t        var offset = d.length;\n\t        check.argument(offset < 65536, 'Table ' + table.tableName + ' too big.');\n\t        d[o] = offset >> 8;\n\t        d[o + 1] = offset & 0xff;\n\t        d = d.concat(subtables[i$1]);\n\t    }\n\t\n\t    return d;\n\t};\n\t\n\t/**\n\t * @param {opentype.Table}\n\t * @returns {number}\n\t */\n\tsizeOf.TABLE = function(table) {\n\t    var numBytes = 0;\n\t    var length = table.fields.length;\n\t\n\t    for (var i = 0; i < length; i += 1) {\n\t        var field = table.fields[i];\n\t        var sizeOfFunction = sizeOf[field.type];\n\t        check.argument(sizeOfFunction !== undefined, 'No sizeOf function for field type ' + field.type + ' (' + field.name + ')');\n\t        var value = table[field.name];\n\t        if (value === undefined) {\n\t            value = field.value;\n\t        }\n\t\n\t        numBytes += sizeOfFunction(value);\n\t\n\t        // Subtables take 2 more bytes for offsets.\n\t        if (field.type === 'TABLE') {\n\t            numBytes += 2;\n\t        }\n\t    }\n\t\n\t    return numBytes;\n\t};\n\t\n\tencode.RECORD = encode.TABLE;\n\tsizeOf.RECORD = sizeOf.TABLE;\n\t\n\t// Merge in a list of bytes.\n\tencode.LITERAL = function(v) {\n\t    return v;\n\t};\n\t\n\tsizeOf.LITERAL = function(v) {\n\t    return v.length;\n\t};\n\t\n\t// Table metadata\n\t\n\t/**\n\t * @exports opentype.Table\n\t * @class\n\t * @param {string} tableName\n\t * @param {Array} fields\n\t * @param {Object} options\n\t * @constructor\n\t */\n\tfunction Table(tableName, fields, options) {\n\t    var this$1 = this;\n\t\n\t    for (var i = 0; i < fields.length; i += 1) {\n\t        var field = fields[i];\n\t        this$1[field.name] = field.value;\n\t    }\n\t\n\t    this.tableName = tableName;\n\t    this.fields = fields;\n\t    if (options) {\n\t        var optionKeys = Object.keys(options);\n\t        for (var i$1 = 0; i$1 < optionKeys.length; i$1 += 1) {\n\t            var k = optionKeys[i$1];\n\t            var v = options[k];\n\t            if (this$1[k] !== undefined) {\n\t                this$1[k] = v;\n\t            }\n\t        }\n\t    }\n\t}\n\t\n\t/**\n\t * Encodes the table and returns an array of bytes\n\t * @return {Array}\n\t */\n\tTable.prototype.encode = function() {\n\t    return encode.TABLE(this);\n\t};\n\t\n\t/**\n\t * Get the size of the table.\n\t * @return {number}\n\t */\n\tTable.prototype.sizeOf = function() {\n\t    return sizeOf.TABLE(this);\n\t};\n\t\n\t/**\n\t * @private\n\t */\n\tfunction ushortList(itemName, list, count) {\n\t    if (count === undefined) {\n\t        count = list.length;\n\t    }\n\t    var fields = new Array(list.length + 1);\n\t    fields[0] = {name: itemName + 'Count', type: 'USHORT', value: count};\n\t    for (var i = 0; i < list.length; i++) {\n\t        fields[i + 1] = {name: itemName + i, type: 'USHORT', value: list[i]};\n\t    }\n\t    return fields;\n\t}\n\t\n\t/**\n\t * @private\n\t */\n\tfunction tableList(itemName, records, itemCallback) {\n\t    var count = records.length;\n\t    var fields = new Array(count + 1);\n\t    fields[0] = {name: itemName + 'Count', type: 'USHORT', value: count};\n\t    for (var i = 0; i < count; i++) {\n\t        fields[i + 1] = {name: itemName + i, type: 'TABLE', value: itemCallback(records[i], i)};\n\t    }\n\t    return fields;\n\t}\n\t\n\t/**\n\t * @private\n\t */\n\tfunction recordList(itemName, records, itemCallback) {\n\t    var count = records.length;\n\t    var fields = [];\n\t    fields[0] = {name: itemName + 'Count', type: 'USHORT', value: count};\n\t    for (var i = 0; i < count; i++) {\n\t        fields = fields.concat(itemCallback(records[i], i));\n\t    }\n\t    return fields;\n\t}\n\t\n\t// Common Layout Tables\n\t\n\t/**\n\t * @exports opentype.Coverage\n\t * @class\n\t * @param {opentype.Table}\n\t * @constructor\n\t * @extends opentype.Table\n\t */\n\tfunction Coverage(coverageTable) {\n\t    if (coverageTable.format === 1) {\n\t        Table.call(this, 'coverageTable',\n\t            [{name: 'coverageFormat', type: 'USHORT', value: 1}]\n\t            .concat(ushortList('glyph', coverageTable.glyphs))\n\t        );\n\t    } else {\n\t        check.assert(false, 'Can\\'t create coverage table format 2 yet.');\n\t    }\n\t}\n\tCoverage.prototype = Object.create(Table.prototype);\n\tCoverage.prototype.constructor = Coverage;\n\t\n\tfunction ScriptList(scriptListTable) {\n\t    Table.call(this, 'scriptListTable',\n\t        recordList('scriptRecord', scriptListTable, function(scriptRecord, i) {\n\t            var script = scriptRecord.script;\n\t            var defaultLangSys = script.defaultLangSys;\n\t            check.assert(!!defaultLangSys, 'Unable to write GSUB: script ' + scriptRecord.tag + ' has no default language system.');\n\t            return [\n\t                {name: 'scriptTag' + i, type: 'TAG', value: scriptRecord.tag},\n\t                {name: 'script' + i, type: 'TABLE', value: new Table('scriptTable', [\n\t                    {name: 'defaultLangSys', type: 'TABLE', value: new Table('defaultLangSys', [\n\t                        {name: 'lookupOrder', type: 'USHORT', value: 0},\n\t                        {name: 'reqFeatureIndex', type: 'USHORT', value: defaultLangSys.reqFeatureIndex}]\n\t                        .concat(ushortList('featureIndex', defaultLangSys.featureIndexes)))}\n\t                    ].concat(recordList('langSys', script.langSysRecords, function(langSysRecord, i) {\n\t                        var langSys = langSysRecord.langSys;\n\t                        return [\n\t                            {name: 'langSysTag' + i, type: 'TAG', value: langSysRecord.tag},\n\t                            {name: 'langSys' + i, type: 'TABLE', value: new Table('langSys', [\n\t                                {name: 'lookupOrder', type: 'USHORT', value: 0},\n\t                                {name: 'reqFeatureIndex', type: 'USHORT', value: langSys.reqFeatureIndex}\n\t                                ].concat(ushortList('featureIndex', langSys.featureIndexes)))}\n\t                        ];\n\t                    })))}\n\t            ];\n\t        })\n\t    );\n\t}\n\tScriptList.prototype = Object.create(Table.prototype);\n\tScriptList.prototype.constructor = ScriptList;\n\t\n\t/**\n\t * @exports opentype.FeatureList\n\t * @class\n\t * @param {opentype.Table}\n\t * @constructor\n\t * @extends opentype.Table\n\t */\n\tfunction FeatureList(featureListTable) {\n\t    Table.call(this, 'featureListTable',\n\t        recordList('featureRecord', featureListTable, function(featureRecord, i) {\n\t            var feature = featureRecord.feature;\n\t            return [\n\t                {name: 'featureTag' + i, type: 'TAG', value: featureRecord.tag},\n\t                {name: 'feature' + i, type: 'TABLE', value: new Table('featureTable', [\n\t                    {name: 'featureParams', type: 'USHORT', value: feature.featureParams} ].concat(ushortList('lookupListIndex', feature.lookupListIndexes)))}\n\t            ];\n\t        })\n\t    );\n\t}\n\tFeatureList.prototype = Object.create(Table.prototype);\n\tFeatureList.prototype.constructor = FeatureList;\n\t\n\t/**\n\t * @exports opentype.LookupList\n\t * @class\n\t * @param {opentype.Table}\n\t * @param {Object}\n\t * @constructor\n\t * @extends opentype.Table\n\t */\n\tfunction LookupList(lookupListTable, subtableMakers) {\n\t    Table.call(this, 'lookupListTable', tableList('lookup', lookupListTable, function(lookupTable) {\n\t        var subtableCallback = subtableMakers[lookupTable.lookupType];\n\t        check.assert(!!subtableCallback, 'Unable to write GSUB lookup type ' + lookupTable.lookupType + ' tables.');\n\t        return new Table('lookupTable', [\n\t            {name: 'lookupType', type: 'USHORT', value: lookupTable.lookupType},\n\t            {name: 'lookupFlag', type: 'USHORT', value: lookupTable.lookupFlag}\n\t        ].concat(tableList('subtable', lookupTable.subtables, subtableCallback)));\n\t    }));\n\t}\n\tLookupList.prototype = Object.create(Table.prototype);\n\tLookupList.prototype.constructor = LookupList;\n\t\n\t// Record = same as Table, but inlined (a Table has an offset and its data is further in the stream)\n\t// Don't use offsets inside Records (probable bug), only in Tables.\n\tvar table = {\n\t    Table: Table,\n\t    Record: Table,\n\t    Coverage: Coverage,\n\t    ScriptList: ScriptList,\n\t    FeatureList: FeatureList,\n\t    LookupList: LookupList,\n\t    ushortList: ushortList,\n\t    tableList: tableList,\n\t    recordList: recordList,\n\t};\n\t\n\t// Parsing utility functions\n\t\n\t// Retrieve an unsigned byte from the DataView.\n\tfunction getByte(dataView, offset) {\n\t    return dataView.getUint8(offset);\n\t}\n\t\n\t// Retrieve an unsigned 16-bit short from the DataView.\n\t// The value is stored in big endian.\n\tfunction getUShort(dataView, offset) {\n\t    return dataView.getUint16(offset, false);\n\t}\n\t\n\t// Retrieve a signed 16-bit short from the DataView.\n\t// The value is stored in big endian.\n\tfunction getShort(dataView, offset) {\n\t    return dataView.getInt16(offset, false);\n\t}\n\t\n\t// Retrieve an unsigned 32-bit long from the DataView.\n\t// The value is stored in big endian.\n\tfunction getULong(dataView, offset) {\n\t    return dataView.getUint32(offset, false);\n\t}\n\t\n\t// Retrieve a 32-bit signed fixed-point number (16.16) from the DataView.\n\t// The value is stored in big endian.\n\tfunction getFixed(dataView, offset) {\n\t    var decimal = dataView.getInt16(offset, false);\n\t    var fraction = dataView.getUint16(offset + 2, false);\n\t    return decimal + fraction / 65535;\n\t}\n\t\n\t// Retrieve a 4-character tag from the DataView.\n\t// Tags are used to identify tables.\n\tfunction getTag(dataView, offset) {\n\t    var tag = '';\n\t    for (var i = offset; i < offset + 4; i += 1) {\n\t        tag += String.fromCharCode(dataView.getInt8(i));\n\t    }\n\t\n\t    return tag;\n\t}\n\t\n\t// Retrieve an offset from the DataView.\n\t// Offsets are 1 to 4 bytes in length, depending on the offSize argument.\n\tfunction getOffset(dataView, offset, offSize) {\n\t    var v = 0;\n\t    for (var i = 0; i < offSize; i += 1) {\n\t        v <<= 8;\n\t        v += dataView.getUint8(offset + i);\n\t    }\n\t\n\t    return v;\n\t}\n\t\n\t// Retrieve a number of bytes from start offset to the end offset from the DataView.\n\tfunction getBytes(dataView, startOffset, endOffset) {\n\t    var bytes = [];\n\t    for (var i = startOffset; i < endOffset; i += 1) {\n\t        bytes.push(dataView.getUint8(i));\n\t    }\n\t\n\t    return bytes;\n\t}\n\t\n\t// Convert the list of bytes to a string.\n\tfunction bytesToString(bytes) {\n\t    var s = '';\n\t    for (var i = 0; i < bytes.length; i += 1) {\n\t        s += String.fromCharCode(bytes[i]);\n\t    }\n\t\n\t    return s;\n\t}\n\t\n\tvar typeOffsets = {\n\t    byte: 1,\n\t    uShort: 2,\n\t    short: 2,\n\t    uLong: 4,\n\t    fixed: 4,\n\t    longDateTime: 8,\n\t    tag: 4\n\t};\n\t\n\t// A stateful parser that changes the offset whenever a value is retrieved.\n\t// The data is a DataView.\n\tfunction Parser(data, offset) {\n\t    this.data = data;\n\t    this.offset = offset;\n\t    this.relativeOffset = 0;\n\t}\n\t\n\tParser.prototype.parseByte = function() {\n\t    var v = this.data.getUint8(this.offset + this.relativeOffset);\n\t    this.relativeOffset += 1;\n\t    return v;\n\t};\n\t\n\tParser.prototype.parseChar = function() {\n\t    var v = this.data.getInt8(this.offset + this.relativeOffset);\n\t    this.relativeOffset += 1;\n\t    return v;\n\t};\n\t\n\tParser.prototype.parseCard8 = Parser.prototype.parseByte;\n\t\n\tParser.prototype.parseUShort = function() {\n\t    var v = this.data.getUint16(this.offset + this.relativeOffset);\n\t    this.relativeOffset += 2;\n\t    return v;\n\t};\n\t\n\tParser.prototype.parseCard16 = Parser.prototype.parseUShort;\n\tParser.prototype.parseSID = Parser.prototype.parseUShort;\n\tParser.prototype.parseOffset16 = Parser.prototype.parseUShort;\n\t\n\tParser.prototype.parseShort = function() {\n\t    var v = this.data.getInt16(this.offset + this.relativeOffset);\n\t    this.relativeOffset += 2;\n\t    return v;\n\t};\n\t\n\tParser.prototype.parseF2Dot14 = function() {\n\t    var v = this.data.getInt16(this.offset + this.relativeOffset) / 16384;\n\t    this.relativeOffset += 2;\n\t    return v;\n\t};\n\t\n\tParser.prototype.parseULong = function() {\n\t    var v = getULong(this.data, this.offset + this.relativeOffset);\n\t    this.relativeOffset += 4;\n\t    return v;\n\t};\n\t\n\tParser.prototype.parseFixed = function() {\n\t    var v = getFixed(this.data, this.offset + this.relativeOffset);\n\t    this.relativeOffset += 4;\n\t    return v;\n\t};\n\t\n\tParser.prototype.parseString = function(length) {\n\t    var dataView = this.data;\n\t    var offset = this.offset + this.relativeOffset;\n\t    var string = '';\n\t    this.relativeOffset += length;\n\t    for (var i = 0; i < length; i++) {\n\t        string += String.fromCharCode(dataView.getUint8(offset + i));\n\t    }\n\t\n\t    return string;\n\t};\n\t\n\tParser.prototype.parseTag = function() {\n\t    return this.parseString(4);\n\t};\n\t\n\t// LONGDATETIME is a 64-bit integer.\n\t// JavaScript and unix timestamps traditionally use 32 bits, so we\n\t// only take the last 32 bits.\n\t// + Since until 2038 those bits will be filled by zeros we can ignore them.\n\tParser.prototype.parseLongDateTime = function() {\n\t    var v = getULong(this.data, this.offset + this.relativeOffset + 4);\n\t    // Subtract seconds between 01/01/1904 and 01/01/1970\n\t    // to convert Apple Mac timestamp to Standard Unix timestamp\n\t    v -= 2082844800;\n\t    this.relativeOffset += 8;\n\t    return v;\n\t};\n\t\n\tParser.prototype.parseVersion = function() {\n\t    var major = getUShort(this.data, this.offset + this.relativeOffset);\n\t\n\t    // How to interpret the minor version is very vague in the spec. 0x5000 is 5, 0x1000 is 1\n\t    // This returns the correct number if minor = 0xN000 where N is 0-9\n\t    var minor = getUShort(this.data, this.offset + this.relativeOffset + 2);\n\t    this.relativeOffset += 4;\n\t    return major + minor / 0x1000 / 10;\n\t};\n\t\n\tParser.prototype.skip = function(type, amount) {\n\t    if (amount === undefined) {\n\t        amount = 1;\n\t    }\n\t\n\t    this.relativeOffset += typeOffsets[type] * amount;\n\t};\n\t\n\t///// Parsing lists and records ///////////////////////////////\n\t\n\t// Parse a list of 16 bit unsigned integers. The length of the list can be read on the stream\n\t// or provided as an argument.\n\tParser.prototype.parseOffset16List =\n\tParser.prototype.parseUShortList = function(count) {\n\t    if (count === undefined) { count = this.parseUShort(); }\n\t    var offsets = new Array(count);\n\t    var dataView = this.data;\n\t    var offset = this.offset + this.relativeOffset;\n\t    for (var i = 0; i < count; i++) {\n\t        offsets[i] = dataView.getUint16(offset);\n\t        offset += 2;\n\t    }\n\t\n\t    this.relativeOffset += count * 2;\n\t    return offsets;\n\t};\n\t\n\t// Parses a list of 16 bit signed integers.\n\tParser.prototype.parseShortList = function(count) {\n\t    var list = new Array(count);\n\t    var dataView = this.data;\n\t    var offset = this.offset + this.relativeOffset;\n\t    for (var i = 0; i < count; i++) {\n\t        list[i] = dataView.getInt16(offset);\n\t        offset += 2;\n\t    }\n\t\n\t    this.relativeOffset += count * 2;\n\t    return list;\n\t};\n\t\n\t// Parses a list of bytes.\n\tParser.prototype.parseByteList = function(count) {\n\t    var list = new Array(count);\n\t    var dataView = this.data;\n\t    var offset = this.offset + this.relativeOffset;\n\t    for (var i = 0; i < count; i++) {\n\t        list[i] = dataView.getUint8(offset++);\n\t    }\n\t\n\t    this.relativeOffset += count;\n\t    return list;\n\t};\n\t\n\t/**\n\t * Parse a list of items.\n\t * Record count is optional, if omitted it is read from the stream.\n\t * itemCallback is one of the Parser methods.\n\t */\n\tParser.prototype.parseList = function(count, itemCallback) {\n\t    var this$1 = this;\n\t\n\t    if (!itemCallback) {\n\t        itemCallback = count;\n\t        count = this.parseUShort();\n\t    }\n\t    var list = new Array(count);\n\t    for (var i = 0; i < count; i++) {\n\t        list[i] = itemCallback.call(this$1);\n\t    }\n\t    return list;\n\t};\n\t\n\t/**\n\t * Parse a list of records.\n\t * Record count is optional, if omitted it is read from the stream.\n\t * Example of recordDescription: { sequenceIndex: Parser.uShort, lookupListIndex: Parser.uShort }\n\t */\n\tParser.prototype.parseRecordList = function(count, recordDescription) {\n\t    var this$1 = this;\n\t\n\t    // If the count argument is absent, read it in the stream.\n\t    if (!recordDescription) {\n\t        recordDescription = count;\n\t        count = this.parseUShort();\n\t    }\n\t    var records = new Array(count);\n\t    var fields = Object.keys(recordDescription);\n\t    for (var i = 0; i < count; i++) {\n\t        var rec = {};\n\t        for (var j = 0; j < fields.length; j++) {\n\t            var fieldName = fields[j];\n\t            var fieldType = recordDescription[fieldName];\n\t            rec[fieldName] = fieldType.call(this$1);\n\t        }\n\t        records[i] = rec;\n\t    }\n\t    return records;\n\t};\n\t\n\t// Parse a data structure into an object\n\t// Example of description: { sequenceIndex: Parser.uShort, lookupListIndex: Parser.uShort }\n\tParser.prototype.parseStruct = function(description) {\n\t    var this$1 = this;\n\t\n\t    if (typeof description === 'function') {\n\t        return description.call(this);\n\t    } else {\n\t        var fields = Object.keys(description);\n\t        var struct = {};\n\t        for (var j = 0; j < fields.length; j++) {\n\t            var fieldName = fields[j];\n\t            var fieldType = description[fieldName];\n\t            struct[fieldName] = fieldType.call(this$1);\n\t        }\n\t        return struct;\n\t    }\n\t};\n\t\n\tParser.prototype.parsePointer = function(description) {\n\t    var structOffset = this.parseOffset16();\n\t    if (structOffset > 0) {                         // NULL offset => return undefined\n\t        return new Parser(this.data, this.offset + structOffset).parseStruct(description);\n\t    }\n\t    return undefined;\n\t};\n\t\n\t/**\n\t * Parse a list of offsets to lists of 16-bit integers,\n\t * or a list of offsets to lists of offsets to any kind of items.\n\t * If itemCallback is not provided, a list of list of UShort is assumed.\n\t * If provided, itemCallback is called on each item and must parse the item.\n\t * See examples in tables/gsub.js\n\t */\n\tParser.prototype.parseListOfLists = function(itemCallback) {\n\t    var this$1 = this;\n\t\n\t    var offsets = this.parseOffset16List();\n\t    var count = offsets.length;\n\t    var relativeOffset = this.relativeOffset;\n\t    var list = new Array(count);\n\t    for (var i = 0; i < count; i++) {\n\t        var start = offsets[i];\n\t        if (start === 0) {                  // NULL offset\n\t            list[i] = undefined;            // Add i as owned property to list. Convenient with assert.\n\t            continue;\n\t        }\n\t        this$1.relativeOffset = start;\n\t        if (itemCallback) {\n\t            var subOffsets = this$1.parseOffset16List();\n\t            var subList = new Array(subOffsets.length);\n\t            for (var j = 0; j < subOffsets.length; j++) {\n\t                this$1.relativeOffset = start + subOffsets[j];\n\t                subList[j] = itemCallback.call(this$1);\n\t            }\n\t            list[i] = subList;\n\t        } else {\n\t            list[i] = this$1.parseUShortList();\n\t        }\n\t    }\n\t    this.relativeOffset = relativeOffset;\n\t    return list;\n\t};\n\t\n\t///// Complex tables parsing //////////////////////////////////\n\t\n\t// Parse a coverage table in a GSUB, GPOS or GDEF table.\n\t// https://www.microsoft.com/typography/OTSPEC/chapter2.htm\n\t// parser.offset must point to the start of the table containing the coverage.\n\tParser.prototype.parseCoverage = function() {\n\t    var this$1 = this;\n\t\n\t    var startOffset = this.offset + this.relativeOffset;\n\t    var format = this.parseUShort();\n\t    var count = this.parseUShort();\n\t    if (format === 1) {\n\t        return {\n\t            format: 1,\n\t            glyphs: this.parseUShortList(count)\n\t        };\n\t    } else if (format === 2) {\n\t        var ranges = new Array(count);\n\t        for (var i = 0; i < count; i++) {\n\t            ranges[i] = {\n\t                start: this$1.parseUShort(),\n\t                end: this$1.parseUShort(),\n\t                index: this$1.parseUShort()\n\t            };\n\t        }\n\t        return {\n\t            format: 2,\n\t            ranges: ranges\n\t        };\n\t    }\n\t    throw new Error('0x' + startOffset.toString(16) + ': Coverage format must be 1 or 2.');\n\t};\n\t\n\t// Parse a Class Definition Table in a GSUB, GPOS or GDEF table.\n\t// https://www.microsoft.com/typography/OTSPEC/chapter2.htm\n\tParser.prototype.parseClassDef = function() {\n\t    var startOffset = this.offset + this.relativeOffset;\n\t    var format = this.parseUShort();\n\t    if (format === 1) {\n\t        return {\n\t            format: 1,\n\t            startGlyph: this.parseUShort(),\n\t            classes: this.parseUShortList()\n\t        };\n\t    } else if (format === 2) {\n\t        return {\n\t            format: 2,\n\t            ranges: this.parseRecordList({\n\t                start: Parser.uShort,\n\t                end: Parser.uShort,\n\t                classId: Parser.uShort\n\t            })\n\t        };\n\t    }\n\t    throw new Error('0x' + startOffset.toString(16) + ': ClassDef format must be 1 or 2.');\n\t};\n\t\n\t///// Static methods ///////////////////////////////////\n\t// These convenience methods can be used as callbacks and should be called with \"this\" context set to a Parser instance.\n\t\n\tParser.list = function(count, itemCallback) {\n\t    return function() {\n\t        return this.parseList(count, itemCallback);\n\t    };\n\t};\n\t\n\tParser.recordList = function(count, recordDescription) {\n\t    return function() {\n\t        return this.parseRecordList(count, recordDescription);\n\t    };\n\t};\n\t\n\tParser.pointer = function(description) {\n\t    return function() {\n\t        return this.parsePointer(description);\n\t    };\n\t};\n\t\n\tParser.tag = Parser.prototype.parseTag;\n\tParser.byte = Parser.prototype.parseByte;\n\tParser.uShort = Parser.offset16 = Parser.prototype.parseUShort;\n\tParser.uShortList = Parser.prototype.parseUShortList;\n\tParser.struct = Parser.prototype.parseStruct;\n\tParser.coverage = Parser.prototype.parseCoverage;\n\tParser.classDef = Parser.prototype.parseClassDef;\n\t\n\t///// Script, Feature, Lookup lists ///////////////////////////////////////////////\n\t// https://www.microsoft.com/typography/OTSPEC/chapter2.htm\n\t\n\tvar langSysTable = {\n\t    reserved: Parser.uShort,\n\t    reqFeatureIndex: Parser.uShort,\n\t    featureIndexes: Parser.uShortList\n\t};\n\t\n\tParser.prototype.parseScriptList = function() {\n\t    return this.parsePointer(Parser.recordList({\n\t        tag: Parser.tag,\n\t        script: Parser.pointer({\n\t            defaultLangSys: Parser.pointer(langSysTable),\n\t            langSysRecords: Parser.recordList({\n\t                tag: Parser.tag,\n\t                langSys: Parser.pointer(langSysTable)\n\t            })\n\t        })\n\t    }));\n\t};\n\t\n\tParser.prototype.parseFeatureList = function() {\n\t    return this.parsePointer(Parser.recordList({\n\t        tag: Parser.tag,\n\t        feature: Parser.pointer({\n\t            featureParams: Parser.offset16,\n\t            lookupListIndexes: Parser.uShortList\n\t        })\n\t    }));\n\t};\n\t\n\tParser.prototype.parseLookupList = function(lookupTableParsers) {\n\t    return this.parsePointer(Parser.list(Parser.pointer(function() {\n\t        var lookupType = this.parseUShort();\n\t        check.argument(1 <= lookupType && lookupType <= 8, 'GSUB lookup type ' + lookupType + ' unknown.');\n\t        var lookupFlag = this.parseUShort();\n\t        var useMarkFilteringSet = lookupFlag & 0x10;\n\t        return {\n\t            lookupType: lookupType,\n\t            lookupFlag: lookupFlag,\n\t            subtables: this.parseList(Parser.pointer(lookupTableParsers[lookupType])),\n\t            markFilteringSet: useMarkFilteringSet ? this.parseUShort() : undefined\n\t        };\n\t    })));\n\t};\n\t\n\tvar parse = {\n\t    getByte: getByte,\n\t    getCard8: getByte,\n\t    getUShort: getUShort,\n\t    getCard16: getUShort,\n\t    getShort: getShort,\n\t    getULong: getULong,\n\t    getFixed: getFixed,\n\t    getTag: getTag,\n\t    getOffset: getOffset,\n\t    getBytes: getBytes,\n\t    bytesToString: bytesToString,\n\t    Parser: Parser,\n\t};\n\t\n\t// The `cmap` table stores the mappings from characters to glyphs.\n\t// https://www.microsoft.com/typography/OTSPEC/cmap.htm\n\t\n\tfunction parseCmapTableFormat12(cmap, p) {\n\t    //Skip reserved.\n\t    p.parseUShort();\n\t\n\t    // Length in bytes of the sub-tables.\n\t    cmap.length = p.parseULong();\n\t    cmap.language = p.parseULong();\n\t\n\t    var groupCount;\n\t    cmap.groupCount = groupCount = p.parseULong();\n\t    cmap.glyphIndexMap = {};\n\t\n\t    for (var i = 0; i < groupCount; i += 1) {\n\t        var startCharCode = p.parseULong();\n\t        var endCharCode = p.parseULong();\n\t        var startGlyphId = p.parseULong();\n\t\n\t        for (var c = startCharCode; c <= endCharCode; c += 1) {\n\t            cmap.glyphIndexMap[c] = startGlyphId;\n\t            startGlyphId++;\n\t        }\n\t    }\n\t}\n\t\n\tfunction parseCmapTableFormat4(cmap, p, data, start, offset) {\n\t    // Length in bytes of the sub-tables.\n\t    cmap.length = p.parseUShort();\n\t    cmap.language = p.parseUShort();\n\t\n\t    // segCount is stored x 2.\n\t    var segCount;\n\t    cmap.segCount = segCount = p.parseUShort() >> 1;\n\t\n\t    // Skip searchRange, entrySelector, rangeShift.\n\t    p.skip('uShort', 3);\n\t\n\t    // The \"unrolled\" mapping from character codes to glyph indices.\n\t    cmap.glyphIndexMap = {};\n\t    var endCountParser = new parse.Parser(data, start + offset + 14);\n\t    var startCountParser = new parse.Parser(data, start + offset + 16 + segCount * 2);\n\t    var idDeltaParser = new parse.Parser(data, start + offset + 16 + segCount * 4);\n\t    var idRangeOffsetParser = new parse.Parser(data, start + offset + 16 + segCount * 6);\n\t    var glyphIndexOffset = start + offset + 16 + segCount * 8;\n\t    for (var i = 0; i < segCount - 1; i += 1) {\n\t        var glyphIndex = (void 0);\n\t        var endCount = endCountParser.parseUShort();\n\t        var startCount = startCountParser.parseUShort();\n\t        var idDelta = idDeltaParser.parseShort();\n\t        var idRangeOffset = idRangeOffsetParser.parseUShort();\n\t        for (var c = startCount; c <= endCount; c += 1) {\n\t            if (idRangeOffset !== 0) {\n\t                // The idRangeOffset is relative to the current position in the idRangeOffset array.\n\t                // Take the current offset in the idRangeOffset array.\n\t                glyphIndexOffset = (idRangeOffsetParser.offset + idRangeOffsetParser.relativeOffset - 2);\n\t\n\t                // Add the value of the idRangeOffset, which will move us into the glyphIndex array.\n\t                glyphIndexOffset += idRangeOffset;\n\t\n\t                // Then add the character index of the current segment, multiplied by 2 for USHORTs.\n\t                glyphIndexOffset += (c - startCount) * 2;\n\t                glyphIndex = parse.getUShort(data, glyphIndexOffset);\n\t                if (glyphIndex !== 0) {\n\t                    glyphIndex = (glyphIndex + idDelta) & 0xFFFF;\n\t                }\n\t            } else {\n\t                glyphIndex = (c + idDelta) & 0xFFFF;\n\t            }\n\t\n\t            cmap.glyphIndexMap[c] = glyphIndex;\n\t        }\n\t    }\n\t}\n\t\n\t// Parse the `cmap` table. This table stores the mappings from characters to glyphs.\n\t// There are many available formats, but we only support the Windows format 4 and 12.\n\t// This function returns a `CmapEncoding` object or null if no supported format could be found.\n\tfunction parseCmapTable(data, start) {\n\t    var cmap = {};\n\t    cmap.version = parse.getUShort(data, start);\n\t    check.argument(cmap.version === 0, 'cmap table version should be 0.');\n\t\n\t    // The cmap table can contain many sub-tables, each with their own format.\n\t    // We're only interested in a \"platform 3\" table. This is a Windows format.\n\t    cmap.numTables = parse.getUShort(data, start + 2);\n\t    var offset = -1;\n\t    for (var i = cmap.numTables - 1; i >= 0; i -= 1) {\n\t        var platformId = parse.getUShort(data, start + 4 + (i * 8));\n\t        var encodingId = parse.getUShort(data, start + 4 + (i * 8) + 2);\n\t        if (platformId === 3 && (encodingId === 0 || encodingId === 1 || encodingId === 10)) {\n\t            offset = parse.getULong(data, start + 4 + (i * 8) + 4);\n\t            break;\n\t        }\n\t    }\n\t\n\t    if (offset === -1) {\n\t        // There is no cmap table in the font that we support.\n\t        throw new Error('No valid cmap sub-tables found.');\n\t    }\n\t\n\t    var p = new parse.Parser(data, start + offset);\n\t    cmap.format = p.parseUShort();\n\t\n\t    if (cmap.format === 12) {\n\t        parseCmapTableFormat12(cmap, p);\n\t    } else if (cmap.format === 4) {\n\t        parseCmapTableFormat4(cmap, p, data, start, offset);\n\t    } else {\n\t        throw new Error('Only format 4 and 12 cmap tables are supported (found format ' + cmap.format + ').');\n\t    }\n\t\n\t    return cmap;\n\t}\n\t\n\tfunction addSegment(t, code, glyphIndex) {\n\t    t.segments.push({\n\t        end: code,\n\t        start: code,\n\t        delta: -(code - glyphIndex),\n\t        offset: 0\n\t    });\n\t}\n\t\n\tfunction addTerminatorSegment(t) {\n\t    t.segments.push({\n\t        end: 0xFFFF,\n\t        start: 0xFFFF,\n\t        delta: 1,\n\t        offset: 0\n\t    });\n\t}\n\t\n\tfunction makeCmapTable(glyphs) {\n\t    var t = new table.Table('cmap', [\n\t        {name: 'version', type: 'USHORT', value: 0},\n\t        {name: 'numTables', type: 'USHORT', value: 1},\n\t        {name: 'platformID', type: 'USHORT', value: 3},\n\t        {name: 'encodingID', type: 'USHORT', value: 1},\n\t        {name: 'offset', type: 'ULONG', value: 12},\n\t        {name: 'format', type: 'USHORT', value: 4},\n\t        {name: 'length', type: 'USHORT', value: 0},\n\t        {name: 'language', type: 'USHORT', value: 0},\n\t        {name: 'segCountX2', type: 'USHORT', value: 0},\n\t        {name: 'searchRange', type: 'USHORT', value: 0},\n\t        {name: 'entrySelector', type: 'USHORT', value: 0},\n\t        {name: 'rangeShift', type: 'USHORT', value: 0}\n\t    ]);\n\t\n\t    t.segments = [];\n\t    for (var i = 0; i < glyphs.length; i += 1) {\n\t        var glyph = glyphs.get(i);\n\t        for (var j = 0; j < glyph.unicodes.length; j += 1) {\n\t            addSegment(t, glyph.unicodes[j], i);\n\t        }\n\t\n\t        t.segments = t.segments.sort(function(a, b) {\n\t            return a.start - b.start;\n\t        });\n\t    }\n\t\n\t    addTerminatorSegment(t);\n\t\n\t    var segCount;\n\t    segCount = t.segments.length;\n\t    t.segCountX2 = segCount * 2;\n\t    t.searchRange = Math.pow(2, Math.floor(Math.log(segCount) / Math.log(2))) * 2;\n\t    t.entrySelector = Math.log(t.searchRange / 2) / Math.log(2);\n\t    t.rangeShift = t.segCountX2 - t.searchRange;\n\t\n\t    // Set up parallel segment arrays.\n\t    var endCounts = [];\n\t    var startCounts = [];\n\t    var idDeltas = [];\n\t    var idRangeOffsets = [];\n\t    var glyphIds = [];\n\t\n\t    for (var i$1 = 0; i$1 < segCount; i$1 += 1) {\n\t        var segment = t.segments[i$1];\n\t        endCounts = endCounts.concat({name: 'end_' + i$1, type: 'USHORT', value: segment.end});\n\t        startCounts = startCounts.concat({name: 'start_' + i$1, type: 'USHORT', value: segment.start});\n\t        idDeltas = idDeltas.concat({name: 'idDelta_' + i$1, type: 'SHORT', value: segment.delta});\n\t        idRangeOffsets = idRangeOffsets.concat({name: 'idRangeOffset_' + i$1, type: 'USHORT', value: segment.offset});\n\t        if (segment.glyphId !== undefined) {\n\t            glyphIds = glyphIds.concat({name: 'glyph_' + i$1, type: 'USHORT', value: segment.glyphId});\n\t        }\n\t    }\n\t\n\t    t.fields = t.fields.concat(endCounts);\n\t    t.fields.push({name: 'reservedPad', type: 'USHORT', value: 0});\n\t    t.fields = t.fields.concat(startCounts);\n\t    t.fields = t.fields.concat(idDeltas);\n\t    t.fields = t.fields.concat(idRangeOffsets);\n\t    t.fields = t.fields.concat(glyphIds);\n\t\n\t    t.length = 14 + // Subtable header\n\t        endCounts.length * 2 +\n\t        2 + // reservedPad\n\t        startCounts.length * 2 +\n\t        idDeltas.length * 2 +\n\t        idRangeOffsets.length * 2 +\n\t        glyphIds.length * 2;\n\t\n\t    return t;\n\t}\n\t\n\tvar cmap = { parse: parseCmapTable, make: makeCmapTable };\n\t\n\t// Glyph encoding\n\t\n\tvar cffStandardStrings = [\n\t    '.notdef', 'space', 'exclam', 'quotedbl', 'numbersign', 'dollar', 'percent', 'ampersand', 'quoteright',\n\t    'parenleft', 'parenright', 'asterisk', 'plus', 'comma', 'hyphen', 'period', 'slash', 'zero', 'one', 'two',\n\t    'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'colon', 'semicolon', 'less', 'equal', 'greater',\n\t    'question', 'at', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S',\n\t    'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'bracketleft', 'backslash', 'bracketright', 'asciicircum', 'underscore',\n\t    'quoteleft', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',\n\t    'u', 'v', 'w', 'x', 'y', 'z', 'braceleft', 'bar', 'braceright', 'asciitilde', 'exclamdown', 'cent', 'sterling',\n\t    'fraction', 'yen', 'florin', 'section', 'currency', 'quotesingle', 'quotedblleft', 'guillemotleft',\n\t    'guilsinglleft', 'guilsinglright', 'fi', 'fl', 'endash', 'dagger', 'daggerdbl', 'periodcentered', 'paragraph',\n\t    'bullet', 'quotesinglbase', 'quotedblbase', 'quotedblright', 'guillemotright', 'ellipsis', 'perthousand',\n\t    'questiondown', 'grave', 'acute', 'circumflex', 'tilde', 'macron', 'breve', 'dotaccent', 'dieresis', 'ring',\n\t    'cedilla', 'hungarumlaut', 'ogonek', 'caron', 'emdash', 'AE', 'ordfeminine', 'Lslash', 'Oslash', 'OE',\n\t    'ordmasculine', 'ae', 'dotlessi', 'lslash', 'oslash', 'oe', 'germandbls', 'onesuperior', 'logicalnot', 'mu',\n\t    'trademark', 'Eth', 'onehalf', 'plusminus', 'Thorn', 'onequarter', 'divide', 'brokenbar', 'degree', 'thorn',\n\t    'threequarters', 'twosuperior', 'registered', 'minus', 'eth', 'multiply', 'threesuperior', 'copyright',\n\t    'Aacute', 'Acircumflex', 'Adieresis', 'Agrave', 'Aring', 'Atilde', 'Ccedilla', 'Eacute', 'Ecircumflex',\n\t    'Edieresis', 'Egrave', 'Iacute', 'Icircumflex', 'Idieresis', 'Igrave', 'Ntilde', 'Oacute', 'Ocircumflex',\n\t    'Odieresis', 'Ograve', 'Otilde', 'Scaron', 'Uacute', 'Ucircumflex', 'Udieresis', 'Ugrave', 'Yacute',\n\t    'Ydieresis', 'Zcaron', 'aacute', 'acircumflex', 'adieresis', 'agrave', 'aring', 'atilde', 'ccedilla', 'eacute',\n\t    'ecircumflex', 'edieresis', 'egrave', 'iacute', 'icircumflex', 'idieresis', 'igrave', 'ntilde', 'oacute',\n\t    'ocircumflex', 'odieresis', 'ograve', 'otilde', 'scaron', 'uacute', 'ucircumflex', 'udieresis', 'ugrave',\n\t    'yacute', 'ydieresis', 'zcaron', 'exclamsmall', 'Hungarumlautsmall', 'dollaroldstyle', 'dollarsuperior',\n\t    'ampersandsmall', 'Acutesmall', 'parenleftsuperior', 'parenrightsuperior', '266 ff', 'onedotenleader',\n\t    'zerooldstyle', 'oneoldstyle', 'twooldstyle', 'threeoldstyle', 'fouroldstyle', 'fiveoldstyle', 'sixoldstyle',\n\t    'sevenoldstyle', 'eightoldstyle', 'nineoldstyle', 'commasuperior', 'threequartersemdash', 'periodsuperior',\n\t    'questionsmall', 'asuperior', 'bsuperior', 'centsuperior', 'dsuperior', 'esuperior', 'isuperior', 'lsuperior',\n\t    'msuperior', 'nsuperior', 'osuperior', 'rsuperior', 'ssuperior', 'tsuperior', 'ff', 'ffi', 'ffl',\n\t    'parenleftinferior', 'parenrightinferior', 'Circumflexsmall', 'hyphensuperior', 'Gravesmall', 'Asmall',\n\t    'Bsmall', 'Csmall', 'Dsmall', 'Esmall', 'Fsmall', 'Gsmall', 'Hsmall', 'Ismall', 'Jsmall', 'Ksmall', 'Lsmall',\n\t    'Msmall', 'Nsmall', 'Osmall', 'Psmall', 'Qsmall', 'Rsmall', 'Ssmall', 'Tsmall', 'Usmall', 'Vsmall', 'Wsmall',\n\t    'Xsmall', 'Ysmall', 'Zsmall', 'colonmonetary', 'onefitted', 'rupiah', 'Tildesmall', 'exclamdownsmall',\n\t    'centoldstyle', 'Lslashsmall', 'Scaronsmall', 'Zcaronsmall', 'Dieresissmall', 'Brevesmall', 'Caronsmall',\n\t    'Dotaccentsmall', 'Macronsmall', 'figuredash', 'hypheninferior', 'Ogoneksmall', 'Ringsmall', 'Cedillasmall',\n\t    'questiondownsmall', 'oneeighth', 'threeeighths', 'fiveeighths', 'seveneighths', 'onethird', 'twothirds',\n\t    'zerosuperior', 'foursuperior', 'fivesuperior', 'sixsuperior', 'sevensuperior', 'eightsuperior', 'ninesuperior',\n\t    'zeroinferior', 'oneinferior', 'twoinferior', 'threeinferior', 'fourinferior', 'fiveinferior', 'sixinferior',\n\t    'seveninferior', 'eightinferior', 'nineinferior', 'centinferior', 'dollarinferior', 'periodinferior',\n\t    'commainferior', 'Agravesmall', 'Aacutesmall', 'Acircumflexsmall', 'Atildesmall', 'Adieresissmall',\n\t    'Aringsmall', 'AEsmall', 'Ccedillasmall', 'Egravesmall', 'Eacutesmall', 'Ecircumflexsmall', 'Edieresissmall',\n\t    'Igravesmall', 'Iacutesmall', 'Icircumflexsmall', 'Idieresissmall', 'Ethsmall', 'Ntildesmall', 'Ogravesmall',\n\t    'Oacutesmall', 'Ocircumflexsmall', 'Otildesmall', 'Odieresissmall', 'OEsmall', 'Oslashsmall', 'Ugravesmall',\n\t    'Uacutesmall', 'Ucircumflexsmall', 'Udieresissmall', 'Yacutesmall', 'Thornsmall', 'Ydieresissmall', '001.000',\n\t    '001.001', '001.002', '001.003', 'Black', 'Bold', 'Book', 'Light', 'Medium', 'Regular', 'Roman', 'Semibold'];\n\t\n\tvar cffStandardEncoding = [\n\t    '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n\t    '', '', '', '', 'space', 'exclam', 'quotedbl', 'numbersign', 'dollar', 'percent', 'ampersand', 'quoteright',\n\t    'parenleft', 'parenright', 'asterisk', 'plus', 'comma', 'hyphen', 'period', 'slash', 'zero', 'one', 'two',\n\t    'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'colon', 'semicolon', 'less', 'equal', 'greater',\n\t    'question', 'at', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S',\n\t    'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'bracketleft', 'backslash', 'bracketright', 'asciicircum', 'underscore',\n\t    'quoteleft', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',\n\t    'u', 'v', 'w', 'x', 'y', 'z', 'braceleft', 'bar', 'braceright', 'asciitilde', '', '', '', '', '', '', '', '',\n\t    '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n\t    'exclamdown', 'cent', 'sterling', 'fraction', 'yen', 'florin', 'section', 'currency', 'quotesingle',\n\t    'quotedblleft', 'guillemotleft', 'guilsinglleft', 'guilsinglright', 'fi', 'fl', '', 'endash', 'dagger',\n\t    'daggerdbl', 'periodcentered', '', 'paragraph', 'bullet', 'quotesinglbase', 'quotedblbase', 'quotedblright',\n\t    'guillemotright', 'ellipsis', 'perthousand', '', 'questiondown', '', 'grave', 'acute', 'circumflex', 'tilde',\n\t    'macron', 'breve', 'dotaccent', 'dieresis', '', 'ring', 'cedilla', '', 'hungarumlaut', 'ogonek', 'caron',\n\t    'emdash', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'AE', '', 'ordfeminine', '', '', '',\n\t    '', 'Lslash', 'Oslash', 'OE', 'ordmasculine', '', '', '', '', '', 'ae', '', '', '', 'dotlessi', '', '',\n\t    'lslash', 'oslash', 'oe', 'germandbls'];\n\t\n\tvar cffExpertEncoding = [\n\t    '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n\t    '', '', '', '', 'space', 'exclamsmall', 'Hungarumlautsmall', '', 'dollaroldstyle', 'dollarsuperior',\n\t    'ampersandsmall', 'Acutesmall', 'parenleftsuperior', 'parenrightsuperior', 'twodotenleader', 'onedotenleader',\n\t    'comma', 'hyphen', 'period', 'fraction', 'zerooldstyle', 'oneoldstyle', 'twooldstyle', 'threeoldstyle',\n\t    'fouroldstyle', 'fiveoldstyle', 'sixoldstyle', 'sevenoldstyle', 'eightoldstyle', 'nineoldstyle', 'colon',\n\t    'semicolon', 'commasuperior', 'threequartersemdash', 'periodsuperior', 'questionsmall', '', 'asuperior',\n\t    'bsuperior', 'centsuperior', 'dsuperior', 'esuperior', '', '', 'isuperior', '', '', 'lsuperior', 'msuperior',\n\t    'nsuperior', 'osuperior', '', '', 'rsuperior', 'ssuperior', 'tsuperior', '', 'ff', 'fi', 'fl', 'ffi', 'ffl',\n\t    'parenleftinferior', '', 'parenrightinferior', 'Circumflexsmall', 'hyphensuperior', 'Gravesmall', 'Asmall',\n\t    'Bsmall', 'Csmall', 'Dsmall', 'Esmall', 'Fsmall', 'Gsmall', 'Hsmall', 'Ismall', 'Jsmall', 'Ksmall', 'Lsmall',\n\t    'Msmall', 'Nsmall', 'Osmall', 'Psmall', 'Qsmall', 'Rsmall', 'Ssmall', 'Tsmall', 'Usmall', 'Vsmall', 'Wsmall',\n\t    'Xsmall', 'Ysmall', 'Zsmall', 'colonmonetary', 'onefitted', 'rupiah', 'Tildesmall', '', '', '', '', '', '', '',\n\t    '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n\t    'exclamdownsmall', 'centoldstyle', 'Lslashsmall', '', '', 'Scaronsmall', 'Zcaronsmall', 'Dieresissmall',\n\t    'Brevesmall', 'Caronsmall', '', 'Dotaccentsmall', '', '', 'Macronsmall', '', '', 'figuredash', 'hypheninferior',\n\t    '', '', 'Ogoneksmall', 'Ringsmall', 'Cedillasmall', '', '', '', 'onequarter', 'onehalf', 'threequarters',\n\t    'questiondownsmall', 'oneeighth', 'threeeighths', 'fiveeighths', 'seveneighths', 'onethird', 'twothirds', '',\n\t    '', 'zerosuperior', 'onesuperior', 'twosuperior', 'threesuperior', 'foursuperior', 'fivesuperior',\n\t    'sixsuperior', 'sevensuperior', 'eightsuperior', 'ninesuperior', 'zeroinferior', 'oneinferior', 'twoinferior',\n\t    'threeinferior', 'fourinferior', 'fiveinferior', 'sixinferior', 'seveninferior', 'eightinferior',\n\t    'nineinferior', 'centinferior', 'dollarinferior', 'periodinferior', 'commainferior', 'Agravesmall',\n\t    'Aacutesmall', 'Acircumflexsmall', 'Atildesmall', 'Adieresissmall', 'Aringsmall', 'AEsmall', 'Ccedillasmall',\n\t    'Egravesmall', 'Eacutesmall', 'Ecircumflexsmall', 'Edieresissmall', 'Igravesmall', 'Iacutesmall',\n\t    'Icircumflexsmall', 'Idieresissmall', 'Ethsmall', 'Ntildesmall', 'Ogravesmall', 'Oacutesmall',\n\t    'Ocircumflexsmall', 'Otildesmall', 'Odieresissmall', 'OEsmall', 'Oslashsmall', 'Ugravesmall', 'Uacutesmall',\n\t    'Ucircumflexsmall', 'Udieresissmall', 'Yacutesmall', 'Thornsmall', 'Ydieresissmall'];\n\t\n\tvar standardNames = [\n\t    '.notdef', '.null', 'nonmarkingreturn', 'space', 'exclam', 'quotedbl', 'numbersign', 'dollar', 'percent',\n\t    'ampersand', 'quotesingle', 'parenleft', 'parenright', 'asterisk', 'plus', 'comma', 'hyphen', 'period', 'slash',\n\t    'zero', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'colon', 'semicolon', 'less',\n\t    'equal', 'greater', 'question', 'at', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O',\n\t    'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'bracketleft', 'backslash', 'bracketright',\n\t    'asciicircum', 'underscore', 'grave', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o',\n\t    'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'braceleft', 'bar', 'braceright', 'asciitilde',\n\t    'Adieresis', 'Aring', 'Ccedilla', 'Eacute', 'Ntilde', 'Odieresis', 'Udieresis', 'aacute', 'agrave',\n\t    'acircumflex', 'adieresis', 'atilde', 'aring', 'ccedilla', 'eacute', 'egrave', 'ecircumflex', 'edieresis',\n\t    'iacute', 'igrave', 'icircumflex', 'idieresis', 'ntilde', 'oacute', 'ograve', 'ocircumflex', 'odieresis',\n\t    'otilde', 'uacute', 'ugrave', 'ucircumflex', 'udieresis', 'dagger', 'degree', 'cent', 'sterling', 'section',\n\t    'bullet', 'paragraph', 'germandbls', 'registered', 'copyright', 'trademark', 'acute', 'dieresis', 'notequal',\n\t    'AE', 'Oslash', 'infinity', 'plusminus', 'lessequal', 'greaterequal', 'yen', 'mu', 'partialdiff', 'summation',\n\t    'product', 'pi', 'integral', 'ordfeminine', 'ordmasculine', 'Omega', 'ae', 'oslash', 'questiondown',\n\t    'exclamdown', 'logicalnot', 'radical', 'florin', 'approxequal', 'Delta', 'guillemotleft', 'guillemotright',\n\t    'ellipsis', 'nonbreakingspace', 'Agrave', 'Atilde', 'Otilde', 'OE', 'oe', 'endash', 'emdash', 'quotedblleft',\n\t    'quotedblright', 'quoteleft', 'quoteright', 'divide', 'lozenge', 'ydieresis', 'Ydieresis', 'fraction',\n\t    'currency', 'guilsinglleft', 'guilsinglright', 'fi', 'fl', 'daggerdbl', 'periodcentered', 'quotesinglbase',\n\t    'quotedblbase', 'perthousand', 'Acircumflex', 'Ecircumflex', 'Aacute', 'Edieresis', 'Egrave', 'Iacute',\n\t    'Icircumflex', 'Idieresis', 'Igrave', 'Oacute', 'Ocircumflex', 'apple', 'Ograve', 'Uacute', 'Ucircumflex',\n\t    'Ugrave', 'dotlessi', 'circumflex', 'tilde', 'macron', 'breve', 'dotaccent', 'ring', 'cedilla', 'hungarumlaut',\n\t    'ogonek', 'caron', 'Lslash', 'lslash', 'Scaron', 'scaron', 'Zcaron', 'zcaron', 'brokenbar', 'Eth', 'eth',\n\t    'Yacute', 'yacute', 'Thorn', 'thorn', 'minus', 'multiply', 'onesuperior', 'twosuperior', 'threesuperior',\n\t    'onehalf', 'onequarter', 'threequarters', 'franc', 'Gbreve', 'gbreve', 'Idotaccent', 'Scedilla', 'scedilla',\n\t    'Cacute', 'cacute', 'Ccaron', 'ccaron', 'dcroat'];\n\t\n\t/**\n\t * This is the encoding used for fonts created from scratch.\n\t * It loops through all glyphs and finds the appropriate unicode value.\n\t * Since it's linear time, other encodings will be faster.\n\t * @exports opentype.DefaultEncoding\n\t * @class\n\t * @constructor\n\t * @param {opentype.Font}\n\t */\n\tfunction DefaultEncoding(font) {\n\t    this.font = font;\n\t}\n\t\n\tDefaultEncoding.prototype.charToGlyphIndex = function(c) {\n\t    var code = c.charCodeAt(0);\n\t    var glyphs = this.font.glyphs;\n\t    if (glyphs) {\n\t        for (var i = 0; i < glyphs.length; i += 1) {\n\t            var glyph = glyphs.get(i);\n\t            for (var j = 0; j < glyph.unicodes.length; j += 1) {\n\t                if (glyph.unicodes[j] === code) {\n\t                    return i;\n\t                }\n\t            }\n\t        }\n\t    }\n\t    return null;\n\t};\n\t\n\t/**\n\t * @exports opentype.CmapEncoding\n\t * @class\n\t * @constructor\n\t * @param {Object} cmap - a object with the cmap encoded data\n\t */\n\tfunction CmapEncoding(cmap) {\n\t    this.cmap = cmap;\n\t}\n\t\n\t/**\n\t * @param  {string} c - the character\n\t * @return {number} The glyph index.\n\t */\n\tCmapEncoding.prototype.charToGlyphIndex = function(c) {\n\t    return this.cmap.glyphIndexMap[c.charCodeAt(0)] || 0;\n\t};\n\t\n\t/**\n\t * @exports opentype.CffEncoding\n\t * @class\n\t * @constructor\n\t * @param {string} encoding - The encoding\n\t * @param {Array} charset - The character set.\n\t */\n\tfunction CffEncoding(encoding, charset) {\n\t    this.encoding = encoding;\n\t    this.charset = charset;\n\t}\n\t\n\t/**\n\t * @param  {string} s - The character\n\t * @return {number} The index.\n\t */\n\tCffEncoding.prototype.charToGlyphIndex = function(s) {\n\t    var code = s.charCodeAt(0);\n\t    var charName = this.encoding[code];\n\t    return this.charset.indexOf(charName);\n\t};\n\t\n\t/**\n\t * @exports opentype.GlyphNames\n\t * @class\n\t * @constructor\n\t * @param {Object} post\n\t */\n\tfunction GlyphNames(post) {\n\t    var this$1 = this;\n\t\n\t    switch (post.version) {\n\t        case 1:\n\t            this.names = standardNames.slice();\n\t            break;\n\t        case 2:\n\t            this.names = new Array(post.numberOfGlyphs);\n\t            for (var i = 0; i < post.numberOfGlyphs; i++) {\n\t                if (post.glyphNameIndex[i] < standardNames.length) {\n\t                    this$1.names[i] = standardNames[post.glyphNameIndex[i]];\n\t                } else {\n\t                    this$1.names[i] = post.names[post.glyphNameIndex[i] - standardNames.length];\n\t                }\n\t            }\n\t\n\t            break;\n\t        case 2.5:\n\t            this.names = new Array(post.numberOfGlyphs);\n\t            for (var i$1 = 0; i$1 < post.numberOfGlyphs; i$1++) {\n\t                this$1.names[i$1] = standardNames[i$1 + post.glyphNameIndex[i$1]];\n\t            }\n\t\n\t            break;\n\t        case 3:\n\t            this.names = [];\n\t            break;\n\t        default:\n\t            this.names = [];\n\t            break;\n\t    }\n\t}\n\t\n\t/**\n\t * Gets the index of a glyph by name.\n\t * @param  {string} name - The glyph name\n\t * @return {number} The index\n\t */\n\tGlyphNames.prototype.nameToGlyphIndex = function(name) {\n\t    return this.names.indexOf(name);\n\t};\n\t\n\t/**\n\t * @param  {number} gid\n\t * @return {string}\n\t */\n\tGlyphNames.prototype.glyphIndexToName = function(gid) {\n\t    return this.names[gid];\n\t};\n\t\n\t/**\n\t * @alias opentype.addGlyphNames\n\t * @param {opentype.Font}\n\t */\n\tfunction addGlyphNames(font) {\n\t    var glyph;\n\t    var glyphIndexMap = font.tables.cmap.glyphIndexMap;\n\t    var charCodes = Object.keys(glyphIndexMap);\n\t\n\t    for (var i = 0; i < charCodes.length; i += 1) {\n\t        var c = charCodes[i];\n\t        var glyphIndex = glyphIndexMap[c];\n\t        glyph = font.glyphs.get(glyphIndex);\n\t        glyph.addUnicode(parseInt(c));\n\t    }\n\t\n\t    for (var i$1 = 0; i$1 < font.glyphs.length; i$1 += 1) {\n\t        glyph = font.glyphs.get(i$1);\n\t        if (font.cffEncoding) {\n\t            if (font.isCIDFont) {\n\t                glyph.name = 'gid' + i$1;\n\t            } else {\n\t                glyph.name = font.cffEncoding.charset[i$1];\n\t            }\n\t        } else if (font.glyphNames.names) {\n\t            glyph.name = font.glyphNames.glyphIndexToName(i$1);\n\t        }\n\t    }\n\t}\n\t\n\t// Drawing utility functions.\n\t\n\t// Draw a line on the given context from point `x1,y1` to point `x2,y2`.\n\tfunction line(ctx, x1, y1, x2, y2) {\n\t    ctx.beginPath();\n\t    ctx.moveTo(x1, y1);\n\t    ctx.lineTo(x2, y2);\n\t    ctx.stroke();\n\t}\n\t\n\tvar draw = { line: line };\n\t\n\t// The `glyf` table describes the glyphs in TrueType outline format.\n\t// http://www.microsoft.com/typography/otspec/glyf.htm\n\t\n\t// Parse the coordinate data for a glyph.\n\tfunction parseGlyphCoordinate(p, flag, previousValue, shortVectorBitMask, sameBitMask) {\n\t    var v;\n\t    if ((flag & shortVectorBitMask) > 0) {\n\t        // The coordinate is 1 byte long.\n\t        v = p.parseByte();\n\t        // The `same` bit is re-used for short values to signify the sign of the value.\n\t        if ((flag & sameBitMask) === 0) {\n\t            v = -v;\n\t        }\n\t\n\t        v = previousValue + v;\n\t    } else {\n\t        //  The coordinate is 2 bytes long.\n\t        // If the `same` bit is set, the coordinate is the same as the previous coordinate.\n\t        if ((flag & sameBitMask) > 0) {\n\t            v = previousValue;\n\t        } else {\n\t            // Parse the coordinate as a signed 16-bit delta value.\n\t            v = previousValue + p.parseShort();\n\t        }\n\t    }\n\t\n\t    return v;\n\t}\n\t\n\t// Parse a TrueType glyph.\n\tfunction parseGlyph(glyph, data, start) {\n\t    var p = new parse.Parser(data, start);\n\t    glyph.numberOfContours = p.parseShort();\n\t    glyph._xMin = p.parseShort();\n\t    glyph._yMin = p.parseShort();\n\t    glyph._xMax = p.parseShort();\n\t    glyph._yMax = p.parseShort();\n\t    var flags;\n\t    var flag;\n\t\n\t    if (glyph.numberOfContours > 0) {\n\t        // This glyph is not a composite.\n\t        var endPointIndices = glyph.endPointIndices = [];\n\t        for (var i = 0; i < glyph.numberOfContours; i += 1) {\n\t            endPointIndices.push(p.parseUShort());\n\t        }\n\t\n\t        glyph.instructionLength = p.parseUShort();\n\t        glyph.instructions = [];\n\t        for (var i$1 = 0; i$1 < glyph.instructionLength; i$1 += 1) {\n\t            glyph.instructions.push(p.parseByte());\n\t        }\n\t\n\t        var numberOfCoordinates = endPointIndices[endPointIndices.length - 1] + 1;\n\t        flags = [];\n\t        for (var i$2 = 0; i$2 < numberOfCoordinates; i$2 += 1) {\n\t            flag = p.parseByte();\n\t            flags.push(flag);\n\t            // If bit 3 is set, we repeat this flag n times, where n is the next byte.\n\t            if ((flag & 8) > 0) {\n\t                var repeatCount = p.parseByte();\n\t                for (var j = 0; j < repeatCount; j += 1) {\n\t                    flags.push(flag);\n\t                    i$2 += 1;\n\t                }\n\t            }\n\t        }\n\t\n\t        check.argument(flags.length === numberOfCoordinates, 'Bad flags.');\n\t\n\t        if (endPointIndices.length > 0) {\n\t            var points = [];\n\t            var point;\n\t            // X/Y coordinates are relative to the previous point, except for the first point which is relative to 0,0.\n\t            if (numberOfCoordinates > 0) {\n\t                for (var i$3 = 0; i$3 < numberOfCoordinates; i$3 += 1) {\n\t                    flag = flags[i$3];\n\t                    point = {};\n\t                    point.onCurve = !!(flag & 1);\n\t                    point.lastPointOfContour = endPointIndices.indexOf(i$3) >= 0;\n\t                    points.push(point);\n\t                }\n\t\n\t                var px = 0;\n\t                for (var i$4 = 0; i$4 < numberOfCoordinates; i$4 += 1) {\n\t                    flag = flags[i$4];\n\t                    point = points[i$4];\n\t                    point.x = parseGlyphCoordinate(p, flag, px, 2, 16);\n\t                    px = point.x;\n\t                }\n\t\n\t                var py = 0;\n\t                for (var i$5 = 0; i$5 < numberOfCoordinates; i$5 += 1) {\n\t                    flag = flags[i$5];\n\t                    point = points[i$5];\n\t                    point.y = parseGlyphCoordinate(p, flag, py, 4, 32);\n\t                    py = point.y;\n\t                }\n\t            }\n\t\n\t            glyph.points = points;\n\t        } else {\n\t            glyph.points = [];\n\t        }\n\t    } else if (glyph.numberOfContours === 0) {\n\t        glyph.points = [];\n\t    } else {\n\t        glyph.isComposite = true;\n\t        glyph.points = [];\n\t        glyph.components = [];\n\t        var moreComponents = true;\n\t        while (moreComponents) {\n\t            flags = p.parseUShort();\n\t            var component = {\n\t                glyphIndex: p.parseUShort(),\n\t                xScale: 1,\n\t                scale01: 0,\n\t                scale10: 0,\n\t                yScale: 1,\n\t                dx: 0,\n\t                dy: 0\n\t            };\n\t            if ((flags & 1) > 0) {\n\t                // The arguments are words\n\t                if ((flags & 2) > 0) {\n\t                    // values are offset\n\t                    component.dx = p.parseShort();\n\t                    component.dy = p.parseShort();\n\t                } else {\n\t                    // values are matched points\n\t                    component.matchedPoints = [p.parseUShort(), p.parseUShort()];\n\t                }\n\t\n\t            } else {\n\t                // The arguments are bytes\n\t                if ((flags & 2) > 0) {\n\t                    // values are offset\n\t                    component.dx = p.parseChar();\n\t                    component.dy = p.parseChar();\n\t                } else {\n\t                    // values are matched points\n\t                    component.matchedPoints = [p.parseByte(), p.parseByte()];\n\t                }\n\t            }\n\t\n\t            if ((flags & 8) > 0) {\n\t                // We have a scale\n\t                component.xScale = component.yScale = p.parseF2Dot14();\n\t            } else if ((flags & 64) > 0) {\n\t                // We have an X / Y scale\n\t                component.xScale = p.parseF2Dot14();\n\t                component.yScale = p.parseF2Dot14();\n\t            } else if ((flags & 128) > 0) {\n\t                // We have a 2x2 transformation\n\t                component.xScale = p.parseF2Dot14();\n\t                component.scale01 = p.parseF2Dot14();\n\t                component.scale10 = p.parseF2Dot14();\n\t                component.yScale = p.parseF2Dot14();\n\t            }\n\t\n\t            glyph.components.push(component);\n\t            moreComponents = !!(flags & 32);\n\t        }\n\t        if (flags & 0x100) {\n\t            // We have instructions\n\t            glyph.instructionLength = p.parseUShort();\n\t            glyph.instructions = [];\n\t            for (var i$6 = 0; i$6 < glyph.instructionLength; i$6 += 1) {\n\t                glyph.instructions.push(p.parseByte());\n\t            }\n\t        }\n\t    }\n\t}\n\t\n\t// Transform an array of points and return a new array.\n\tfunction transformPoints(points, transform) {\n\t    var newPoints = [];\n\t    for (var i = 0; i < points.length; i += 1) {\n\t        var pt = points[i];\n\t        var newPt = {\n\t            x: transform.xScale * pt.x + transform.scale01 * pt.y + transform.dx,\n\t            y: transform.scale10 * pt.x + transform.yScale * pt.y + transform.dy,\n\t            onCurve: pt.onCurve,\n\t            lastPointOfContour: pt.lastPointOfContour\n\t        };\n\t        newPoints.push(newPt);\n\t    }\n\t\n\t    return newPoints;\n\t}\n\t\n\tfunction getContours(points) {\n\t    var contours = [];\n\t    var currentContour = [];\n\t    for (var i = 0; i < points.length; i += 1) {\n\t        var pt = points[i];\n\t        currentContour.push(pt);\n\t        if (pt.lastPointOfContour) {\n\t            contours.push(currentContour);\n\t            currentContour = [];\n\t        }\n\t    }\n\t\n\t    check.argument(currentContour.length === 0, 'There are still points left in the current contour.');\n\t    return contours;\n\t}\n\t\n\t// Convert the TrueType glyph outline to a Path.\n\tfunction getPath(points) {\n\t    var p = new Path();\n\t    if (!points) {\n\t        return p;\n\t    }\n\t\n\t    var contours = getContours(points);\n\t\n\t    for (var contourIndex = 0; contourIndex < contours.length; ++contourIndex) {\n\t        var contour = contours[contourIndex];\n\t\n\t        var prev = null;\n\t        var curr = contour[contour.length - 1];\n\t        var next = contour[0];\n\t\n\t        if (curr.onCurve) {\n\t            p.moveTo(curr.x, curr.y);\n\t        } else {\n\t            if (next.onCurve) {\n\t                p.moveTo(next.x, next.y);\n\t            } else {\n\t                // If both first and last points are off-curve, start at their middle.\n\t                var start = {x: (curr.x + next.x) * 0.5, y: (curr.y + next.y) * 0.5};\n\t                p.moveTo(start.x, start.y);\n\t            }\n\t        }\n\t\n\t        for (var i = 0; i < contour.length; ++i) {\n\t            prev = curr;\n\t            curr = next;\n\t            next = contour[(i + 1) % contour.length];\n\t\n\t            if (curr.onCurve) {\n\t                // This is a straight line.\n\t                p.lineTo(curr.x, curr.y);\n\t            } else {\n\t                var prev2 = prev;\n\t                var next2 = next;\n\t\n\t                if (!prev.onCurve) {\n\t                    prev2 = { x: (curr.x + prev.x) * 0.5, y: (curr.y + prev.y) * 0.5 };\n\t                    p.lineTo(prev2.x, prev2.y);\n\t                }\n\t\n\t                if (!next.onCurve) {\n\t                    next2 = { x: (curr.x + next.x) * 0.5, y: (curr.y + next.y) * 0.5 };\n\t                }\n\t\n\t                p.lineTo(prev2.x, prev2.y);\n\t                p.quadraticCurveTo(curr.x, curr.y, next2.x, next2.y);\n\t            }\n\t        }\n\t\n\t        p.closePath();\n\t    }\n\t    return p;\n\t}\n\t\n\tfunction buildPath(glyphs, glyph) {\n\t    if (glyph.isComposite) {\n\t        for (var j = 0; j < glyph.components.length; j += 1) {\n\t            var component = glyph.components[j];\n\t            var componentGlyph = glyphs.get(component.glyphIndex);\n\t            // Force the ttfGlyphLoader to parse the glyph.\n\t            componentGlyph.getPath();\n\t            if (componentGlyph.points) {\n\t                var transformedPoints = (void 0);\n\t                if (component.matchedPoints === undefined) {\n\t                    // component positioned by offset\n\t                    transformedPoints = transformPoints(componentGlyph.points, component);\n\t                } else {\n\t                    // component positioned by matched points\n\t                    if ((component.matchedPoints[0] > glyph.points.length - 1) ||\n\t                        (component.matchedPoints[1] > componentGlyph.points.length - 1)) {\n\t                        throw Error('Matched points out of range in ' + glyph.name);\n\t                    }\n\t                    var firstPt = glyph.points[component.matchedPoints[0]];\n\t                    var secondPt = componentGlyph.points[component.matchedPoints[1]];\n\t                    var transform = {\n\t                        xScale: component.xScale, scale01: component.scale01,\n\t                        scale10: component.scale10, yScale: component.yScale,\n\t                        dx: 0, dy: 0\n\t                    };\n\t                    secondPt = transformPoints([secondPt], transform)[0];\n\t                    transform.dx = firstPt.x - secondPt.x;\n\t                    transform.dy = firstPt.y - secondPt.y;\n\t                    transformedPoints = transformPoints(componentGlyph.points, transform);\n\t                }\n\t                glyph.points = glyph.points.concat(transformedPoints);\n\t            }\n\t        }\n\t    }\n\t\n\t    return getPath(glyph.points);\n\t}\n\t\n\t// Parse all the glyphs according to the offsets from the `loca` table.\n\tfunction parseGlyfTable(data, start, loca, font) {\n\t    var glyphs = new glyphset.GlyphSet(font);\n\t\n\t    // The last element of the loca table is invalid.\n\t    for (var i = 0; i < loca.length - 1; i += 1) {\n\t        var offset = loca[i];\n\t        var nextOffset = loca[i + 1];\n\t        if (offset !== nextOffset) {\n\t            glyphs.push(i, glyphset.ttfGlyphLoader(font, i, parseGlyph, data, start + offset, buildPath));\n\t        } else {\n\t            glyphs.push(i, glyphset.glyphLoader(font, i));\n\t        }\n\t    }\n\t\n\t    return glyphs;\n\t}\n\t\n\tvar glyf = { getPath: getPath, parse: parseGlyfTable };\n\t\n\t// The Glyph object\n\t\n\tfunction getPathDefinition(glyph, path) {\n\t    var _path = path || {commands: []};\n\t    return {\n\t        configurable: true,\n\t\n\t        get: function() {\n\t            if (typeof _path === 'function') {\n\t                _path = _path();\n\t            }\n\t\n\t            return _path;\n\t        },\n\t\n\t        set: function(p) {\n\t            _path = p;\n\t        }\n\t    };\n\t}\n\t/**\n\t * @typedef GlyphOptions\n\t * @type Object\n\t * @property {string} [name] - The glyph name\n\t * @property {number} [unicode]\n\t * @property {Array} [unicodes]\n\t * @property {number} [xMin]\n\t * @property {number} [yMin]\n\t * @property {number} [xMax]\n\t * @property {number} [yMax]\n\t * @property {number} [advanceWidth]\n\t */\n\t\n\t// A Glyph is an individual mark that often corresponds to a character.\n\t// Some glyphs, such as ligatures, are a combination of many characters.\n\t// Glyphs are the basic building blocks of a font.\n\t//\n\t// The `Glyph` class contains utility methods for drawing the path and its points.\n\t/**\n\t * @exports opentype.Glyph\n\t * @class\n\t * @param {GlyphOptions}\n\t * @constructor\n\t */\n\tfunction Glyph(options) {\n\t    // By putting all the code on a prototype function (which is only declared once)\n\t    // we reduce the memory requirements for larger fonts by some 2%\n\t    this.bindConstructorValues(options);\n\t}\n\t\n\t/**\n\t * @param  {GlyphOptions}\n\t */\n\tGlyph.prototype.bindConstructorValues = function(options) {\n\t    this.index = options.index || 0;\n\t\n\t    // These three values cannot be deferred for memory optimization:\n\t    this.name = options.name || null;\n\t    this.unicode = options.unicode || undefined;\n\t    this.unicodes = options.unicodes || options.unicode !== undefined ? [options.unicode] : [];\n\t\n\t    // But by binding these values only when necessary, we reduce can\n\t    // the memory requirements by almost 3% for larger fonts.\n\t    if (options.xMin) {\n\t        this.xMin = options.xMin;\n\t    }\n\t\n\t    if (options.yMin) {\n\t        this.yMin = options.yMin;\n\t    }\n\t\n\t    if (options.xMax) {\n\t        this.xMax = options.xMax;\n\t    }\n\t\n\t    if (options.yMax) {\n\t        this.yMax = options.yMax;\n\t    }\n\t\n\t    if (options.advanceWidth) {\n\t        this.advanceWidth = options.advanceWidth;\n\t    }\n\t\n\t    // The path for a glyph is the most memory intensive, and is bound as a value\n\t    // with a getter/setter to ensure we actually do path parsing only once the\n\t    // path is actually needed by anything.\n\t    Object.defineProperty(this, 'path', getPathDefinition(this, options.path));\n\t};\n\t\n\t/**\n\t * @param {number}\n\t */\n\tGlyph.prototype.addUnicode = function(unicode) {\n\t    if (this.unicodes.length === 0) {\n\t        this.unicode = unicode;\n\t    }\n\t\n\t    this.unicodes.push(unicode);\n\t};\n\t\n\t/**\n\t * Calculate the minimum bounding box for this glyph.\n\t * @return {opentype.BoundingBox}\n\t */\n\tGlyph.prototype.getBoundingBox = function() {\n\t    return this.path.getBoundingBox();\n\t};\n\t\n\t/**\n\t * Convert the glyph to a Path we can draw on a drawing context.\n\t * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n\t * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n\t * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n\t * @param  {Object=} options - xScale, yScale to stretch the glyph.\n\t * @param  {opentype.Font} if hinting is to be used, the font\n\t * @return {opentype.Path}\n\t */\n\tGlyph.prototype.getPath = function(x, y, fontSize, options, font) {\n\t    x = x !== undefined ? x : 0;\n\t    y = y !== undefined ? y : 0;\n\t    fontSize = fontSize !== undefined ? fontSize : 72;\n\t    var commands;\n\t    var hPoints;\n\t    if (!options) { options = { }; }\n\t    var xScale = options.xScale;\n\t    var yScale = options.yScale;\n\t\n\t    if (options.hinting && font && font.hinting) {\n\t        // in case of hinting, the hinting engine takes care\n\t        // of scaling the points (not the path) before hinting.\n\t        hPoints = this.path && font.hinting.exec(this, fontSize);\n\t        // in case the hinting engine failed hPoints is undefined\n\t        // and thus reverts to plain rending\n\t    }\n\t\n\t    if (hPoints) {\n\t        commands = glyf.getPath(hPoints).commands;\n\t        x = Math.round(x);\n\t        y = Math.round(y);\n\t        // TODO in case of hinting xyScaling is not yet supported\n\t        xScale = yScale = 1;\n\t    } else {\n\t        commands = this.path.commands;\n\t        var scale = 1 / this.path.unitsPerEm * fontSize;\n\t        if (xScale === undefined) { xScale = scale; }\n\t        if (yScale === undefined) { yScale = scale; }\n\t    }\n\t\n\t    var p = new Path();\n\t    for (var i = 0; i < commands.length; i += 1) {\n\t        var cmd = commands[i];\n\t        if (cmd.type === 'M') {\n\t            p.moveTo(x + (cmd.x * xScale), y + (-cmd.y * yScale));\n\t        } else if (cmd.type === 'L') {\n\t            p.lineTo(x + (cmd.x * xScale), y + (-cmd.y * yScale));\n\t        } else if (cmd.type === 'Q') {\n\t            p.quadraticCurveTo(x + (cmd.x1 * xScale), y + (-cmd.y1 * yScale),\n\t                               x + (cmd.x * xScale), y + (-cmd.y * yScale));\n\t        } else if (cmd.type === 'C') {\n\t            p.curveTo(x + (cmd.x1 * xScale), y + (-cmd.y1 * yScale),\n\t                      x + (cmd.x2 * xScale), y + (-cmd.y2 * yScale),\n\t                      x + (cmd.x * xScale), y + (-cmd.y * yScale));\n\t        } else if (cmd.type === 'Z') {\n\t            p.closePath();\n\t        }\n\t    }\n\t\n\t    return p;\n\t};\n\t\n\t/**\n\t * Split the glyph into contours.\n\t * This function is here for backwards compatibility, and to\n\t * provide raw access to the TrueType glyph outlines.\n\t * @return {Array}\n\t */\n\tGlyph.prototype.getContours = function() {\n\t    var this$1 = this;\n\t\n\t    if (this.points === undefined) {\n\t        return [];\n\t    }\n\t\n\t    var contours = [];\n\t    var currentContour = [];\n\t    for (var i = 0; i < this.points.length; i += 1) {\n\t        var pt = this$1.points[i];\n\t        currentContour.push(pt);\n\t        if (pt.lastPointOfContour) {\n\t            contours.push(currentContour);\n\t            currentContour = [];\n\t        }\n\t    }\n\t\n\t    check.argument(currentContour.length === 0, 'There are still points left in the current contour.');\n\t    return contours;\n\t};\n\t\n\t/**\n\t * Calculate the xMin/yMin/xMax/yMax/lsb/rsb for a Glyph.\n\t * @return {Object}\n\t */\n\tGlyph.prototype.getMetrics = function() {\n\t    var commands = this.path.commands;\n\t    var xCoords = [];\n\t    var yCoords = [];\n\t    for (var i = 0; i < commands.length; i += 1) {\n\t        var cmd = commands[i];\n\t        if (cmd.type !== 'Z') {\n\t            xCoords.push(cmd.x);\n\t            yCoords.push(cmd.y);\n\t        }\n\t\n\t        if (cmd.type === 'Q' || cmd.type === 'C') {\n\t            xCoords.push(cmd.x1);\n\t            yCoords.push(cmd.y1);\n\t        }\n\t\n\t        if (cmd.type === 'C') {\n\t            xCoords.push(cmd.x2);\n\t            yCoords.push(cmd.y2);\n\t        }\n\t    }\n\t\n\t    var metrics = {\n\t        xMin: Math.min.apply(null, xCoords),\n\t        yMin: Math.min.apply(null, yCoords),\n\t        xMax: Math.max.apply(null, xCoords),\n\t        yMax: Math.max.apply(null, yCoords),\n\t        leftSideBearing: this.leftSideBearing\n\t    };\n\t\n\t    if (!isFinite(metrics.xMin)) {\n\t        metrics.xMin = 0;\n\t    }\n\t\n\t    if (!isFinite(metrics.xMax)) {\n\t        metrics.xMax = this.advanceWidth;\n\t    }\n\t\n\t    if (!isFinite(metrics.yMin)) {\n\t        metrics.yMin = 0;\n\t    }\n\t\n\t    if (!isFinite(metrics.yMax)) {\n\t        metrics.yMax = 0;\n\t    }\n\t\n\t    metrics.rightSideBearing = this.advanceWidth - metrics.leftSideBearing - (metrics.xMax - metrics.xMin);\n\t    return metrics;\n\t};\n\t\n\t/**\n\t * Draw the glyph on the given context.\n\t * @param  {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n\t * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n\t * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n\t * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n\t * @param  {Object=} options - xScale, yScale to stretch the glyph.\n\t */\n\tGlyph.prototype.draw = function(ctx, x, y, fontSize, options) {\n\t    this.getPath(x, y, fontSize, options).draw(ctx);\n\t};\n\t\n\t/**\n\t * Draw the points of the glyph.\n\t * On-curve points will be drawn in blue, off-curve points will be drawn in red.\n\t * @param  {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n\t * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n\t * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n\t * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n\t */\n\tGlyph.prototype.drawPoints = function(ctx, x, y, fontSize) {\n\t    function drawCircles(l, x, y, scale) {\n\t        var PI_SQ = Math.PI * 2;\n\t        ctx.beginPath();\n\t        for (var j = 0; j < l.length; j += 1) {\n\t            ctx.moveTo(x + (l[j].x * scale), y + (l[j].y * scale));\n\t            ctx.arc(x + (l[j].x * scale), y + (l[j].y * scale), 2, 0, PI_SQ, false);\n\t        }\n\t\n\t        ctx.closePath();\n\t        ctx.fill();\n\t    }\n\t\n\t    x = x !== undefined ? x : 0;\n\t    y = y !== undefined ? y : 0;\n\t    fontSize = fontSize !== undefined ? fontSize : 24;\n\t    var scale = 1 / this.path.unitsPerEm * fontSize;\n\t\n\t    var blueCircles = [];\n\t    var redCircles = [];\n\t    var path = this.path;\n\t    for (var i = 0; i < path.commands.length; i += 1) {\n\t        var cmd = path.commands[i];\n\t        if (cmd.x !== undefined) {\n\t            blueCircles.push({x: cmd.x, y: -cmd.y});\n\t        }\n\t\n\t        if (cmd.x1 !== undefined) {\n\t            redCircles.push({x: cmd.x1, y: -cmd.y1});\n\t        }\n\t\n\t        if (cmd.x2 !== undefined) {\n\t            redCircles.push({x: cmd.x2, y: -cmd.y2});\n\t        }\n\t    }\n\t\n\t    ctx.fillStyle = 'blue';\n\t    drawCircles(blueCircles, x, y, scale);\n\t    ctx.fillStyle = 'red';\n\t    drawCircles(redCircles, x, y, scale);\n\t};\n\t\n\t/**\n\t * Draw lines indicating important font measurements.\n\t * Black lines indicate the origin of the coordinate system (point 0,0).\n\t * Blue lines indicate the glyph bounding box.\n\t * Green line indicates the advance width of the glyph.\n\t * @param  {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n\t * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n\t * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n\t * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n\t */\n\tGlyph.prototype.drawMetrics = function(ctx, x, y, fontSize) {\n\t    var scale;\n\t    x = x !== undefined ? x : 0;\n\t    y = y !== undefined ? y : 0;\n\t    fontSize = fontSize !== undefined ? fontSize : 24;\n\t    scale = 1 / this.path.unitsPerEm * fontSize;\n\t    ctx.lineWidth = 1;\n\t\n\t    // Draw the origin\n\t    ctx.strokeStyle = 'black';\n\t    draw.line(ctx, x, -10000, x, 10000);\n\t    draw.line(ctx, -10000, y, 10000, y);\n\t\n\t    // This code is here due to memory optimization: by not using\n\t    // defaults in the constructor, we save a notable amount of memory.\n\t    var xMin = this.xMin || 0;\n\t    var yMin = this.yMin || 0;\n\t    var xMax = this.xMax || 0;\n\t    var yMax = this.yMax || 0;\n\t    var advanceWidth = this.advanceWidth || 0;\n\t\n\t    // Draw the glyph box\n\t    ctx.strokeStyle = 'blue';\n\t    draw.line(ctx, x + (xMin * scale), -10000, x + (xMin * scale), 10000);\n\t    draw.line(ctx, x + (xMax * scale), -10000, x + (xMax * scale), 10000);\n\t    draw.line(ctx, -10000, y + (-yMin * scale), 10000, y + (-yMin * scale));\n\t    draw.line(ctx, -10000, y + (-yMax * scale), 10000, y + (-yMax * scale));\n\t\n\t    // Draw the advance width\n\t    ctx.strokeStyle = 'green';\n\t    draw.line(ctx, x + (advanceWidth * scale), -10000, x + (advanceWidth * scale), 10000);\n\t};\n\t\n\t// The GlyphSet object\n\t\n\t// Define a property on the glyph that depends on the path being loaded.\n\tfunction defineDependentProperty(glyph, externalName, internalName) {\n\t    Object.defineProperty(glyph, externalName, {\n\t        get: function() {\n\t            // Request the path property to make sure the path is loaded.\n\t            glyph.path; // jshint ignore:line\n\t            return glyph[internalName];\n\t        },\n\t        set: function(newValue) {\n\t            glyph[internalName] = newValue;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t}\n\t\n\t/**\n\t * A GlyphSet represents all glyphs available in the font, but modelled using\n\t * a deferred glyph loader, for retrieving glyphs only once they are absolutely\n\t * necessary, to keep the memory footprint down.\n\t * @exports opentype.GlyphSet\n\t * @class\n\t * @param {opentype.Font}\n\t * @param {Array}\n\t */\n\tfunction GlyphSet(font, glyphs) {\n\t    var this$1 = this;\n\t\n\t    this.font = font;\n\t    this.glyphs = {};\n\t    if (Array.isArray(glyphs)) {\n\t        for (var i = 0; i < glyphs.length; i++) {\n\t            this$1.glyphs[i] = glyphs[i];\n\t        }\n\t    }\n\t\n\t    this.length = (glyphs && glyphs.length) || 0;\n\t}\n\t\n\t/**\n\t * @param  {number} index\n\t * @return {opentype.Glyph}\n\t */\n\tGlyphSet.prototype.get = function(index) {\n\t    if (typeof this.glyphs[index] === 'function') {\n\t        this.glyphs[index] = this.glyphs[index]();\n\t    }\n\t\n\t    return this.glyphs[index];\n\t};\n\t\n\t/**\n\t * @param  {number} index\n\t * @param  {Object}\n\t */\n\tGlyphSet.prototype.push = function(index, loader) {\n\t    this.glyphs[index] = loader;\n\t    this.length++;\n\t};\n\t\n\t/**\n\t * @alias opentype.glyphLoader\n\t * @param  {opentype.Font} font\n\t * @param  {number} index\n\t * @return {opentype.Glyph}\n\t */\n\tfunction glyphLoader(font, index) {\n\t    return new Glyph({index: index, font: font});\n\t}\n\t\n\t/**\n\t * Generate a stub glyph that can be filled with all metadata *except*\n\t * the \"points\" and \"path\" properties, which must be loaded only once\n\t * the glyph's path is actually requested for text shaping.\n\t * @alias opentype.ttfGlyphLoader\n\t * @param  {opentype.Font} font\n\t * @param  {number} index\n\t * @param  {Function} parseGlyph\n\t * @param  {Object} data\n\t * @param  {number} position\n\t * @param  {Function} buildPath\n\t * @return {opentype.Glyph}\n\t */\n\tfunction ttfGlyphLoader(font, index, parseGlyph, data, position, buildPath) {\n\t    return function() {\n\t        var glyph = new Glyph({index: index, font: font});\n\t\n\t        glyph.path = function() {\n\t            parseGlyph(glyph, data, position);\n\t            var path = buildPath(font.glyphs, glyph);\n\t            path.unitsPerEm = font.unitsPerEm;\n\t            return path;\n\t        };\n\t\n\t        defineDependentProperty(glyph, 'xMin', '_xMin');\n\t        defineDependentProperty(glyph, 'xMax', '_xMax');\n\t        defineDependentProperty(glyph, 'yMin', '_yMin');\n\t        defineDependentProperty(glyph, 'yMax', '_yMax');\n\t\n\t        return glyph;\n\t    };\n\t}\n\t/**\n\t * @alias opentype.cffGlyphLoader\n\t * @param  {opentype.Font} font\n\t * @param  {number} index\n\t * @param  {Function} parseCFFCharstring\n\t * @param  {string} charstring\n\t * @return {opentype.Glyph}\n\t */\n\tfunction cffGlyphLoader(font, index, parseCFFCharstring, charstring) {\n\t    return function() {\n\t        var glyph = new Glyph({index: index, font: font});\n\t\n\t        glyph.path = function() {\n\t            var path = parseCFFCharstring(font, glyph, charstring);\n\t            path.unitsPerEm = font.unitsPerEm;\n\t            return path;\n\t        };\n\t\n\t        return glyph;\n\t    };\n\t}\n\t\n\tvar glyphset = { GlyphSet: GlyphSet, glyphLoader: glyphLoader, ttfGlyphLoader: ttfGlyphLoader, cffGlyphLoader: cffGlyphLoader };\n\t\n\t// The `CFF` table contains the glyph outlines in PostScript format.\n\t// https://www.microsoft.com/typography/OTSPEC/cff.htm\n\t// http://download.microsoft.com/download/8/0/1/801a191c-029d-4af3-9642-555f6fe514ee/cff.pdf\n\t// http://download.microsoft.com/download/8/0/1/801a191c-029d-4af3-9642-555f6fe514ee/type2.pdf\n\t\n\t// Custom equals function that can also check lists.\n\tfunction equals(a, b) {\n\t    if (a === b) {\n\t        return true;\n\t    } else if (Array.isArray(a) && Array.isArray(b)) {\n\t        if (a.length !== b.length) {\n\t            return false;\n\t        }\n\t\n\t        for (var i = 0; i < a.length; i += 1) {\n\t            if (!equals(a[i], b[i])) {\n\t                return false;\n\t            }\n\t        }\n\t\n\t        return true;\n\t    } else {\n\t        return false;\n\t    }\n\t}\n\t\n\t// Subroutines are encoded using the negative half of the number space.\n\t// See type 2 chapter 4.7 \"Subroutine operators\".\n\tfunction calcCFFSubroutineBias(subrs) {\n\t    var bias;\n\t    if (subrs.length < 1240) {\n\t        bias = 107;\n\t    } else if (subrs.length < 33900) {\n\t        bias = 1131;\n\t    } else {\n\t        bias = 32768;\n\t    }\n\t\n\t    return bias;\n\t}\n\t\n\t// Parse a `CFF` INDEX array.\n\t// An index array consists of a list of offsets, then a list of objects at those offsets.\n\tfunction parseCFFIndex(data, start, conversionFn) {\n\t    var offsets = [];\n\t    var objects = [];\n\t    var count = parse.getCard16(data, start);\n\t    var objectOffset;\n\t    var endOffset;\n\t    if (count !== 0) {\n\t        var offsetSize = parse.getByte(data, start + 2);\n\t        objectOffset = start + ((count + 1) * offsetSize) + 2;\n\t        var pos = start + 3;\n\t        for (var i = 0; i < count + 1; i += 1) {\n\t            offsets.push(parse.getOffset(data, pos, offsetSize));\n\t            pos += offsetSize;\n\t        }\n\t\n\t        // The total size of the index array is 4 header bytes + the value of the last offset.\n\t        endOffset = objectOffset + offsets[count];\n\t    } else {\n\t        endOffset = start + 2;\n\t    }\n\t\n\t    for (var i$1 = 0; i$1 < offsets.length - 1; i$1 += 1) {\n\t        var value = parse.getBytes(data, objectOffset + offsets[i$1], objectOffset + offsets[i$1 + 1]);\n\t        if (conversionFn) {\n\t            value = conversionFn(value);\n\t        }\n\t\n\t        objects.push(value);\n\t    }\n\t\n\t    return {objects: objects, startOffset: start, endOffset: endOffset};\n\t}\n\t\n\t// Parse a `CFF` DICT real value.\n\tfunction parseFloatOperand(parser) {\n\t    var s = '';\n\t    var eof = 15;\n\t    var lookup = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '.', 'E', 'E-', null, '-'];\n\t    while (true) {\n\t        var b = parser.parseByte();\n\t        var n1 = b >> 4;\n\t        var n2 = b & 15;\n\t\n\t        if (n1 === eof) {\n\t            break;\n\t        }\n\t\n\t        s += lookup[n1];\n\t\n\t        if (n2 === eof) {\n\t            break;\n\t        }\n\t\n\t        s += lookup[n2];\n\t    }\n\t\n\t    return parseFloat(s);\n\t}\n\t\n\t// Parse a `CFF` DICT operand.\n\tfunction parseOperand(parser, b0) {\n\t    var b1;\n\t    var b2;\n\t    var b3;\n\t    var b4;\n\t    if (b0 === 28) {\n\t        b1 = parser.parseByte();\n\t        b2 = parser.parseByte();\n\t        return b1 << 8 | b2;\n\t    }\n\t\n\t    if (b0 === 29) {\n\t        b1 = parser.parseByte();\n\t        b2 = parser.parseByte();\n\t        b3 = parser.parseByte();\n\t        b4 = parser.parseByte();\n\t        return b1 << 24 | b2 << 16 | b3 << 8 | b4;\n\t    }\n\t\n\t    if (b0 === 30) {\n\t        return parseFloatOperand(parser);\n\t    }\n\t\n\t    if (b0 >= 32 && b0 <= 246) {\n\t        return b0 - 139;\n\t    }\n\t\n\t    if (b0 >= 247 && b0 <= 250) {\n\t        b1 = parser.parseByte();\n\t        return (b0 - 247) * 256 + b1 + 108;\n\t    }\n\t\n\t    if (b0 >= 251 && b0 <= 254) {\n\t        b1 = parser.parseByte();\n\t        return -(b0 - 251) * 256 - b1 - 108;\n\t    }\n\t\n\t    throw new Error('Invalid b0 ' + b0);\n\t}\n\t\n\t// Convert the entries returned by `parseDict` to a proper dictionary.\n\t// If a value is a list of one, it is unpacked.\n\tfunction entriesToObject(entries) {\n\t    var o = {};\n\t    for (var i = 0; i < entries.length; i += 1) {\n\t        var key = entries[i][0];\n\t        var values = entries[i][1];\n\t        var value = (void 0);\n\t        if (values.length === 1) {\n\t            value = values[0];\n\t        } else {\n\t            value = values;\n\t        }\n\t\n\t        if (o.hasOwnProperty(key) && !isNaN(o[key])) {\n\t            throw new Error('Object ' + o + ' already has key ' + key);\n\t        }\n\t\n\t        o[key] = value;\n\t    }\n\t\n\t    return o;\n\t}\n\t\n\t// Parse a `CFF` DICT object.\n\t// A dictionary contains key-value pairs in a compact tokenized format.\n\tfunction parseCFFDict(data, start, size) {\n\t    start = start !== undefined ? start : 0;\n\t    var parser = new parse.Parser(data, start);\n\t    var entries = [];\n\t    var operands = [];\n\t    size = size !== undefined ? size : data.length;\n\t\n\t    while (parser.relativeOffset < size) {\n\t        var op = parser.parseByte();\n\t\n\t        // The first byte for each dict item distinguishes between operator (key) and operand (value).\n\t        // Values <= 21 are operators.\n\t        if (op <= 21) {\n\t            // Two-byte operators have an initial escape byte of 12.\n\t            if (op === 12) {\n\t                op = 1200 + parser.parseByte();\n\t            }\n\t\n\t            entries.push([op, operands]);\n\t            operands = [];\n\t        } else {\n\t            // Since the operands (values) come before the operators (keys), we store all operands in a list\n\t            // until we encounter an operator.\n\t            operands.push(parseOperand(parser, op));\n\t        }\n\t    }\n\t\n\t    return entriesToObject(entries);\n\t}\n\t\n\t// Given a String Index (SID), return the value of the string.\n\t// Strings below index 392 are standard CFF strings and are not encoded in the font.\n\tfunction getCFFString(strings, index) {\n\t    if (index <= 390) {\n\t        index = cffStandardStrings[index];\n\t    } else {\n\t        index = strings[index - 391];\n\t    }\n\t\n\t    return index;\n\t}\n\t\n\t// Interpret a dictionary and return a new dictionary with readable keys and values for missing entries.\n\t// This function takes `meta` which is a list of objects containing `operand`, `name` and `default`.\n\tfunction interpretDict(dict, meta, strings) {\n\t    var newDict = {};\n\t    var value;\n\t\n\t    // Because we also want to include missing values, we start out from the meta list\n\t    // and lookup values in the dict.\n\t    for (var i = 0; i < meta.length; i += 1) {\n\t        var m = meta[i];\n\t\n\t        if (Array.isArray(m.type)) {\n\t            var values = [];\n\t            values.length = m.type.length;\n\t            for (var j = 0; j < m.type.length; j++) {\n\t                value = dict[m.op] !== undefined ? dict[m.op][j] : undefined;\n\t                if (value === undefined) {\n\t                    value = m.value !== undefined && m.value[j] !== undefined ? m.value[j] : null;\n\t                }\n\t                if (m.type[j] === 'SID') {\n\t                    value = getCFFString(strings, value);\n\t                }\n\t                values[j] = value;\n\t            }\n\t            newDict[m.name] = values;\n\t        } else {\n\t            value = dict[m.op];\n\t            if (value === undefined) {\n\t                value = m.value !== undefined ? m.value : null;\n\t            }\n\t\n\t            if (m.type === 'SID') {\n\t                value = getCFFString(strings, value);\n\t            }\n\t            newDict[m.name] = value;\n\t        }\n\t    }\n\t\n\t    return newDict;\n\t}\n\t\n\t// Parse the CFF header.\n\tfunction parseCFFHeader(data, start) {\n\t    var header = {};\n\t    header.formatMajor = parse.getCard8(data, start);\n\t    header.formatMinor = parse.getCard8(data, start + 1);\n\t    header.size = parse.getCard8(data, start + 2);\n\t    header.offsetSize = parse.getCard8(data, start + 3);\n\t    header.startOffset = start;\n\t    header.endOffset = start + 4;\n\t    return header;\n\t}\n\t\n\tvar TOP_DICT_META = [\n\t    {name: 'version', op: 0, type: 'SID'},\n\t    {name: 'notice', op: 1, type: 'SID'},\n\t    {name: 'copyright', op: 1200, type: 'SID'},\n\t    {name: 'fullName', op: 2, type: 'SID'},\n\t    {name: 'familyName', op: 3, type: 'SID'},\n\t    {name: 'weight', op: 4, type: 'SID'},\n\t    {name: 'isFixedPitch', op: 1201, type: 'number', value: 0},\n\t    {name: 'italicAngle', op: 1202, type: 'number', value: 0},\n\t    {name: 'underlinePosition', op: 1203, type: 'number', value: -100},\n\t    {name: 'underlineThickness', op: 1204, type: 'number', value: 50},\n\t    {name: 'paintType', op: 1205, type: 'number', value: 0},\n\t    {name: 'charstringType', op: 1206, type: 'number', value: 2},\n\t    {\n\t        name: 'fontMatrix',\n\t        op: 1207,\n\t        type: ['real', 'real', 'real', 'real', 'real', 'real'],\n\t        value: [0.001, 0, 0, 0.001, 0, 0]\n\t    },\n\t    {name: 'uniqueId', op: 13, type: 'number'},\n\t    {name: 'fontBBox', op: 5, type: ['number', 'number', 'number', 'number'], value: [0, 0, 0, 0]},\n\t    {name: 'strokeWidth', op: 1208, type: 'number', value: 0},\n\t    {name: 'xuid', op: 14, type: [], value: null},\n\t    {name: 'charset', op: 15, type: 'offset', value: 0},\n\t    {name: 'encoding', op: 16, type: 'offset', value: 0},\n\t    {name: 'charStrings', op: 17, type: 'offset', value: 0},\n\t    {name: 'private', op: 18, type: ['number', 'offset'], value: [0, 0]},\n\t    {name: 'ros', op: 1230, type: ['SID', 'SID', 'number']},\n\t    {name: 'cidFontVersion', op: 1231, type: 'number', value: 0},\n\t    {name: 'cidFontRevision', op: 1232, type: 'number', value: 0},\n\t    {name: 'cidFontType', op: 1233, type: 'number', value: 0},\n\t    {name: 'cidCount', op: 1234, type: 'number', value: 8720},\n\t    {name: 'uidBase', op: 1235, type: 'number'},\n\t    {name: 'fdArray', op: 1236, type: 'offset'},\n\t    {name: 'fdSelect', op: 1237, type: 'offset'},\n\t    {name: 'fontName', op: 1238, type: 'SID'}\n\t];\n\t\n\tvar PRIVATE_DICT_META = [\n\t    {name: 'subrs', op: 19, type: 'offset', value: 0},\n\t    {name: 'defaultWidthX', op: 20, type: 'number', value: 0},\n\t    {name: 'nominalWidthX', op: 21, type: 'number', value: 0}\n\t];\n\t\n\t// Parse the CFF top dictionary. A CFF table can contain multiple fonts, each with their own top dictionary.\n\t// The top dictionary contains the essential metadata for the font, together with the private dictionary.\n\tfunction parseCFFTopDict(data, strings) {\n\t    var dict = parseCFFDict(data, 0, data.byteLength);\n\t    return interpretDict(dict, TOP_DICT_META, strings);\n\t}\n\t\n\t// Parse the CFF private dictionary. We don't fully parse out all the values, only the ones we need.\n\tfunction parseCFFPrivateDict(data, start, size, strings) {\n\t    var dict = parseCFFDict(data, start, size);\n\t    return interpretDict(dict, PRIVATE_DICT_META, strings);\n\t}\n\t\n\t// Returns a list of \"Top DICT\"s found using an INDEX list.\n\t// Used to read both the usual high-level Top DICTs and also the FDArray\n\t// discovered inside CID-keyed fonts.  When a Top DICT has a reference to\n\t// a Private DICT that is read and saved into the Top DICT.\n\t//\n\t// In addition to the expected/optional values as outlined in TOP_DICT_META\n\t// the following values might be saved into the Top DICT.\n\t//\n\t//    _subrs []        array of local CFF subroutines from Private DICT\n\t//    _subrsBias       bias value computed from number of subroutines\n\t//                      (see calcCFFSubroutineBias() and parseCFFCharstring())\n\t//    _defaultWidthX   default widths for CFF characters\n\t//    _nominalWidthX   bias added to width embedded within glyph description\n\t//\n\t//    _privateDict     saved copy of parsed Private DICT from Top DICT\n\tfunction gatherCFFTopDicts(data, start, cffIndex, strings) {\n\t    var topDictArray = [];\n\t    for (var iTopDict = 0; iTopDict < cffIndex.length; iTopDict += 1) {\n\t        var topDictData = new DataView(new Uint8Array(cffIndex[iTopDict]).buffer);\n\t        var topDict = parseCFFTopDict(topDictData, strings);\n\t        topDict._subrs = [];\n\t        topDict._subrsBias = 0;\n\t        var privateSize = topDict.private[0];\n\t        var privateOffset = topDict.private[1];\n\t        if (privateSize !== 0 && privateOffset !== 0) {\n\t            var privateDict = parseCFFPrivateDict(data, privateOffset + start, privateSize, strings);\n\t            topDict._defaultWidthX = privateDict.defaultWidthX;\n\t            topDict._nominalWidthX = privateDict.nominalWidthX;\n\t            if (privateDict.subrs !== 0) {\n\t                var subrOffset = privateOffset + privateDict.subrs;\n\t                var subrIndex = parseCFFIndex(data, subrOffset + start);\n\t                topDict._subrs = subrIndex.objects;\n\t                topDict._subrsBias = calcCFFSubroutineBias(topDict._subrs);\n\t            }\n\t            topDict._privateDict = privateDict;\n\t        }\n\t        topDictArray.push(topDict);\n\t    }\n\t    return topDictArray;\n\t}\n\t\n\t// Parse the CFF charset table, which contains internal names for all the glyphs.\n\t// This function will return a list of glyph names.\n\t// See Adobe TN #5176 chapter 13, \"Charsets\".\n\tfunction parseCFFCharset(data, start, nGlyphs, strings) {\n\t    var sid;\n\t    var count;\n\t    var parser = new parse.Parser(data, start);\n\t\n\t    // The .notdef glyph is not included, so subtract 1.\n\t    nGlyphs -= 1;\n\t    var charset = ['.notdef'];\n\t\n\t    var format = parser.parseCard8();\n\t    if (format === 0) {\n\t        for (var i = 0; i < nGlyphs; i += 1) {\n\t            sid = parser.parseSID();\n\t            charset.push(getCFFString(strings, sid));\n\t        }\n\t    } else if (format === 1) {\n\t        while (charset.length <= nGlyphs) {\n\t            sid = parser.parseSID();\n\t            count = parser.parseCard8();\n\t            for (var i$1 = 0; i$1 <= count; i$1 += 1) {\n\t                charset.push(getCFFString(strings, sid));\n\t                sid += 1;\n\t            }\n\t        }\n\t    } else if (format === 2) {\n\t        while (charset.length <= nGlyphs) {\n\t            sid = parser.parseSID();\n\t            count = parser.parseCard16();\n\t            for (var i$2 = 0; i$2 <= count; i$2 += 1) {\n\t                charset.push(getCFFString(strings, sid));\n\t                sid += 1;\n\t            }\n\t        }\n\t    } else {\n\t        throw new Error('Unknown charset format ' + format);\n\t    }\n\t\n\t    return charset;\n\t}\n\t\n\t// Parse the CFF encoding data. Only one encoding can be specified per font.\n\t// See Adobe TN #5176 chapter 12, \"Encodings\".\n\tfunction parseCFFEncoding(data, start, charset) {\n\t    var code;\n\t    var enc = {};\n\t    var parser = new parse.Parser(data, start);\n\t    var format = parser.parseCard8();\n\t    if (format === 0) {\n\t        var nCodes = parser.parseCard8();\n\t        for (var i = 0; i < nCodes; i += 1) {\n\t            code = parser.parseCard8();\n\t            enc[code] = i;\n\t        }\n\t    } else if (format === 1) {\n\t        var nRanges = parser.parseCard8();\n\t        code = 1;\n\t        for (var i$1 = 0; i$1 < nRanges; i$1 += 1) {\n\t            var first = parser.parseCard8();\n\t            var nLeft = parser.parseCard8();\n\t            for (var j = first; j <= first + nLeft; j += 1) {\n\t                enc[j] = code;\n\t                code += 1;\n\t            }\n\t        }\n\t    } else {\n\t        throw new Error('Unknown encoding format ' + format);\n\t    }\n\t\n\t    return new CffEncoding(enc, charset);\n\t}\n\t\n\t// Take in charstring code and return a Glyph object.\n\t// The encoding is described in the Type 2 Charstring Format\n\t// https://www.microsoft.com/typography/OTSPEC/charstr2.htm\n\tfunction parseCFFCharstring(font, glyph, code) {\n\t    var c1x;\n\t    var c1y;\n\t    var c2x;\n\t    var c2y;\n\t    var p = new Path();\n\t    var stack = [];\n\t    var nStems = 0;\n\t    var haveWidth = false;\n\t    var open = false;\n\t    var x = 0;\n\t    var y = 0;\n\t    var subrs;\n\t    var subrsBias;\n\t    var defaultWidthX;\n\t    var nominalWidthX;\n\t    if (font.isCIDFont) {\n\t        var fdIndex = font.tables.cff.topDict._fdSelect[glyph.index];\n\t        var fdDict = font.tables.cff.topDict._fdArray[fdIndex];\n\t        subrs = fdDict._subrs;\n\t        subrsBias = fdDict._subrsBias;\n\t        defaultWidthX = fdDict._defaultWidthX;\n\t        nominalWidthX = fdDict._nominalWidthX;\n\t    } else {\n\t        subrs = font.tables.cff.topDict._subrs;\n\t        subrsBias = font.tables.cff.topDict._subrsBias;\n\t        defaultWidthX = font.tables.cff.topDict._defaultWidthX;\n\t        nominalWidthX = font.tables.cff.topDict._nominalWidthX;\n\t    }\n\t    var width = defaultWidthX;\n\t\n\t    function newContour(x, y) {\n\t        if (open) {\n\t            p.closePath();\n\t        }\n\t\n\t        p.moveTo(x, y);\n\t        open = true;\n\t    }\n\t\n\t    function parseStems() {\n\t        var hasWidthArg;\n\t\n\t        // The number of stem operators on the stack is always even.\n\t        // If the value is uneven, that means a width is specified.\n\t        hasWidthArg = stack.length % 2 !== 0;\n\t        if (hasWidthArg && !haveWidth) {\n\t            width = stack.shift() + nominalWidthX;\n\t        }\n\t\n\t        nStems += stack.length >> 1;\n\t        stack.length = 0;\n\t        haveWidth = true;\n\t    }\n\t\n\t    function parse$$1(code) {\n\t        var b1;\n\t        var b2;\n\t        var b3;\n\t        var b4;\n\t        var codeIndex;\n\t        var subrCode;\n\t        var jpx;\n\t        var jpy;\n\t        var c3x;\n\t        var c3y;\n\t        var c4x;\n\t        var c4y;\n\t\n\t        var i = 0;\n\t        while (i < code.length) {\n\t            var v = code[i];\n\t            i += 1;\n\t            switch (v) {\n\t                case 1: // hstem\n\t                    parseStems();\n\t                    break;\n\t                case 3: // vstem\n\t                    parseStems();\n\t                    break;\n\t                case 4: // vmoveto\n\t                    if (stack.length > 1 && !haveWidth) {\n\t                        width = stack.shift() + nominalWidthX;\n\t                        haveWidth = true;\n\t                    }\n\t\n\t                    y += stack.pop();\n\t                    newContour(x, y);\n\t                    break;\n\t                case 5: // rlineto\n\t                    while (stack.length > 0) {\n\t                        x += stack.shift();\n\t                        y += stack.shift();\n\t                        p.lineTo(x, y);\n\t                    }\n\t\n\t                    break;\n\t                case 6: // hlineto\n\t                    while (stack.length > 0) {\n\t                        x += stack.shift();\n\t                        p.lineTo(x, y);\n\t                        if (stack.length === 0) {\n\t                            break;\n\t                        }\n\t\n\t                        y += stack.shift();\n\t                        p.lineTo(x, y);\n\t                    }\n\t\n\t                    break;\n\t                case 7: // vlineto\n\t                    while (stack.length > 0) {\n\t                        y += stack.shift();\n\t                        p.lineTo(x, y);\n\t                        if (stack.length === 0) {\n\t                            break;\n\t                        }\n\t\n\t                        x += stack.shift();\n\t                        p.lineTo(x, y);\n\t                    }\n\t\n\t                    break;\n\t                case 8: // rrcurveto\n\t                    while (stack.length > 0) {\n\t                        c1x = x + stack.shift();\n\t                        c1y = y + stack.shift();\n\t                        c2x = c1x + stack.shift();\n\t                        c2y = c1y + stack.shift();\n\t                        x = c2x + stack.shift();\n\t                        y = c2y + stack.shift();\n\t                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n\t                    }\n\t\n\t                    break;\n\t                case 10: // callsubr\n\t                    codeIndex = stack.pop() + subrsBias;\n\t                    subrCode = subrs[codeIndex];\n\t                    if (subrCode) {\n\t                        parse$$1(subrCode);\n\t                    }\n\t\n\t                    break;\n\t                case 11: // return\n\t                    return;\n\t                case 12: // flex operators\n\t                    v = code[i];\n\t                    i += 1;\n\t                    switch (v) {\n\t                        case 35: // flex\n\t                            // |- dx1 dy1 dx2 dy2 dx3 dy3 dx4 dy4 dx5 dy5 dx6 dy6 fd flex (12 35) |-\n\t                            c1x = x   + stack.shift();    // dx1\n\t                            c1y = y   + stack.shift();    // dy1\n\t                            c2x = c1x + stack.shift();    // dx2\n\t                            c2y = c1y + stack.shift();    // dy2\n\t                            jpx = c2x + stack.shift();    // dx3\n\t                            jpy = c2y + stack.shift();    // dy3\n\t                            c3x = jpx + stack.shift();    // dx4\n\t                            c3y = jpy + stack.shift();    // dy4\n\t                            c4x = c3x + stack.shift();    // dx5\n\t                            c4y = c3y + stack.shift();    // dy5\n\t                            x = c4x   + stack.shift();    // dx6\n\t                            y = c4y   + stack.shift();    // dy6\n\t                            stack.shift();                // flex depth\n\t                            p.curveTo(c1x, c1y, c2x, c2y, jpx, jpy);\n\t                            p.curveTo(c3x, c3y, c4x, c4y, x, y);\n\t                            break;\n\t                        case 34: // hflex\n\t                            // |- dx1 dx2 dy2 dx3 dx4 dx5 dx6 hflex (12 34) |-\n\t                            c1x = x   + stack.shift();    // dx1\n\t                            c1y = y;                      // dy1\n\t                            c2x = c1x + stack.shift();    // dx2\n\t                            c2y = c1y + stack.shift();    // dy2\n\t                            jpx = c2x + stack.shift();    // dx3\n\t                            jpy = c2y;                    // dy3\n\t                            c3x = jpx + stack.shift();    // dx4\n\t                            c3y = c2y;                    // dy4\n\t                            c4x = c3x + stack.shift();    // dx5\n\t                            c4y = y;                      // dy5\n\t                            x = c4x + stack.shift();      // dx6\n\t                            p.curveTo(c1x, c1y, c2x, c2y, jpx, jpy);\n\t                            p.curveTo(c3x, c3y, c4x, c4y, x, y);\n\t                            break;\n\t                        case 36: // hflex1\n\t                            // |- dx1 dy1 dx2 dy2 dx3 dx4 dx5 dy5 dx6 hflex1 (12 36) |-\n\t                            c1x = x   + stack.shift();    // dx1\n\t                            c1y = y   + stack.shift();    // dy1\n\t                            c2x = c1x + stack.shift();    // dx2\n\t                            c2y = c1y + stack.shift();    // dy2\n\t                            jpx = c2x + stack.shift();    // dx3\n\t                            jpy = c2y;                    // dy3\n\t                            c3x = jpx + stack.shift();    // dx4\n\t                            c3y = c2y;                    // dy4\n\t                            c4x = c3x + stack.shift();    // dx5\n\t                            c4y = c3y + stack.shift();    // dy5\n\t                            x = c4x + stack.shift();      // dx6\n\t                            p.curveTo(c1x, c1y, c2x, c2y, jpx, jpy);\n\t                            p.curveTo(c3x, c3y, c4x, c4y, x, y);\n\t                            break;\n\t                        case 37: // flex1\n\t                            // |- dx1 dy1 dx2 dy2 dx3 dy3 dx4 dy4 dx5 dy5 d6 flex1 (12 37) |-\n\t                            c1x = x   + stack.shift();    // dx1\n\t                            c1y = y   + stack.shift();    // dy1\n\t                            c2x = c1x + stack.shift();    // dx2\n\t                            c2y = c1y + stack.shift();    // dy2\n\t                            jpx = c2x + stack.shift();    // dx3\n\t                            jpy = c2y + stack.shift();    // dy3\n\t                            c3x = jpx + stack.shift();    // dx4\n\t                            c3y = jpy + stack.shift();    // dy4\n\t                            c4x = c3x + stack.shift();    // dx5\n\t                            c4y = c3y + stack.shift();    // dy5\n\t                            if (Math.abs(c4x - x) > Math.abs(c4y - y)) {\n\t                                x = c4x + stack.shift();\n\t                            } else {\n\t                                y = c4y + stack.shift();\n\t                            }\n\t\n\t                            p.curveTo(c1x, c1y, c2x, c2y, jpx, jpy);\n\t                            p.curveTo(c3x, c3y, c4x, c4y, x, y);\n\t                            break;\n\t                        default:\n\t                            console.log('Glyph ' + glyph.index + ': unknown operator ' + 1200 + v);\n\t                            stack.length = 0;\n\t                    }\n\t                    break;\n\t                case 14: // endchar\n\t                    if (stack.length > 0 && !haveWidth) {\n\t                        width = stack.shift() + nominalWidthX;\n\t                        haveWidth = true;\n\t                    }\n\t\n\t                    if (open) {\n\t                        p.closePath();\n\t                        open = false;\n\t                    }\n\t\n\t                    break;\n\t                case 18: // hstemhm\n\t                    parseStems();\n\t                    break;\n\t                case 19: // hintmask\n\t                case 20: // cntrmask\n\t                    parseStems();\n\t                    i += (nStems + 7) >> 3;\n\t                    break;\n\t                case 21: // rmoveto\n\t                    if (stack.length > 2 && !haveWidth) {\n\t                        width = stack.shift() + nominalWidthX;\n\t                        haveWidth = true;\n\t                    }\n\t\n\t                    y += stack.pop();\n\t                    x += stack.pop();\n\t                    newContour(x, y);\n\t                    break;\n\t                case 22: // hmoveto\n\t                    if (stack.length > 1 && !haveWidth) {\n\t                        width = stack.shift() + nominalWidthX;\n\t                        haveWidth = true;\n\t                    }\n\t\n\t                    x += stack.pop();\n\t                    newContour(x, y);\n\t                    break;\n\t                case 23: // vstemhm\n\t                    parseStems();\n\t                    break;\n\t                case 24: // rcurveline\n\t                    while (stack.length > 2) {\n\t                        c1x = x + stack.shift();\n\t                        c1y = y + stack.shift();\n\t                        c2x = c1x + stack.shift();\n\t                        c2y = c1y + stack.shift();\n\t                        x = c2x + stack.shift();\n\t                        y = c2y + stack.shift();\n\t                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n\t                    }\n\t\n\t                    x += stack.shift();\n\t                    y += stack.shift();\n\t                    p.lineTo(x, y);\n\t                    break;\n\t                case 25: // rlinecurve\n\t                    while (stack.length > 6) {\n\t                        x += stack.shift();\n\t                        y += stack.shift();\n\t                        p.lineTo(x, y);\n\t                    }\n\t\n\t                    c1x = x + stack.shift();\n\t                    c1y = y + stack.shift();\n\t                    c2x = c1x + stack.shift();\n\t                    c2y = c1y + stack.shift();\n\t                    x = c2x + stack.shift();\n\t                    y = c2y + stack.shift();\n\t                    p.curveTo(c1x, c1y, c2x, c2y, x, y);\n\t                    break;\n\t                case 26: // vvcurveto\n\t                    if (stack.length % 2) {\n\t                        x += stack.shift();\n\t                    }\n\t\n\t                    while (stack.length > 0) {\n\t                        c1x = x;\n\t                        c1y = y + stack.shift();\n\t                        c2x = c1x + stack.shift();\n\t                        c2y = c1y + stack.shift();\n\t                        x = c2x;\n\t                        y = c2y + stack.shift();\n\t                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n\t                    }\n\t\n\t                    break;\n\t                case 27: // hhcurveto\n\t                    if (stack.length % 2) {\n\t                        y += stack.shift();\n\t                    }\n\t\n\t                    while (stack.length > 0) {\n\t                        c1x = x + stack.shift();\n\t                        c1y = y;\n\t                        c2x = c1x + stack.shift();\n\t                        c2y = c1y + stack.shift();\n\t                        x = c2x + stack.shift();\n\t                        y = c2y;\n\t                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n\t                    }\n\t\n\t                    break;\n\t                case 28: // shortint\n\t                    b1 = code[i];\n\t                    b2 = code[i + 1];\n\t                    stack.push(((b1 << 24) | (b2 << 16)) >> 16);\n\t                    i += 2;\n\t                    break;\n\t                case 29: // callgsubr\n\t                    codeIndex = stack.pop() + font.gsubrsBias;\n\t                    subrCode = font.gsubrs[codeIndex];\n\t                    if (subrCode) {\n\t                        parse$$1(subrCode);\n\t                    }\n\t\n\t                    break;\n\t                case 30: // vhcurveto\n\t                    while (stack.length > 0) {\n\t                        c1x = x;\n\t                        c1y = y + stack.shift();\n\t                        c2x = c1x + stack.shift();\n\t                        c2y = c1y + stack.shift();\n\t                        x = c2x + stack.shift();\n\t                        y = c2y + (stack.length === 1 ? stack.shift() : 0);\n\t                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n\t                        if (stack.length === 0) {\n\t                            break;\n\t                        }\n\t\n\t                        c1x = x + stack.shift();\n\t                        c1y = y;\n\t                        c2x = c1x + stack.shift();\n\t                        c2y = c1y + stack.shift();\n\t                        y = c2y + stack.shift();\n\t                        x = c2x + (stack.length === 1 ? stack.shift() : 0);\n\t                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n\t                    }\n\t\n\t                    break;\n\t                case 31: // hvcurveto\n\t                    while (stack.length > 0) {\n\t                        c1x = x + stack.shift();\n\t                        c1y = y;\n\t                        c2x = c1x + stack.shift();\n\t                        c2y = c1y + stack.shift();\n\t                        y = c2y + stack.shift();\n\t                        x = c2x + (stack.length === 1 ? stack.shift() : 0);\n\t                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n\t                        if (stack.length === 0) {\n\t                            break;\n\t                        }\n\t\n\t                        c1x = x;\n\t                        c1y = y + stack.shift();\n\t                        c2x = c1x + stack.shift();\n\t                        c2y = c1y + stack.shift();\n\t                        x = c2x + stack.shift();\n\t                        y = c2y + (stack.length === 1 ? stack.shift() : 0);\n\t                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n\t                    }\n\t\n\t                    break;\n\t                default:\n\t                    if (v < 32) {\n\t                        console.log('Glyph ' + glyph.index + ': unknown operator ' + v);\n\t                    } else if (v < 247) {\n\t                        stack.push(v - 139);\n\t                    } else if (v < 251) {\n\t                        b1 = code[i];\n\t                        i += 1;\n\t                        stack.push((v - 247) * 256 + b1 + 108);\n\t                    } else if (v < 255) {\n\t                        b1 = code[i];\n\t                        i += 1;\n\t                        stack.push(-(v - 251) * 256 - b1 - 108);\n\t                    } else {\n\t                        b1 = code[i];\n\t                        b2 = code[i + 1];\n\t                        b3 = code[i + 2];\n\t                        b4 = code[i + 3];\n\t                        i += 4;\n\t                        stack.push(((b1 << 24) | (b2 << 16) | (b3 << 8) | b4) / 65536);\n\t                    }\n\t            }\n\t        }\n\t    }\n\t\n\t    parse$$1(code);\n\t\n\t    glyph.advanceWidth = width;\n\t    return p;\n\t}\n\t\n\tfunction parseCFFFDSelect(data, start, nGlyphs, fdArrayCount) {\n\t    var fdSelect = [];\n\t    var fdIndex;\n\t    var parser = new parse.Parser(data, start);\n\t    var format = parser.parseCard8();\n\t    if (format === 0) {\n\t        // Simple list of nGlyphs elements\n\t        for (var iGid = 0; iGid < nGlyphs; iGid++) {\n\t            fdIndex = parser.parseCard8();\n\t            if (fdIndex >= fdArrayCount) {\n\t                throw new Error('CFF table CID Font FDSelect has bad FD index value ' + fdIndex + ' (FD count ' + fdArrayCount + ')');\n\t            }\n\t            fdSelect.push(fdIndex);\n\t        }\n\t    } else if (format === 3) {\n\t        // Ranges\n\t        var nRanges = parser.parseCard16();\n\t        var first = parser.parseCard16();\n\t        if (first !== 0) {\n\t            throw new Error('CFF Table CID Font FDSelect format 3 range has bad initial GID ' + first);\n\t        }\n\t        var next;\n\t        for (var iRange = 0; iRange < nRanges; iRange++) {\n\t            fdIndex = parser.parseCard8();\n\t            next = parser.parseCard16();\n\t            if (fdIndex >= fdArrayCount) {\n\t                throw new Error('CFF table CID Font FDSelect has bad FD index value ' + fdIndex + ' (FD count ' + fdArrayCount + ')');\n\t            }\n\t            if (next > nGlyphs) {\n\t                throw new Error('CFF Table CID Font FDSelect format 3 range has bad GID ' + next);\n\t            }\n\t            for (; first < next; first++) {\n\t                fdSelect.push(fdIndex);\n\t            }\n\t            first = next;\n\t        }\n\t        if (next !== nGlyphs) {\n\t            throw new Error('CFF Table CID Font FDSelect format 3 range has bad final GID ' + next);\n\t        }\n\t    } else {\n\t        throw new Error('CFF Table CID Font FDSelect table has unsupported format ' + format);\n\t    }\n\t    return fdSelect;\n\t}\n\t\n\t// Parse the `CFF` table, which contains the glyph outlines in PostScript format.\n\tfunction parseCFFTable(data, start, font) {\n\t    font.tables.cff = {};\n\t    var header = parseCFFHeader(data, start);\n\t    var nameIndex = parseCFFIndex(data, header.endOffset, parse.bytesToString);\n\t    var topDictIndex = parseCFFIndex(data, nameIndex.endOffset);\n\t    var stringIndex = parseCFFIndex(data, topDictIndex.endOffset, parse.bytesToString);\n\t    var globalSubrIndex = parseCFFIndex(data, stringIndex.endOffset);\n\t    font.gsubrs = globalSubrIndex.objects;\n\t    font.gsubrsBias = calcCFFSubroutineBias(font.gsubrs);\n\t\n\t    var topDictArray = gatherCFFTopDicts(data, start, topDictIndex.objects, stringIndex.objects);\n\t    if (topDictArray.length !== 1) {\n\t        throw new Error('CFF table has too many fonts in \\'FontSet\\' - count of fonts NameIndex.length = ' + topDictArray.length);\n\t    }\n\t\n\t    var topDict = topDictArray[0];\n\t    font.tables.cff.topDict = topDict;\n\t\n\t    if (topDict._privateDict) {\n\t        font.defaultWidthX = topDict._privateDict.defaultWidthX;\n\t        font.nominalWidthX = topDict._privateDict.nominalWidthX;\n\t    }\n\t\n\t    if (topDict.ros[0] !== undefined && topDict.ros[1] !== undefined) {\n\t        font.isCIDFont = true;\n\t    }\n\t\n\t    if (font.isCIDFont) {\n\t        var fdArrayOffset = topDict.fdArray;\n\t        var fdSelectOffset = topDict.fdSelect;\n\t        if (fdArrayOffset === 0 || fdSelectOffset === 0) {\n\t            throw new Error('Font is marked as a CID font, but FDArray and/or FDSelect information is missing');\n\t        }\n\t        fdArrayOffset += start;\n\t        var fdArrayIndex = parseCFFIndex(data, fdArrayOffset);\n\t        var fdArray = gatherCFFTopDicts(data, start, fdArrayIndex.objects, stringIndex.objects);\n\t        topDict._fdArray = fdArray;\n\t        fdSelectOffset += start;\n\t        topDict._fdSelect = parseCFFFDSelect(data, fdSelectOffset, font.numGlyphs, fdArray.length);\n\t    }\n\t\n\t    var privateDictOffset = start + topDict.private[1];\n\t    var privateDict = parseCFFPrivateDict(data, privateDictOffset, topDict.private[0], stringIndex.objects);\n\t    font.defaultWidthX = privateDict.defaultWidthX;\n\t    font.nominalWidthX = privateDict.nominalWidthX;\n\t\n\t    if (privateDict.subrs !== 0) {\n\t        var subrOffset = privateDictOffset + privateDict.subrs;\n\t        var subrIndex = parseCFFIndex(data, subrOffset);\n\t        font.subrs = subrIndex.objects;\n\t        font.subrsBias = calcCFFSubroutineBias(font.subrs);\n\t    } else {\n\t        font.subrs = [];\n\t        font.subrsBias = 0;\n\t    }\n\t\n\t    // Offsets in the top dict are relative to the beginning of the CFF data, so add the CFF start offset.\n\t    var charStringsIndex = parseCFFIndex(data, start + topDict.charStrings);\n\t    font.nGlyphs = charStringsIndex.objects.length;\n\t\n\t    var charset = parseCFFCharset(data, start + topDict.charset, font.nGlyphs, stringIndex.objects);\n\t    if (topDict.encoding === 0) { // Standard encoding\n\t        font.cffEncoding = new CffEncoding(cffStandardEncoding, charset);\n\t    } else if (topDict.encoding === 1) { // Expert encoding\n\t        font.cffEncoding = new CffEncoding(cffExpertEncoding, charset);\n\t    } else {\n\t        font.cffEncoding = parseCFFEncoding(data, start + topDict.encoding, charset);\n\t    }\n\t\n\t    // Prefer the CMAP encoding to the CFF encoding.\n\t    font.encoding = font.encoding || font.cffEncoding;\n\t\n\t    font.glyphs = new glyphset.GlyphSet(font);\n\t    for (var i = 0; i < font.nGlyphs; i += 1) {\n\t        var charString = charStringsIndex.objects[i];\n\t        font.glyphs.push(i, glyphset.cffGlyphLoader(font, i, parseCFFCharstring, charString));\n\t    }\n\t}\n\t\n\t// Convert a string to a String ID (SID).\n\t// The list of strings is modified in place.\n\tfunction encodeString(s, strings) {\n\t    var sid;\n\t\n\t    // Is the string in the CFF standard strings?\n\t    var i = cffStandardStrings.indexOf(s);\n\t    if (i >= 0) {\n\t        sid = i;\n\t    }\n\t\n\t    // Is the string already in the string index?\n\t    i = strings.indexOf(s);\n\t    if (i >= 0) {\n\t        sid = i + cffStandardStrings.length;\n\t    } else {\n\t        sid = cffStandardStrings.length + strings.length;\n\t        strings.push(s);\n\t    }\n\t\n\t    return sid;\n\t}\n\t\n\tfunction makeHeader() {\n\t    return new table.Record('Header', [\n\t        {name: 'major', type: 'Card8', value: 1},\n\t        {name: 'minor', type: 'Card8', value: 0},\n\t        {name: 'hdrSize', type: 'Card8', value: 4},\n\t        {name: 'major', type: 'Card8', value: 1}\n\t    ]);\n\t}\n\t\n\tfunction makeNameIndex(fontNames) {\n\t    var t = new table.Record('Name INDEX', [\n\t        {name: 'names', type: 'INDEX', value: []}\n\t    ]);\n\t    t.names = [];\n\t    for (var i = 0; i < fontNames.length; i += 1) {\n\t        t.names.push({name: 'name_' + i, type: 'NAME', value: fontNames[i]});\n\t    }\n\t\n\t    return t;\n\t}\n\t\n\t// Given a dictionary's metadata, create a DICT structure.\n\tfunction makeDict(meta, attrs, strings) {\n\t    var m = {};\n\t    for (var i = 0; i < meta.length; i += 1) {\n\t        var entry = meta[i];\n\t        var value = attrs[entry.name];\n\t        if (value !== undefined && !equals(value, entry.value)) {\n\t            if (entry.type === 'SID') {\n\t                value = encodeString(value, strings);\n\t            }\n\t\n\t            m[entry.op] = {name: entry.name, type: entry.type, value: value};\n\t        }\n\t    }\n\t\n\t    return m;\n\t}\n\t\n\t// The Top DICT houses the global font attributes.\n\tfunction makeTopDict(attrs, strings) {\n\t    var t = new table.Record('Top DICT', [\n\t        {name: 'dict', type: 'DICT', value: {}}\n\t    ]);\n\t    t.dict = makeDict(TOP_DICT_META, attrs, strings);\n\t    return t;\n\t}\n\t\n\tfunction makeTopDictIndex(topDict) {\n\t    var t = new table.Record('Top DICT INDEX', [\n\t        {name: 'topDicts', type: 'INDEX', value: []}\n\t    ]);\n\t    t.topDicts = [{name: 'topDict_0', type: 'TABLE', value: topDict}];\n\t    return t;\n\t}\n\t\n\tfunction makeStringIndex(strings) {\n\t    var t = new table.Record('String INDEX', [\n\t        {name: 'strings', type: 'INDEX', value: []}\n\t    ]);\n\t    t.strings = [];\n\t    for (var i = 0; i < strings.length; i += 1) {\n\t        t.strings.push({name: 'string_' + i, type: 'STRING', value: strings[i]});\n\t    }\n\t\n\t    return t;\n\t}\n\t\n\tfunction makeGlobalSubrIndex() {\n\t    // Currently we don't use subroutines.\n\t    return new table.Record('Global Subr INDEX', [\n\t        {name: 'subrs', type: 'INDEX', value: []}\n\t    ]);\n\t}\n\t\n\tfunction makeCharsets(glyphNames, strings) {\n\t    var t = new table.Record('Charsets', [\n\t        {name: 'format', type: 'Card8', value: 0}\n\t    ]);\n\t    for (var i = 0; i < glyphNames.length; i += 1) {\n\t        var glyphName = glyphNames[i];\n\t        var glyphSID = encodeString(glyphName, strings);\n\t        t.fields.push({name: 'glyph_' + i, type: 'SID', value: glyphSID});\n\t    }\n\t\n\t    return t;\n\t}\n\t\n\tfunction glyphToOps(glyph) {\n\t    var ops = [];\n\t    var path = glyph.path;\n\t    ops.push({name: 'width', type: 'NUMBER', value: glyph.advanceWidth});\n\t    var x = 0;\n\t    var y = 0;\n\t    for (var i = 0; i < path.commands.length; i += 1) {\n\t        var dx = (void 0);\n\t        var dy = (void 0);\n\t        var cmd = path.commands[i];\n\t        if (cmd.type === 'Q') {\n\t            // CFF only supports bézier curves, so convert the quad to a bézier.\n\t            var _13 = 1 / 3;\n\t            var _23 = 2 / 3;\n\t\n\t            // We're going to create a new command so we don't change the original path.\n\t            cmd = {\n\t                type: 'C',\n\t                x: cmd.x,\n\t                y: cmd.y,\n\t                x1: _13 * x + _23 * cmd.x1,\n\t                y1: _13 * y + _23 * cmd.y1,\n\t                x2: _13 * cmd.x + _23 * cmd.x1,\n\t                y2: _13 * cmd.y + _23 * cmd.y1\n\t            };\n\t        }\n\t\n\t        if (cmd.type === 'M') {\n\t            dx = Math.round(cmd.x - x);\n\t            dy = Math.round(cmd.y - y);\n\t            ops.push({name: 'dx', type: 'NUMBER', value: dx});\n\t            ops.push({name: 'dy', type: 'NUMBER', value: dy});\n\t            ops.push({name: 'rmoveto', type: 'OP', value: 21});\n\t            x = Math.round(cmd.x);\n\t            y = Math.round(cmd.y);\n\t        } else if (cmd.type === 'L') {\n\t            dx = Math.round(cmd.x - x);\n\t            dy = Math.round(cmd.y - y);\n\t            ops.push({name: 'dx', type: 'NUMBER', value: dx});\n\t            ops.push({name: 'dy', type: 'NUMBER', value: dy});\n\t            ops.push({name: 'rlineto', type: 'OP', value: 5});\n\t            x = Math.round(cmd.x);\n\t            y = Math.round(cmd.y);\n\t        } else if (cmd.type === 'C') {\n\t            var dx1 = Math.round(cmd.x1 - x);\n\t            var dy1 = Math.round(cmd.y1 - y);\n\t            var dx2 = Math.round(cmd.x2 - cmd.x1);\n\t            var dy2 = Math.round(cmd.y2 - cmd.y1);\n\t            dx = Math.round(cmd.x - cmd.x2);\n\t            dy = Math.round(cmd.y - cmd.y2);\n\t            ops.push({name: 'dx1', type: 'NUMBER', value: dx1});\n\t            ops.push({name: 'dy1', type: 'NUMBER', value: dy1});\n\t            ops.push({name: 'dx2', type: 'NUMBER', value: dx2});\n\t            ops.push({name: 'dy2', type: 'NUMBER', value: dy2});\n\t            ops.push({name: 'dx', type: 'NUMBER', value: dx});\n\t            ops.push({name: 'dy', type: 'NUMBER', value: dy});\n\t            ops.push({name: 'rrcurveto', type: 'OP', value: 8});\n\t            x = Math.round(cmd.x);\n\t            y = Math.round(cmd.y);\n\t        }\n\t\n\t        // Contours are closed automatically.\n\t    }\n\t\n\t    ops.push({name: 'endchar', type: 'OP', value: 14});\n\t    return ops;\n\t}\n\t\n\tfunction makeCharStringsIndex(glyphs) {\n\t    var t = new table.Record('CharStrings INDEX', [\n\t        {name: 'charStrings', type: 'INDEX', value: []}\n\t    ]);\n\t\n\t    for (var i = 0; i < glyphs.length; i += 1) {\n\t        var glyph = glyphs.get(i);\n\t        var ops = glyphToOps(glyph);\n\t        t.charStrings.push({name: glyph.name, type: 'CHARSTRING', value: ops});\n\t    }\n\t\n\t    return t;\n\t}\n\t\n\tfunction makePrivateDict(attrs, strings) {\n\t    var t = new table.Record('Private DICT', [\n\t        {name: 'dict', type: 'DICT', value: {}}\n\t    ]);\n\t    t.dict = makeDict(PRIVATE_DICT_META, attrs, strings);\n\t    return t;\n\t}\n\t\n\tfunction makeCFFTable(glyphs, options) {\n\t    var t = new table.Table('CFF ', [\n\t        {name: 'header', type: 'RECORD'},\n\t        {name: 'nameIndex', type: 'RECORD'},\n\t        {name: 'topDictIndex', type: 'RECORD'},\n\t        {name: 'stringIndex', type: 'RECORD'},\n\t        {name: 'globalSubrIndex', type: 'RECORD'},\n\t        {name: 'charsets', type: 'RECORD'},\n\t        {name: 'charStringsIndex', type: 'RECORD'},\n\t        {name: 'privateDict', type: 'RECORD'}\n\t    ]);\n\t\n\t    var fontScale = 1 / options.unitsPerEm;\n\t    // We use non-zero values for the offsets so that the DICT encodes them.\n\t    // This is important because the size of the Top DICT plays a role in offset calculation,\n\t    // and the size shouldn't change after we've written correct offsets.\n\t    var attrs = {\n\t        version: options.version,\n\t        fullName: options.fullName,\n\t        familyName: options.familyName,\n\t        weight: options.weightName,\n\t        fontBBox: options.fontBBox || [0, 0, 0, 0],\n\t        fontMatrix: [fontScale, 0, 0, fontScale, 0, 0],\n\t        charset: 999,\n\t        encoding: 0,\n\t        charStrings: 999,\n\t        private: [0, 999]\n\t    };\n\t\n\t    var privateAttrs = {};\n\t\n\t    var glyphNames = [];\n\t    var glyph;\n\t\n\t    // Skip first glyph (.notdef)\n\t    for (var i = 1; i < glyphs.length; i += 1) {\n\t        glyph = glyphs.get(i);\n\t        glyphNames.push(glyph.name);\n\t    }\n\t\n\t    var strings = [];\n\t\n\t    t.header = makeHeader();\n\t    t.nameIndex = makeNameIndex([options.postScriptName]);\n\t    var topDict = makeTopDict(attrs, strings);\n\t    t.topDictIndex = makeTopDictIndex(topDict);\n\t    t.globalSubrIndex = makeGlobalSubrIndex();\n\t    t.charsets = makeCharsets(glyphNames, strings);\n\t    t.charStringsIndex = makeCharStringsIndex(glyphs);\n\t    t.privateDict = makePrivateDict(privateAttrs, strings);\n\t\n\t    // Needs to come at the end, to encode all custom strings used in the font.\n\t    t.stringIndex = makeStringIndex(strings);\n\t\n\t    var startOffset = t.header.sizeOf() +\n\t        t.nameIndex.sizeOf() +\n\t        t.topDictIndex.sizeOf() +\n\t        t.stringIndex.sizeOf() +\n\t        t.globalSubrIndex.sizeOf();\n\t    attrs.charset = startOffset;\n\t\n\t    // We use the CFF standard encoding; proper encoding will be handled in cmap.\n\t    attrs.encoding = 0;\n\t    attrs.charStrings = attrs.charset + t.charsets.sizeOf();\n\t    attrs.private[1] = attrs.charStrings + t.charStringsIndex.sizeOf();\n\t\n\t    // Recreate the Top DICT INDEX with the correct offsets.\n\t    topDict = makeTopDict(attrs, strings);\n\t    t.topDictIndex = makeTopDictIndex(topDict);\n\t\n\t    return t;\n\t}\n\t\n\tvar cff = { parse: parseCFFTable, make: makeCFFTable };\n\t\n\t// The `head` table contains global information about the font.\n\t// https://www.microsoft.com/typography/OTSPEC/head.htm\n\t\n\t// Parse the header `head` table\n\tfunction parseHeadTable(data, start) {\n\t    var head = {};\n\t    var p = new parse.Parser(data, start);\n\t    head.version = p.parseVersion();\n\t    head.fontRevision = Math.round(p.parseFixed() * 1000) / 1000;\n\t    head.checkSumAdjustment = p.parseULong();\n\t    head.magicNumber = p.parseULong();\n\t    check.argument(head.magicNumber === 0x5F0F3CF5, 'Font header has wrong magic number.');\n\t    head.flags = p.parseUShort();\n\t    head.unitsPerEm = p.parseUShort();\n\t    head.created = p.parseLongDateTime();\n\t    head.modified = p.parseLongDateTime();\n\t    head.xMin = p.parseShort();\n\t    head.yMin = p.parseShort();\n\t    head.xMax = p.parseShort();\n\t    head.yMax = p.parseShort();\n\t    head.macStyle = p.parseUShort();\n\t    head.lowestRecPPEM = p.parseUShort();\n\t    head.fontDirectionHint = p.parseShort();\n\t    head.indexToLocFormat = p.parseShort();\n\t    head.glyphDataFormat = p.parseShort();\n\t    return head;\n\t}\n\t\n\tfunction makeHeadTable(options) {\n\t    // Apple Mac timestamp epoch is 01/01/1904 not 01/01/1970\n\t    var timestamp = Math.round(new Date().getTime() / 1000) + 2082844800;\n\t    var createdTimestamp = timestamp;\n\t\n\t    if (options.createdTimestamp) {\n\t        createdTimestamp = options.createdTimestamp + 2082844800;\n\t    }\n\t\n\t    return new table.Table('head', [\n\t        {name: 'version', type: 'FIXED', value: 0x00010000},\n\t        {name: 'fontRevision', type: 'FIXED', value: 0x00010000},\n\t        {name: 'checkSumAdjustment', type: 'ULONG', value: 0},\n\t        {name: 'magicNumber', type: 'ULONG', value: 0x5F0F3CF5},\n\t        {name: 'flags', type: 'USHORT', value: 0},\n\t        {name: 'unitsPerEm', type: 'USHORT', value: 1000},\n\t        {name: 'created', type: 'LONGDATETIME', value: createdTimestamp},\n\t        {name: 'modified', type: 'LONGDATETIME', value: timestamp},\n\t        {name: 'xMin', type: 'SHORT', value: 0},\n\t        {name: 'yMin', type: 'SHORT', value: 0},\n\t        {name: 'xMax', type: 'SHORT', value: 0},\n\t        {name: 'yMax', type: 'SHORT', value: 0},\n\t        {name: 'macStyle', type: 'USHORT', value: 0},\n\t        {name: 'lowestRecPPEM', type: 'USHORT', value: 0},\n\t        {name: 'fontDirectionHint', type: 'SHORT', value: 2},\n\t        {name: 'indexToLocFormat', type: 'SHORT', value: 0},\n\t        {name: 'glyphDataFormat', type: 'SHORT', value: 0}\n\t    ], options);\n\t}\n\t\n\tvar head = { parse: parseHeadTable, make: makeHeadTable };\n\t\n\t// The `hhea` table contains information for horizontal layout.\n\t// https://www.microsoft.com/typography/OTSPEC/hhea.htm\n\t\n\t// Parse the horizontal header `hhea` table\n\tfunction parseHheaTable(data, start) {\n\t    var hhea = {};\n\t    var p = new parse.Parser(data, start);\n\t    hhea.version = p.parseVersion();\n\t    hhea.ascender = p.parseShort();\n\t    hhea.descender = p.parseShort();\n\t    hhea.lineGap = p.parseShort();\n\t    hhea.advanceWidthMax = p.parseUShort();\n\t    hhea.minLeftSideBearing = p.parseShort();\n\t    hhea.minRightSideBearing = p.parseShort();\n\t    hhea.xMaxExtent = p.parseShort();\n\t    hhea.caretSlopeRise = p.parseShort();\n\t    hhea.caretSlopeRun = p.parseShort();\n\t    hhea.caretOffset = p.parseShort();\n\t    p.relativeOffset += 8;\n\t    hhea.metricDataFormat = p.parseShort();\n\t    hhea.numberOfHMetrics = p.parseUShort();\n\t    return hhea;\n\t}\n\t\n\tfunction makeHheaTable(options) {\n\t    return new table.Table('hhea', [\n\t        {name: 'version', type: 'FIXED', value: 0x00010000},\n\t        {name: 'ascender', type: 'FWORD', value: 0},\n\t        {name: 'descender', type: 'FWORD', value: 0},\n\t        {name: 'lineGap', type: 'FWORD', value: 0},\n\t        {name: 'advanceWidthMax', type: 'UFWORD', value: 0},\n\t        {name: 'minLeftSideBearing', type: 'FWORD', value: 0},\n\t        {name: 'minRightSideBearing', type: 'FWORD', value: 0},\n\t        {name: 'xMaxExtent', type: 'FWORD', value: 0},\n\t        {name: 'caretSlopeRise', type: 'SHORT', value: 1},\n\t        {name: 'caretSlopeRun', type: 'SHORT', value: 0},\n\t        {name: 'caretOffset', type: 'SHORT', value: 0},\n\t        {name: 'reserved1', type: 'SHORT', value: 0},\n\t        {name: 'reserved2', type: 'SHORT', value: 0},\n\t        {name: 'reserved3', type: 'SHORT', value: 0},\n\t        {name: 'reserved4', type: 'SHORT', value: 0},\n\t        {name: 'metricDataFormat', type: 'SHORT', value: 0},\n\t        {name: 'numberOfHMetrics', type: 'USHORT', value: 0}\n\t    ], options);\n\t}\n\t\n\tvar hhea = { parse: parseHheaTable, make: makeHheaTable };\n\t\n\t// The `hmtx` table contains the horizontal metrics for all glyphs.\n\t// https://www.microsoft.com/typography/OTSPEC/hmtx.htm\n\t\n\t// Parse the `hmtx` table, which contains the horizontal metrics for all glyphs.\n\t// This function augments the glyph array, adding the advanceWidth and leftSideBearing to each glyph.\n\tfunction parseHmtxTable(data, start, numMetrics, numGlyphs, glyphs) {\n\t    var advanceWidth;\n\t    var leftSideBearing;\n\t    var p = new parse.Parser(data, start);\n\t    for (var i = 0; i < numGlyphs; i += 1) {\n\t        // If the font is monospaced, only one entry is needed. This last entry applies to all subsequent glyphs.\n\t        if (i < numMetrics) {\n\t            advanceWidth = p.parseUShort();\n\t            leftSideBearing = p.parseShort();\n\t        }\n\t\n\t        var glyph = glyphs.get(i);\n\t        glyph.advanceWidth = advanceWidth;\n\t        glyph.leftSideBearing = leftSideBearing;\n\t    }\n\t}\n\t\n\tfunction makeHmtxTable(glyphs) {\n\t    var t = new table.Table('hmtx', []);\n\t    for (var i = 0; i < glyphs.length; i += 1) {\n\t        var glyph = glyphs.get(i);\n\t        var advanceWidth = glyph.advanceWidth || 0;\n\t        var leftSideBearing = glyph.leftSideBearing || 0;\n\t        t.fields.push({name: 'advanceWidth_' + i, type: 'USHORT', value: advanceWidth});\n\t        t.fields.push({name: 'leftSideBearing_' + i, type: 'SHORT', value: leftSideBearing});\n\t    }\n\t\n\t    return t;\n\t}\n\t\n\tvar hmtx = { parse: parseHmtxTable, make: makeHmtxTable };\n\t\n\t// The `ltag` table stores IETF BCP-47 language tags. It allows supporting\n\t// languages for which TrueType does not assign a numeric code.\n\t// https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6ltag.html\n\t// http://www.w3.org/International/articles/language-tags/\n\t// http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\n\t\n\tfunction makeLtagTable(tags) {\n\t    var result = new table.Table('ltag', [\n\t        {name: 'version', type: 'ULONG', value: 1},\n\t        {name: 'flags', type: 'ULONG', value: 0},\n\t        {name: 'numTags', type: 'ULONG', value: tags.length}\n\t    ]);\n\t\n\t    var stringPool = '';\n\t    var stringPoolOffset = 12 + tags.length * 4;\n\t    for (var i = 0; i < tags.length; ++i) {\n\t        var pos = stringPool.indexOf(tags[i]);\n\t        if (pos < 0) {\n\t            pos = stringPool.length;\n\t            stringPool += tags[i];\n\t        }\n\t\n\t        result.fields.push({name: 'offset ' + i, type: 'USHORT', value: stringPoolOffset + pos});\n\t        result.fields.push({name: 'length ' + i, type: 'USHORT', value: tags[i].length});\n\t    }\n\t\n\t    result.fields.push({name: 'stringPool', type: 'CHARARRAY', value: stringPool});\n\t    return result;\n\t}\n\t\n\tfunction parseLtagTable(data, start) {\n\t    var p = new parse.Parser(data, start);\n\t    var tableVersion = p.parseULong();\n\t    check.argument(tableVersion === 1, 'Unsupported ltag table version.');\n\t    // The 'ltag' specification does not define any flags; skip the field.\n\t    p.skip('uLong', 1);\n\t    var numTags = p.parseULong();\n\t\n\t    var tags = [];\n\t    for (var i = 0; i < numTags; i++) {\n\t        var tag = '';\n\t        var offset = start + p.parseUShort();\n\t        var length = p.parseUShort();\n\t        for (var j = offset; j < offset + length; ++j) {\n\t            tag += String.fromCharCode(data.getInt8(j));\n\t        }\n\t\n\t        tags.push(tag);\n\t    }\n\t\n\t    return tags;\n\t}\n\t\n\tvar ltag = { make: makeLtagTable, parse: parseLtagTable };\n\t\n\t// The `maxp` table establishes the memory requirements for the font.\n\t// We need it just to get the number of glyphs in the font.\n\t// https://www.microsoft.com/typography/OTSPEC/maxp.htm\n\t\n\t// Parse the maximum profile `maxp` table.\n\tfunction parseMaxpTable(data, start) {\n\t    var maxp = {};\n\t    var p = new parse.Parser(data, start);\n\t    maxp.version = p.parseVersion();\n\t    maxp.numGlyphs = p.parseUShort();\n\t    if (maxp.version === 1.0) {\n\t        maxp.maxPoints = p.parseUShort();\n\t        maxp.maxContours = p.parseUShort();\n\t        maxp.maxCompositePoints = p.parseUShort();\n\t        maxp.maxCompositeContours = p.parseUShort();\n\t        maxp.maxZones = p.parseUShort();\n\t        maxp.maxTwilightPoints = p.parseUShort();\n\t        maxp.maxStorage = p.parseUShort();\n\t        maxp.maxFunctionDefs = p.parseUShort();\n\t        maxp.maxInstructionDefs = p.parseUShort();\n\t        maxp.maxStackElements = p.parseUShort();\n\t        maxp.maxSizeOfInstructions = p.parseUShort();\n\t        maxp.maxComponentElements = p.parseUShort();\n\t        maxp.maxComponentDepth = p.parseUShort();\n\t    }\n\t\n\t    return maxp;\n\t}\n\t\n\tfunction makeMaxpTable(numGlyphs) {\n\t    return new table.Table('maxp', [\n\t        {name: 'version', type: 'FIXED', value: 0x00005000},\n\t        {name: 'numGlyphs', type: 'USHORT', value: numGlyphs}\n\t    ]);\n\t}\n\t\n\tvar maxp = { parse: parseMaxpTable, make: makeMaxpTable };\n\t\n\t// The `name` naming table.\n\t// https://www.microsoft.com/typography/OTSPEC/name.htm\n\t\n\t// NameIDs for the name table.\n\tvar nameTableNames = [\n\t    'copyright',              // 0\n\t    'fontFamily',             // 1\n\t    'fontSubfamily',          // 2\n\t    'uniqueID',               // 3\n\t    'fullName',               // 4\n\t    'version',                // 5\n\t    'postScriptName',         // 6\n\t    'trademark',              // 7\n\t    'manufacturer',           // 8\n\t    'designer',               // 9\n\t    'description',            // 10\n\t    'manufacturerURL',        // 11\n\t    'designerURL',            // 12\n\t    'license',                // 13\n\t    'licenseURL',             // 14\n\t    'reserved',               // 15\n\t    'preferredFamily',        // 16\n\t    'preferredSubfamily',     // 17\n\t    'compatibleFullName',     // 18\n\t    'sampleText',             // 19\n\t    'postScriptFindFontName', // 20\n\t    'wwsFamily',              // 21\n\t    'wwsSubfamily'            // 22\n\t];\n\t\n\tvar macLanguages = {\n\t    0: 'en',\n\t    1: 'fr',\n\t    2: 'de',\n\t    3: 'it',\n\t    4: 'nl',\n\t    5: 'sv',\n\t    6: 'es',\n\t    7: 'da',\n\t    8: 'pt',\n\t    9: 'no',\n\t    10: 'he',\n\t    11: 'ja',\n\t    12: 'ar',\n\t    13: 'fi',\n\t    14: 'el',\n\t    15: 'is',\n\t    16: 'mt',\n\t    17: 'tr',\n\t    18: 'hr',\n\t    19: 'zh-Hant',\n\t    20: 'ur',\n\t    21: 'hi',\n\t    22: 'th',\n\t    23: 'ko',\n\t    24: 'lt',\n\t    25: 'pl',\n\t    26: 'hu',\n\t    27: 'es',\n\t    28: 'lv',\n\t    29: 'se',\n\t    30: 'fo',\n\t    31: 'fa',\n\t    32: 'ru',\n\t    33: 'zh',\n\t    34: 'nl-BE',\n\t    35: 'ga',\n\t    36: 'sq',\n\t    37: 'ro',\n\t    38: 'cz',\n\t    39: 'sk',\n\t    40: 'si',\n\t    41: 'yi',\n\t    42: 'sr',\n\t    43: 'mk',\n\t    44: 'bg',\n\t    45: 'uk',\n\t    46: 'be',\n\t    47: 'uz',\n\t    48: 'kk',\n\t    49: 'az-Cyrl',\n\t    50: 'az-Arab',\n\t    51: 'hy',\n\t    52: 'ka',\n\t    53: 'mo',\n\t    54: 'ky',\n\t    55: 'tg',\n\t    56: 'tk',\n\t    57: 'mn-CN',\n\t    58: 'mn',\n\t    59: 'ps',\n\t    60: 'ks',\n\t    61: 'ku',\n\t    62: 'sd',\n\t    63: 'bo',\n\t    64: 'ne',\n\t    65: 'sa',\n\t    66: 'mr',\n\t    67: 'bn',\n\t    68: 'as',\n\t    69: 'gu',\n\t    70: 'pa',\n\t    71: 'or',\n\t    72: 'ml',\n\t    73: 'kn',\n\t    74: 'ta',\n\t    75: 'te',\n\t    76: 'si',\n\t    77: 'my',\n\t    78: 'km',\n\t    79: 'lo',\n\t    80: 'vi',\n\t    81: 'id',\n\t    82: 'tl',\n\t    83: 'ms',\n\t    84: 'ms-Arab',\n\t    85: 'am',\n\t    86: 'ti',\n\t    87: 'om',\n\t    88: 'so',\n\t    89: 'sw',\n\t    90: 'rw',\n\t    91: 'rn',\n\t    92: 'ny',\n\t    93: 'mg',\n\t    94: 'eo',\n\t    128: 'cy',\n\t    129: 'eu',\n\t    130: 'ca',\n\t    131: 'la',\n\t    132: 'qu',\n\t    133: 'gn',\n\t    134: 'ay',\n\t    135: 'tt',\n\t    136: 'ug',\n\t    137: 'dz',\n\t    138: 'jv',\n\t    139: 'su',\n\t    140: 'gl',\n\t    141: 'af',\n\t    142: 'br',\n\t    143: 'iu',\n\t    144: 'gd',\n\t    145: 'gv',\n\t    146: 'ga',\n\t    147: 'to',\n\t    148: 'el-polyton',\n\t    149: 'kl',\n\t    150: 'az',\n\t    151: 'nn'\n\t};\n\t\n\t// MacOS language ID → MacOS script ID\n\t//\n\t// Note that the script ID is not sufficient to determine what encoding\n\t// to use in TrueType files. For some languages, MacOS used a modification\n\t// of a mainstream script. For example, an Icelandic name would be stored\n\t// with smRoman in the TrueType naming table, but the actual encoding\n\t// is a special Icelandic version of the normal Macintosh Roman encoding.\n\t// As another example, Inuktitut uses an 8-bit encoding for Canadian Aboriginal\n\t// Syllables but MacOS had run out of available script codes, so this was\n\t// done as a (pretty radical) \"modification\" of Ethiopic.\n\t//\n\t// http://unicode.org/Public/MAPPINGS/VENDORS/APPLE/Readme.txt\n\tvar macLanguageToScript = {\n\t    0: 0,  // langEnglish → smRoman\n\t    1: 0,  // langFrench → smRoman\n\t    2: 0,  // langGerman → smRoman\n\t    3: 0,  // langItalian → smRoman\n\t    4: 0,  // langDutch → smRoman\n\t    5: 0,  // langSwedish → smRoman\n\t    6: 0,  // langSpanish → smRoman\n\t    7: 0,  // langDanish → smRoman\n\t    8: 0,  // langPortuguese → smRoman\n\t    9: 0,  // langNorwegian → smRoman\n\t    10: 5,  // langHebrew → smHebrew\n\t    11: 1,  // langJapanese → smJapanese\n\t    12: 4,  // langArabic → smArabic\n\t    13: 0,  // langFinnish → smRoman\n\t    14: 6,  // langGreek → smGreek\n\t    15: 0,  // langIcelandic → smRoman (modified)\n\t    16: 0,  // langMaltese → smRoman\n\t    17: 0,  // langTurkish → smRoman (modified)\n\t    18: 0,  // langCroatian → smRoman (modified)\n\t    19: 2,  // langTradChinese → smTradChinese\n\t    20: 4,  // langUrdu → smArabic\n\t    21: 9,  // langHindi → smDevanagari\n\t    22: 21,  // langThai → smThai\n\t    23: 3,  // langKorean → smKorean\n\t    24: 29,  // langLithuanian → smCentralEuroRoman\n\t    25: 29,  // langPolish → smCentralEuroRoman\n\t    26: 29,  // langHungarian → smCentralEuroRoman\n\t    27: 29,  // langEstonian → smCentralEuroRoman\n\t    28: 29,  // langLatvian → smCentralEuroRoman\n\t    29: 0,  // langSami → smRoman\n\t    30: 0,  // langFaroese → smRoman (modified)\n\t    31: 4,  // langFarsi → smArabic (modified)\n\t    32: 7,  // langRussian → smCyrillic\n\t    33: 25,  // langSimpChinese → smSimpChinese\n\t    34: 0,  // langFlemish → smRoman\n\t    35: 0,  // langIrishGaelic → smRoman (modified)\n\t    36: 0,  // langAlbanian → smRoman\n\t    37: 0,  // langRomanian → smRoman (modified)\n\t    38: 29,  // langCzech → smCentralEuroRoman\n\t    39: 29,  // langSlovak → smCentralEuroRoman\n\t    40: 0,  // langSlovenian → smRoman (modified)\n\t    41: 5,  // langYiddish → smHebrew\n\t    42: 7,  // langSerbian → smCyrillic\n\t    43: 7,  // langMacedonian → smCyrillic\n\t    44: 7,  // langBulgarian → smCyrillic\n\t    45: 7,  // langUkrainian → smCyrillic (modified)\n\t    46: 7,  // langByelorussian → smCyrillic\n\t    47: 7,  // langUzbek → smCyrillic\n\t    48: 7,  // langKazakh → smCyrillic\n\t    49: 7,  // langAzerbaijani → smCyrillic\n\t    50: 4,  // langAzerbaijanAr → smArabic\n\t    51: 24,  // langArmenian → smArmenian\n\t    52: 23,  // langGeorgian → smGeorgian\n\t    53: 7,  // langMoldavian → smCyrillic\n\t    54: 7,  // langKirghiz → smCyrillic\n\t    55: 7,  // langTajiki → smCyrillic\n\t    56: 7,  // langTurkmen → smCyrillic\n\t    57: 27,  // langMongolian → smMongolian\n\t    58: 7,  // langMongolianCyr → smCyrillic\n\t    59: 4,  // langPashto → smArabic\n\t    60: 4,  // langKurdish → smArabic\n\t    61: 4,  // langKashmiri → smArabic\n\t    62: 4,  // langSindhi → smArabic\n\t    63: 26,  // langTibetan → smTibetan\n\t    64: 9,  // langNepali → smDevanagari\n\t    65: 9,  // langSanskrit → smDevanagari\n\t    66: 9,  // langMarathi → smDevanagari\n\t    67: 13,  // langBengali → smBengali\n\t    68: 13,  // langAssamese → smBengali\n\t    69: 11,  // langGujarati → smGujarati\n\t    70: 10,  // langPunjabi → smGurmukhi\n\t    71: 12,  // langOriya → smOriya\n\t    72: 17,  // langMalayalam → smMalayalam\n\t    73: 16,  // langKannada → smKannada\n\t    74: 14,  // langTamil → smTamil\n\t    75: 15,  // langTelugu → smTelugu\n\t    76: 18,  // langSinhalese → smSinhalese\n\t    77: 19,  // langBurmese → smBurmese\n\t    78: 20,  // langKhmer → smKhmer\n\t    79: 22,  // langLao → smLao\n\t    80: 30,  // langVietnamese → smVietnamese\n\t    81: 0,  // langIndonesian → smRoman\n\t    82: 0,  // langTagalog → smRoman\n\t    83: 0,  // langMalayRoman → smRoman\n\t    84: 4,  // langMalayArabic → smArabic\n\t    85: 28,  // langAmharic → smEthiopic\n\t    86: 28,  // langTigrinya → smEthiopic\n\t    87: 28,  // langOromo → smEthiopic\n\t    88: 0,  // langSomali → smRoman\n\t    89: 0,  // langSwahili → smRoman\n\t    90: 0,  // langKinyarwanda → smRoman\n\t    91: 0,  // langRundi → smRoman\n\t    92: 0,  // langNyanja → smRoman\n\t    93: 0,  // langMalagasy → smRoman\n\t    94: 0,  // langEsperanto → smRoman\n\t    128: 0,  // langWelsh → smRoman (modified)\n\t    129: 0,  // langBasque → smRoman\n\t    130: 0,  // langCatalan → smRoman\n\t    131: 0,  // langLatin → smRoman\n\t    132: 0,  // langQuechua → smRoman\n\t    133: 0,  // langGuarani → smRoman\n\t    134: 0,  // langAymara → smRoman\n\t    135: 7,  // langTatar → smCyrillic\n\t    136: 4,  // langUighur → smArabic\n\t    137: 26,  // langDzongkha → smTibetan\n\t    138: 0,  // langJavaneseRom → smRoman\n\t    139: 0,  // langSundaneseRom → smRoman\n\t    140: 0,  // langGalician → smRoman\n\t    141: 0,  // langAfrikaans → smRoman\n\t    142: 0,  // langBreton → smRoman (modified)\n\t    143: 28,  // langInuktitut → smEthiopic (modified)\n\t    144: 0,  // langScottishGaelic → smRoman (modified)\n\t    145: 0,  // langManxGaelic → smRoman (modified)\n\t    146: 0,  // langIrishGaelicScript → smRoman (modified)\n\t    147: 0,  // langTongan → smRoman\n\t    148: 6,  // langGreekAncient → smRoman\n\t    149: 0,  // langGreenlandic → smRoman\n\t    150: 0,  // langAzerbaijanRoman → smRoman\n\t    151: 0   // langNynorsk → smRoman\n\t};\n\t\n\t// While Microsoft indicates a region/country for all its language\n\t// IDs, we omit the region code if it's equal to the \"most likely\n\t// region subtag\" according to Unicode CLDR. For scripts, we omit\n\t// the subtag if it is equal to the Suppress-Script entry in the\n\t// IANA language subtag registry for IETF BCP 47.\n\t//\n\t// For example, Microsoft states that its language code 0x041A is\n\t// Croatian in Croatia. We transform this to the BCP 47 language code 'hr'\n\t// and not 'hr-HR' because Croatia is the default country for Croatian,\n\t// according to Unicode CLDR. As another example, Microsoft states\n\t// that 0x101A is Croatian (Latin) in Bosnia-Herzegovina. We transform\n\t// this to 'hr-BA' and not 'hr-Latn-BA' because Latin is the default script\n\t// for the Croatian language, according to IANA.\n\t//\n\t// http://www.unicode.org/cldr/charts/latest/supplemental/likely_subtags.html\n\t// http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\n\tvar windowsLanguages = {\n\t    0x0436: 'af',\n\t    0x041C: 'sq',\n\t    0x0484: 'gsw',\n\t    0x045E: 'am',\n\t    0x1401: 'ar-DZ',\n\t    0x3C01: 'ar-BH',\n\t    0x0C01: 'ar',\n\t    0x0801: 'ar-IQ',\n\t    0x2C01: 'ar-JO',\n\t    0x3401: 'ar-KW',\n\t    0x3001: 'ar-LB',\n\t    0x1001: 'ar-LY',\n\t    0x1801: 'ary',\n\t    0x2001: 'ar-OM',\n\t    0x4001: 'ar-QA',\n\t    0x0401: 'ar-SA',\n\t    0x2801: 'ar-SY',\n\t    0x1C01: 'aeb',\n\t    0x3801: 'ar-AE',\n\t    0x2401: 'ar-YE',\n\t    0x042B: 'hy',\n\t    0x044D: 'as',\n\t    0x082C: 'az-Cyrl',\n\t    0x042C: 'az',\n\t    0x046D: 'ba',\n\t    0x042D: 'eu',\n\t    0x0423: 'be',\n\t    0x0845: 'bn',\n\t    0x0445: 'bn-IN',\n\t    0x201A: 'bs-Cyrl',\n\t    0x141A: 'bs',\n\t    0x047E: 'br',\n\t    0x0402: 'bg',\n\t    0x0403: 'ca',\n\t    0x0C04: 'zh-HK',\n\t    0x1404: 'zh-MO',\n\t    0x0804: 'zh',\n\t    0x1004: 'zh-SG',\n\t    0x0404: 'zh-TW',\n\t    0x0483: 'co',\n\t    0x041A: 'hr',\n\t    0x101A: 'hr-BA',\n\t    0x0405: 'cs',\n\t    0x0406: 'da',\n\t    0x048C: 'prs',\n\t    0x0465: 'dv',\n\t    0x0813: 'nl-BE',\n\t    0x0413: 'nl',\n\t    0x0C09: 'en-AU',\n\t    0x2809: 'en-BZ',\n\t    0x1009: 'en-CA',\n\t    0x2409: 'en-029',\n\t    0x4009: 'en-IN',\n\t    0x1809: 'en-IE',\n\t    0x2009: 'en-JM',\n\t    0x4409: 'en-MY',\n\t    0x1409: 'en-NZ',\n\t    0x3409: 'en-PH',\n\t    0x4809: 'en-SG',\n\t    0x1C09: 'en-ZA',\n\t    0x2C09: 'en-TT',\n\t    0x0809: 'en-GB',\n\t    0x0409: 'en',\n\t    0x3009: 'en-ZW',\n\t    0x0425: 'et',\n\t    0x0438: 'fo',\n\t    0x0464: 'fil',\n\t    0x040B: 'fi',\n\t    0x080C: 'fr-BE',\n\t    0x0C0C: 'fr-CA',\n\t    0x040C: 'fr',\n\t    0x140C: 'fr-LU',\n\t    0x180C: 'fr-MC',\n\t    0x100C: 'fr-CH',\n\t    0x0462: 'fy',\n\t    0x0456: 'gl',\n\t    0x0437: 'ka',\n\t    0x0C07: 'de-AT',\n\t    0x0407: 'de',\n\t    0x1407: 'de-LI',\n\t    0x1007: 'de-LU',\n\t    0x0807: 'de-CH',\n\t    0x0408: 'el',\n\t    0x046F: 'kl',\n\t    0x0447: 'gu',\n\t    0x0468: 'ha',\n\t    0x040D: 'he',\n\t    0x0439: 'hi',\n\t    0x040E: 'hu',\n\t    0x040F: 'is',\n\t    0x0470: 'ig',\n\t    0x0421: 'id',\n\t    0x045D: 'iu',\n\t    0x085D: 'iu-Latn',\n\t    0x083C: 'ga',\n\t    0x0434: 'xh',\n\t    0x0435: 'zu',\n\t    0x0410: 'it',\n\t    0x0810: 'it-CH',\n\t    0x0411: 'ja',\n\t    0x044B: 'kn',\n\t    0x043F: 'kk',\n\t    0x0453: 'km',\n\t    0x0486: 'quc',\n\t    0x0487: 'rw',\n\t    0x0441: 'sw',\n\t    0x0457: 'kok',\n\t    0x0412: 'ko',\n\t    0x0440: 'ky',\n\t    0x0454: 'lo',\n\t    0x0426: 'lv',\n\t    0x0427: 'lt',\n\t    0x082E: 'dsb',\n\t    0x046E: 'lb',\n\t    0x042F: 'mk',\n\t    0x083E: 'ms-BN',\n\t    0x043E: 'ms',\n\t    0x044C: 'ml',\n\t    0x043A: 'mt',\n\t    0x0481: 'mi',\n\t    0x047A: 'arn',\n\t    0x044E: 'mr',\n\t    0x047C: 'moh',\n\t    0x0450: 'mn',\n\t    0x0850: 'mn-CN',\n\t    0x0461: 'ne',\n\t    0x0414: 'nb',\n\t    0x0814: 'nn',\n\t    0x0482: 'oc',\n\t    0x0448: 'or',\n\t    0x0463: 'ps',\n\t    0x0415: 'pl',\n\t    0x0416: 'pt',\n\t    0x0816: 'pt-PT',\n\t    0x0446: 'pa',\n\t    0x046B: 'qu-BO',\n\t    0x086B: 'qu-EC',\n\t    0x0C6B: 'qu',\n\t    0x0418: 'ro',\n\t    0x0417: 'rm',\n\t    0x0419: 'ru',\n\t    0x243B: 'smn',\n\t    0x103B: 'smj-NO',\n\t    0x143B: 'smj',\n\t    0x0C3B: 'se-FI',\n\t    0x043B: 'se',\n\t    0x083B: 'se-SE',\n\t    0x203B: 'sms',\n\t    0x183B: 'sma-NO',\n\t    0x1C3B: 'sms',\n\t    0x044F: 'sa',\n\t    0x1C1A: 'sr-Cyrl-BA',\n\t    0x0C1A: 'sr',\n\t    0x181A: 'sr-Latn-BA',\n\t    0x081A: 'sr-Latn',\n\t    0x046C: 'nso',\n\t    0x0432: 'tn',\n\t    0x045B: 'si',\n\t    0x041B: 'sk',\n\t    0x0424: 'sl',\n\t    0x2C0A: 'es-AR',\n\t    0x400A: 'es-BO',\n\t    0x340A: 'es-CL',\n\t    0x240A: 'es-CO',\n\t    0x140A: 'es-CR',\n\t    0x1C0A: 'es-DO',\n\t    0x300A: 'es-EC',\n\t    0x440A: 'es-SV',\n\t    0x100A: 'es-GT',\n\t    0x480A: 'es-HN',\n\t    0x080A: 'es-MX',\n\t    0x4C0A: 'es-NI',\n\t    0x180A: 'es-PA',\n\t    0x3C0A: 'es-PY',\n\t    0x280A: 'es-PE',\n\t    0x500A: 'es-PR',\n\t\n\t    // Microsoft has defined two different language codes for\n\t    // “Spanish with modern sorting” and “Spanish with traditional\n\t    // sorting”. This makes sense for collation APIs, and it would be\n\t    // possible to express this in BCP 47 language tags via Unicode\n\t    // extensions (eg., es-u-co-trad is Spanish with traditional\n\t    // sorting). However, for storing names in fonts, the distinction\n\t    // does not make sense, so we give “es” in both cases.\n\t    0x0C0A: 'es',\n\t    0x040A: 'es',\n\t\n\t    0x540A: 'es-US',\n\t    0x380A: 'es-UY',\n\t    0x200A: 'es-VE',\n\t    0x081D: 'sv-FI',\n\t    0x041D: 'sv',\n\t    0x045A: 'syr',\n\t    0x0428: 'tg',\n\t    0x085F: 'tzm',\n\t    0x0449: 'ta',\n\t    0x0444: 'tt',\n\t    0x044A: 'te',\n\t    0x041E: 'th',\n\t    0x0451: 'bo',\n\t    0x041F: 'tr',\n\t    0x0442: 'tk',\n\t    0x0480: 'ug',\n\t    0x0422: 'uk',\n\t    0x042E: 'hsb',\n\t    0x0420: 'ur',\n\t    0x0843: 'uz-Cyrl',\n\t    0x0443: 'uz',\n\t    0x042A: 'vi',\n\t    0x0452: 'cy',\n\t    0x0488: 'wo',\n\t    0x0485: 'sah',\n\t    0x0478: 'ii',\n\t    0x046A: 'yo'\n\t};\n\t\n\t// Returns a IETF BCP 47 language code, for example 'zh-Hant'\n\t// for 'Chinese in the traditional script'.\n\tfunction getLanguageCode(platformID, languageID, ltag) {\n\t    switch (platformID) {\n\t        case 0:  // Unicode\n\t            if (languageID === 0xFFFF) {\n\t                return 'und';\n\t            } else if (ltag) {\n\t                return ltag[languageID];\n\t            }\n\t\n\t            break;\n\t\n\t        case 1:  // Macintosh\n\t            return macLanguages[languageID];\n\t\n\t        case 3:  // Windows\n\t            return windowsLanguages[languageID];\n\t    }\n\t\n\t    return undefined;\n\t}\n\t\n\tvar utf16 = 'utf-16';\n\t\n\t// MacOS script ID → encoding. This table stores the default case,\n\t// which can be overridden by macLanguageEncodings.\n\tvar macScriptEncodings = {\n\t    0: 'macintosh',           // smRoman\n\t    1: 'x-mac-japanese',      // smJapanese\n\t    2: 'x-mac-chinesetrad',   // smTradChinese\n\t    3: 'x-mac-korean',        // smKorean\n\t    6: 'x-mac-greek',         // smGreek\n\t    7: 'x-mac-cyrillic',      // smCyrillic\n\t    9: 'x-mac-devanagai',     // smDevanagari\n\t    10: 'x-mac-gurmukhi',     // smGurmukhi\n\t    11: 'x-mac-gujarati',     // smGujarati\n\t    12: 'x-mac-oriya',        // smOriya\n\t    13: 'x-mac-bengali',      // smBengali\n\t    14: 'x-mac-tamil',        // smTamil\n\t    15: 'x-mac-telugu',       // smTelugu\n\t    16: 'x-mac-kannada',      // smKannada\n\t    17: 'x-mac-malayalam',    // smMalayalam\n\t    18: 'x-mac-sinhalese',    // smSinhalese\n\t    19: 'x-mac-burmese',      // smBurmese\n\t    20: 'x-mac-khmer',        // smKhmer\n\t    21: 'x-mac-thai',         // smThai\n\t    22: 'x-mac-lao',          // smLao\n\t    23: 'x-mac-georgian',     // smGeorgian\n\t    24: 'x-mac-armenian',     // smArmenian\n\t    25: 'x-mac-chinesesimp',  // smSimpChinese\n\t    26: 'x-mac-tibetan',      // smTibetan\n\t    27: 'x-mac-mongolian',    // smMongolian\n\t    28: 'x-mac-ethiopic',     // smEthiopic\n\t    29: 'x-mac-ce',           // smCentralEuroRoman\n\t    30: 'x-mac-vietnamese',   // smVietnamese\n\t    31: 'x-mac-extarabic'     // smExtArabic\n\t};\n\t\n\t// MacOS language ID → encoding. This table stores the exceptional\n\t// cases, which override macScriptEncodings. For writing MacOS naming\n\t// tables, we need to emit a MacOS script ID. Therefore, we cannot\n\t// merge macScriptEncodings into macLanguageEncodings.\n\t//\n\t// http://unicode.org/Public/MAPPINGS/VENDORS/APPLE/Readme.txt\n\tvar macLanguageEncodings = {\n\t    15: 'x-mac-icelandic',    // langIcelandic\n\t    17: 'x-mac-turkish',      // langTurkish\n\t    18: 'x-mac-croatian',     // langCroatian\n\t    24: 'x-mac-ce',           // langLithuanian\n\t    25: 'x-mac-ce',           // langPolish\n\t    26: 'x-mac-ce',           // langHungarian\n\t    27: 'x-mac-ce',           // langEstonian\n\t    28: 'x-mac-ce',           // langLatvian\n\t    30: 'x-mac-icelandic',    // langFaroese\n\t    37: 'x-mac-romanian',     // langRomanian\n\t    38: 'x-mac-ce',           // langCzech\n\t    39: 'x-mac-ce',           // langSlovak\n\t    40: 'x-mac-ce',           // langSlovenian\n\t    143: 'x-mac-inuit',       // langInuktitut\n\t    146: 'x-mac-gaelic'       // langIrishGaelicScript\n\t};\n\t\n\tfunction getEncoding(platformID, encodingID, languageID) {\n\t    switch (platformID) {\n\t        case 0:  // Unicode\n\t            return utf16;\n\t\n\t        case 1:  // Apple Macintosh\n\t            return macLanguageEncodings[languageID] || macScriptEncodings[encodingID];\n\t\n\t        case 3:  // Microsoft Windows\n\t            if (encodingID === 1 || encodingID === 10) {\n\t                return utf16;\n\t            }\n\t\n\t            break;\n\t    }\n\t\n\t    return undefined;\n\t}\n\t\n\t// Parse the naming `name` table.\n\t// FIXME: Format 1 additional fields are not supported yet.\n\t// ltag is the content of the `ltag' table, such as ['en', 'zh-Hans', 'de-CH-1904'].\n\tfunction parseNameTable(data, start, ltag) {\n\t    var name = {};\n\t    var p = new parse.Parser(data, start);\n\t    var format = p.parseUShort();\n\t    var count = p.parseUShort();\n\t    var stringOffset = p.offset + p.parseUShort();\n\t    for (var i = 0; i < count; i++) {\n\t        var platformID = p.parseUShort();\n\t        var encodingID = p.parseUShort();\n\t        var languageID = p.parseUShort();\n\t        var nameID = p.parseUShort();\n\t        var property = nameTableNames[nameID] || nameID;\n\t        var byteLength = p.parseUShort();\n\t        var offset = p.parseUShort();\n\t        var language = getLanguageCode(platformID, languageID, ltag);\n\t        var encoding = getEncoding(platformID, encodingID, languageID);\n\t        if (encoding !== undefined && language !== undefined) {\n\t            var text = (void 0);\n\t            if (encoding === utf16) {\n\t                text = decode.UTF16(data, stringOffset + offset, byteLength);\n\t            } else {\n\t                text = decode.MACSTRING(data, stringOffset + offset, byteLength, encoding);\n\t            }\n\t\n\t            if (text) {\n\t                var translations = name[property];\n\t                if (translations === undefined) {\n\t                    translations = name[property] = {};\n\t                }\n\t\n\t                translations[language] = text;\n\t            }\n\t        }\n\t    }\n\t\n\t    var langTagCount = 0;\n\t    if (format === 1) {\n\t        // FIXME: Also handle Microsoft's 'name' table 1.\n\t        langTagCount = p.parseUShort();\n\t    }\n\t\n\t    return name;\n\t}\n\t\n\t// {23: 'foo'} → {'foo': 23}\n\t// ['bar', 'baz'] → {'bar': 0, 'baz': 1}\n\tfunction reverseDict(dict) {\n\t    var result = {};\n\t    for (var key in dict) {\n\t        result[dict[key]] = parseInt(key);\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction makeNameRecord(platformID, encodingID, languageID, nameID, length, offset) {\n\t    return new table.Record('NameRecord', [\n\t        {name: 'platformID', type: 'USHORT', value: platformID},\n\t        {name: 'encodingID', type: 'USHORT', value: encodingID},\n\t        {name: 'languageID', type: 'USHORT', value: languageID},\n\t        {name: 'nameID', type: 'USHORT', value: nameID},\n\t        {name: 'length', type: 'USHORT', value: length},\n\t        {name: 'offset', type: 'USHORT', value: offset}\n\t    ]);\n\t}\n\t\n\t// Finds the position of needle in haystack, or -1 if not there.\n\t// Like String.indexOf(), but for arrays.\n\tfunction findSubArray(needle, haystack) {\n\t    var needleLength = needle.length;\n\t    var limit = haystack.length - needleLength + 1;\n\t\n\t    loop:\n\t    for (var pos = 0; pos < limit; pos++) {\n\t        for (; pos < limit; pos++) {\n\t            for (var k = 0; k < needleLength; k++) {\n\t                if (haystack[pos + k] !== needle[k]) {\n\t                    continue loop;\n\t                }\n\t            }\n\t\n\t            return pos;\n\t        }\n\t    }\n\t\n\t    return -1;\n\t}\n\t\n\tfunction addStringToPool(s, pool) {\n\t    var offset = findSubArray(s, pool);\n\t    if (offset < 0) {\n\t        offset = pool.length;\n\t        var i = 0;\n\t        var len = s.length;\n\t        for (; i < len; ++i) {\n\t            pool.push(s[i]);\n\t        }\n\t\n\t    }\n\t\n\t    return offset;\n\t}\n\t\n\tfunction makeNameTable(names, ltag) {\n\t    var nameID;\n\t    var nameIDs = [];\n\t\n\t    var namesWithNumericKeys = {};\n\t    var nameTableIds = reverseDict(nameTableNames);\n\t    for (var key in names) {\n\t        var id = nameTableIds[key];\n\t        if (id === undefined) {\n\t            id = key;\n\t        }\n\t\n\t        nameID = parseInt(id);\n\t\n\t        if (isNaN(nameID)) {\n\t            throw new Error('Name table entry \"' + key + '\" does not exist, see nameTableNames for complete list.');\n\t        }\n\t\n\t        namesWithNumericKeys[nameID] = names[key];\n\t        nameIDs.push(nameID);\n\t    }\n\t\n\t    var macLanguageIds = reverseDict(macLanguages);\n\t    var windowsLanguageIds = reverseDict(windowsLanguages);\n\t\n\t    var nameRecords = [];\n\t    var stringPool = [];\n\t\n\t    for (var i = 0; i < nameIDs.length; i++) {\n\t        nameID = nameIDs[i];\n\t        var translations = namesWithNumericKeys[nameID];\n\t        for (var lang in translations) {\n\t            var text = translations[lang];\n\t\n\t            // For MacOS, we try to emit the name in the form that was introduced\n\t            // in the initial version of the TrueType spec (in the late 1980s).\n\t            // However, this can fail for various reasons: the requested BCP 47\n\t            // language code might not have an old-style Mac equivalent;\n\t            // we might not have a codec for the needed character encoding;\n\t            // or the name might contain characters that cannot be expressed\n\t            // in the old-style Macintosh encoding. In case of failure, we emit\n\t            // the name in a more modern fashion (Unicode encoding with BCP 47\n\t            // language tags) that is recognized by MacOS 10.5, released in 2009.\n\t            // If fonts were only read by operating systems, we could simply\n\t            // emit all names in the modern form; this would be much easier.\n\t            // However, there are many applications and libraries that read\n\t            // 'name' tables directly, and these will usually only recognize\n\t            // the ancient form (silently skipping the unrecognized names).\n\t            var macPlatform = 1;  // Macintosh\n\t            var macLanguage = macLanguageIds[lang];\n\t            var macScript = macLanguageToScript[macLanguage];\n\t            var macEncoding = getEncoding(macPlatform, macScript, macLanguage);\n\t            var macName = encode.MACSTRING(text, macEncoding);\n\t            if (macName === undefined) {\n\t                macPlatform = 0;  // Unicode\n\t                macLanguage = ltag.indexOf(lang);\n\t                if (macLanguage < 0) {\n\t                    macLanguage = ltag.length;\n\t                    ltag.push(lang);\n\t                }\n\t\n\t                macScript = 4;  // Unicode 2.0 and later\n\t                macName = encode.UTF16(text);\n\t            }\n\t\n\t            var macNameOffset = addStringToPool(macName, stringPool);\n\t            nameRecords.push(makeNameRecord(macPlatform, macScript, macLanguage,\n\t                                            nameID, macName.length, macNameOffset));\n\t\n\t            var winLanguage = windowsLanguageIds[lang];\n\t            if (winLanguage !== undefined) {\n\t                var winName = encode.UTF16(text);\n\t                var winNameOffset = addStringToPool(winName, stringPool);\n\t                nameRecords.push(makeNameRecord(3, 1, winLanguage,\n\t                                                nameID, winName.length, winNameOffset));\n\t            }\n\t        }\n\t    }\n\t\n\t    nameRecords.sort(function(a, b) {\n\t        return ((a.platformID - b.platformID) ||\n\t                (a.encodingID - b.encodingID) ||\n\t                (a.languageID - b.languageID) ||\n\t                (a.nameID - b.nameID));\n\t    });\n\t\n\t    var t = new table.Table('name', [\n\t        {name: 'format', type: 'USHORT', value: 0},\n\t        {name: 'count', type: 'USHORT', value: nameRecords.length},\n\t        {name: 'stringOffset', type: 'USHORT', value: 6 + nameRecords.length * 12}\n\t    ]);\n\t\n\t    for (var r = 0; r < nameRecords.length; r++) {\n\t        t.fields.push({name: 'record_' + r, type: 'RECORD', value: nameRecords[r]});\n\t    }\n\t\n\t    t.fields.push({name: 'strings', type: 'LITERAL', value: stringPool});\n\t    return t;\n\t}\n\t\n\tvar _name = { parse: parseNameTable, make: makeNameTable };\n\t\n\t// The `OS/2` table contains metrics required in OpenType fonts.\n\t// https://www.microsoft.com/typography/OTSPEC/os2.htm\n\t\n\tvar unicodeRanges = [\n\t    {begin: 0x0000, end: 0x007F}, // Basic Latin\n\t    {begin: 0x0080, end: 0x00FF}, // Latin-1 Supplement\n\t    {begin: 0x0100, end: 0x017F}, // Latin Extended-A\n\t    {begin: 0x0180, end: 0x024F}, // Latin Extended-B\n\t    {begin: 0x0250, end: 0x02AF}, // IPA Extensions\n\t    {begin: 0x02B0, end: 0x02FF}, // Spacing Modifier Letters\n\t    {begin: 0x0300, end: 0x036F}, // Combining Diacritical Marks\n\t    {begin: 0x0370, end: 0x03FF}, // Greek and Coptic\n\t    {begin: 0x2C80, end: 0x2CFF}, // Coptic\n\t    {begin: 0x0400, end: 0x04FF}, // Cyrillic\n\t    {begin: 0x0530, end: 0x058F}, // Armenian\n\t    {begin: 0x0590, end: 0x05FF}, // Hebrew\n\t    {begin: 0xA500, end: 0xA63F}, // Vai\n\t    {begin: 0x0600, end: 0x06FF}, // Arabic\n\t    {begin: 0x07C0, end: 0x07FF}, // NKo\n\t    {begin: 0x0900, end: 0x097F}, // Devanagari\n\t    {begin: 0x0980, end: 0x09FF}, // Bengali\n\t    {begin: 0x0A00, end: 0x0A7F}, // Gurmukhi\n\t    {begin: 0x0A80, end: 0x0AFF}, // Gujarati\n\t    {begin: 0x0B00, end: 0x0B7F}, // Oriya\n\t    {begin: 0x0B80, end: 0x0BFF}, // Tamil\n\t    {begin: 0x0C00, end: 0x0C7F}, // Telugu\n\t    {begin: 0x0C80, end: 0x0CFF}, // Kannada\n\t    {begin: 0x0D00, end: 0x0D7F}, // Malayalam\n\t    {begin: 0x0E00, end: 0x0E7F}, // Thai\n\t    {begin: 0x0E80, end: 0x0EFF}, // Lao\n\t    {begin: 0x10A0, end: 0x10FF}, // Georgian\n\t    {begin: 0x1B00, end: 0x1B7F}, // Balinese\n\t    {begin: 0x1100, end: 0x11FF}, // Hangul Jamo\n\t    {begin: 0x1E00, end: 0x1EFF}, // Latin Extended Additional\n\t    {begin: 0x1F00, end: 0x1FFF}, // Greek Extended\n\t    {begin: 0x2000, end: 0x206F}, // General Punctuation\n\t    {begin: 0x2070, end: 0x209F}, // Superscripts And Subscripts\n\t    {begin: 0x20A0, end: 0x20CF}, // Currency Symbol\n\t    {begin: 0x20D0, end: 0x20FF}, // Combining Diacritical Marks For Symbols\n\t    {begin: 0x2100, end: 0x214F}, // Letterlike Symbols\n\t    {begin: 0x2150, end: 0x218F}, // Number Forms\n\t    {begin: 0x2190, end: 0x21FF}, // Arrows\n\t    {begin: 0x2200, end: 0x22FF}, // Mathematical Operators\n\t    {begin: 0x2300, end: 0x23FF}, // Miscellaneous Technical\n\t    {begin: 0x2400, end: 0x243F}, // Control Pictures\n\t    {begin: 0x2440, end: 0x245F}, // Optical Character Recognition\n\t    {begin: 0x2460, end: 0x24FF}, // Enclosed Alphanumerics\n\t    {begin: 0x2500, end: 0x257F}, // Box Drawing\n\t    {begin: 0x2580, end: 0x259F}, // Block Elements\n\t    {begin: 0x25A0, end: 0x25FF}, // Geometric Shapes\n\t    {begin: 0x2600, end: 0x26FF}, // Miscellaneous Symbols\n\t    {begin: 0x2700, end: 0x27BF}, // Dingbats\n\t    {begin: 0x3000, end: 0x303F}, // CJK Symbols And Punctuation\n\t    {begin: 0x3040, end: 0x309F}, // Hiragana\n\t    {begin: 0x30A0, end: 0x30FF}, // Katakana\n\t    {begin: 0x3100, end: 0x312F}, // Bopomofo\n\t    {begin: 0x3130, end: 0x318F}, // Hangul Compatibility Jamo\n\t    {begin: 0xA840, end: 0xA87F}, // Phags-pa\n\t    {begin: 0x3200, end: 0x32FF}, // Enclosed CJK Letters And Months\n\t    {begin: 0x3300, end: 0x33FF}, // CJK Compatibility\n\t    {begin: 0xAC00, end: 0xD7AF}, // Hangul Syllables\n\t    {begin: 0xD800, end: 0xDFFF}, // Non-Plane 0 *\n\t    {begin: 0x10900, end: 0x1091F}, // Phoenicia\n\t    {begin: 0x4E00, end: 0x9FFF}, // CJK Unified Ideographs\n\t    {begin: 0xE000, end: 0xF8FF}, // Private Use Area (plane 0)\n\t    {begin: 0x31C0, end: 0x31EF}, // CJK Strokes\n\t    {begin: 0xFB00, end: 0xFB4F}, // Alphabetic Presentation Forms\n\t    {begin: 0xFB50, end: 0xFDFF}, // Arabic Presentation Forms-A\n\t    {begin: 0xFE20, end: 0xFE2F}, // Combining Half Marks\n\t    {begin: 0xFE10, end: 0xFE1F}, // Vertical Forms\n\t    {begin: 0xFE50, end: 0xFE6F}, // Small Form Variants\n\t    {begin: 0xFE70, end: 0xFEFF}, // Arabic Presentation Forms-B\n\t    {begin: 0xFF00, end: 0xFFEF}, // Halfwidth And Fullwidth Forms\n\t    {begin: 0xFFF0, end: 0xFFFF}, // Specials\n\t    {begin: 0x0F00, end: 0x0FFF}, // Tibetan\n\t    {begin: 0x0700, end: 0x074F}, // Syriac\n\t    {begin: 0x0780, end: 0x07BF}, // Thaana\n\t    {begin: 0x0D80, end: 0x0DFF}, // Sinhala\n\t    {begin: 0x1000, end: 0x109F}, // Myanmar\n\t    {begin: 0x1200, end: 0x137F}, // Ethiopic\n\t    {begin: 0x13A0, end: 0x13FF}, // Cherokee\n\t    {begin: 0x1400, end: 0x167F}, // Unified Canadian Aboriginal Syllabics\n\t    {begin: 0x1680, end: 0x169F}, // Ogham\n\t    {begin: 0x16A0, end: 0x16FF}, // Runic\n\t    {begin: 0x1780, end: 0x17FF}, // Khmer\n\t    {begin: 0x1800, end: 0x18AF}, // Mongolian\n\t    {begin: 0x2800, end: 0x28FF}, // Braille Patterns\n\t    {begin: 0xA000, end: 0xA48F}, // Yi Syllables\n\t    {begin: 0x1700, end: 0x171F}, // Tagalog\n\t    {begin: 0x10300, end: 0x1032F}, // Old Italic\n\t    {begin: 0x10330, end: 0x1034F}, // Gothic\n\t    {begin: 0x10400, end: 0x1044F}, // Deseret\n\t    {begin: 0x1D000, end: 0x1D0FF}, // Byzantine Musical Symbols\n\t    {begin: 0x1D400, end: 0x1D7FF}, // Mathematical Alphanumeric Symbols\n\t    {begin: 0xFF000, end: 0xFFFFD}, // Private Use (plane 15)\n\t    {begin: 0xFE00, end: 0xFE0F}, // Variation Selectors\n\t    {begin: 0xE0000, end: 0xE007F}, // Tags\n\t    {begin: 0x1900, end: 0x194F}, // Limbu\n\t    {begin: 0x1950, end: 0x197F}, // Tai Le\n\t    {begin: 0x1980, end: 0x19DF}, // New Tai Lue\n\t    {begin: 0x1A00, end: 0x1A1F}, // Buginese\n\t    {begin: 0x2C00, end: 0x2C5F}, // Glagolitic\n\t    {begin: 0x2D30, end: 0x2D7F}, // Tifinagh\n\t    {begin: 0x4DC0, end: 0x4DFF}, // Yijing Hexagram Symbols\n\t    {begin: 0xA800, end: 0xA82F}, // Syloti Nagri\n\t    {begin: 0x10000, end: 0x1007F}, // Linear B Syllabary\n\t    {begin: 0x10140, end: 0x1018F}, // Ancient Greek Numbers\n\t    {begin: 0x10380, end: 0x1039F}, // Ugaritic\n\t    {begin: 0x103A0, end: 0x103DF}, // Old Persian\n\t    {begin: 0x10450, end: 0x1047F}, // Shavian\n\t    {begin: 0x10480, end: 0x104AF}, // Osmanya\n\t    {begin: 0x10800, end: 0x1083F}, // Cypriot Syllabary\n\t    {begin: 0x10A00, end: 0x10A5F}, // Kharoshthi\n\t    {begin: 0x1D300, end: 0x1D35F}, // Tai Xuan Jing Symbols\n\t    {begin: 0x12000, end: 0x123FF}, // Cuneiform\n\t    {begin: 0x1D360, end: 0x1D37F}, // Counting Rod Numerals\n\t    {begin: 0x1B80, end: 0x1BBF}, // Sundanese\n\t    {begin: 0x1C00, end: 0x1C4F}, // Lepcha\n\t    {begin: 0x1C50, end: 0x1C7F}, // Ol Chiki\n\t    {begin: 0xA880, end: 0xA8DF}, // Saurashtra\n\t    {begin: 0xA900, end: 0xA92F}, // Kayah Li\n\t    {begin: 0xA930, end: 0xA95F}, // Rejang\n\t    {begin: 0xAA00, end: 0xAA5F}, // Cham\n\t    {begin: 0x10190, end: 0x101CF}, // Ancient Symbols\n\t    {begin: 0x101D0, end: 0x101FF}, // Phaistos Disc\n\t    {begin: 0x102A0, end: 0x102DF}, // Carian\n\t    {begin: 0x1F030, end: 0x1F09F}  // Domino Tiles\n\t];\n\t\n\tfunction getUnicodeRange(unicode) {\n\t    for (var i = 0; i < unicodeRanges.length; i += 1) {\n\t        var range = unicodeRanges[i];\n\t        if (unicode >= range.begin && unicode < range.end) {\n\t            return i;\n\t        }\n\t    }\n\t\n\t    return -1;\n\t}\n\t\n\t// Parse the OS/2 and Windows metrics `OS/2` table\n\tfunction parseOS2Table(data, start) {\n\t    var os2 = {};\n\t    var p = new parse.Parser(data, start);\n\t    os2.version = p.parseUShort();\n\t    os2.xAvgCharWidth = p.parseShort();\n\t    os2.usWeightClass = p.parseUShort();\n\t    os2.usWidthClass = p.parseUShort();\n\t    os2.fsType = p.parseUShort();\n\t    os2.ySubscriptXSize = p.parseShort();\n\t    os2.ySubscriptYSize = p.parseShort();\n\t    os2.ySubscriptXOffset = p.parseShort();\n\t    os2.ySubscriptYOffset = p.parseShort();\n\t    os2.ySuperscriptXSize = p.parseShort();\n\t    os2.ySuperscriptYSize = p.parseShort();\n\t    os2.ySuperscriptXOffset = p.parseShort();\n\t    os2.ySuperscriptYOffset = p.parseShort();\n\t    os2.yStrikeoutSize = p.parseShort();\n\t    os2.yStrikeoutPosition = p.parseShort();\n\t    os2.sFamilyClass = p.parseShort();\n\t    os2.panose = [];\n\t    for (var i = 0; i < 10; i++) {\n\t        os2.panose[i] = p.parseByte();\n\t    }\n\t\n\t    os2.ulUnicodeRange1 = p.parseULong();\n\t    os2.ulUnicodeRange2 = p.parseULong();\n\t    os2.ulUnicodeRange3 = p.parseULong();\n\t    os2.ulUnicodeRange4 = p.parseULong();\n\t    os2.achVendID = String.fromCharCode(p.parseByte(), p.parseByte(), p.parseByte(), p.parseByte());\n\t    os2.fsSelection = p.parseUShort();\n\t    os2.usFirstCharIndex = p.parseUShort();\n\t    os2.usLastCharIndex = p.parseUShort();\n\t    os2.sTypoAscender = p.parseShort();\n\t    os2.sTypoDescender = p.parseShort();\n\t    os2.sTypoLineGap = p.parseShort();\n\t    os2.usWinAscent = p.parseUShort();\n\t    os2.usWinDescent = p.parseUShort();\n\t    if (os2.version >= 1) {\n\t        os2.ulCodePageRange1 = p.parseULong();\n\t        os2.ulCodePageRange2 = p.parseULong();\n\t    }\n\t\n\t    if (os2.version >= 2) {\n\t        os2.sxHeight = p.parseShort();\n\t        os2.sCapHeight = p.parseShort();\n\t        os2.usDefaultChar = p.parseUShort();\n\t        os2.usBreakChar = p.parseUShort();\n\t        os2.usMaxContent = p.parseUShort();\n\t    }\n\t\n\t    return os2;\n\t}\n\t\n\tfunction makeOS2Table(options) {\n\t    return new table.Table('OS/2', [\n\t        {name: 'version', type: 'USHORT', value: 0x0003},\n\t        {name: 'xAvgCharWidth', type: 'SHORT', value: 0},\n\t        {name: 'usWeightClass', type: 'USHORT', value: 0},\n\t        {name: 'usWidthClass', type: 'USHORT', value: 0},\n\t        {name: 'fsType', type: 'USHORT', value: 0},\n\t        {name: 'ySubscriptXSize', type: 'SHORT', value: 650},\n\t        {name: 'ySubscriptYSize', type: 'SHORT', value: 699},\n\t        {name: 'ySubscriptXOffset', type: 'SHORT', value: 0},\n\t        {name: 'ySubscriptYOffset', type: 'SHORT', value: 140},\n\t        {name: 'ySuperscriptXSize', type: 'SHORT', value: 650},\n\t        {name: 'ySuperscriptYSize', type: 'SHORT', value: 699},\n\t        {name: 'ySuperscriptXOffset', type: 'SHORT', value: 0},\n\t        {name: 'ySuperscriptYOffset', type: 'SHORT', value: 479},\n\t        {name: 'yStrikeoutSize', type: 'SHORT', value: 49},\n\t        {name: 'yStrikeoutPosition', type: 'SHORT', value: 258},\n\t        {name: 'sFamilyClass', type: 'SHORT', value: 0},\n\t        {name: 'bFamilyType', type: 'BYTE', value: 0},\n\t        {name: 'bSerifStyle', type: 'BYTE', value: 0},\n\t        {name: 'bWeight', type: 'BYTE', value: 0},\n\t        {name: 'bProportion', type: 'BYTE', value: 0},\n\t        {name: 'bContrast', type: 'BYTE', value: 0},\n\t        {name: 'bStrokeVariation', type: 'BYTE', value: 0},\n\t        {name: 'bArmStyle', type: 'BYTE', value: 0},\n\t        {name: 'bLetterform', type: 'BYTE', value: 0},\n\t        {name: 'bMidline', type: 'BYTE', value: 0},\n\t        {name: 'bXHeight', type: 'BYTE', value: 0},\n\t        {name: 'ulUnicodeRange1', type: 'ULONG', value: 0},\n\t        {name: 'ulUnicodeRange2', type: 'ULONG', value: 0},\n\t        {name: 'ulUnicodeRange3', type: 'ULONG', value: 0},\n\t        {name: 'ulUnicodeRange4', type: 'ULONG', value: 0},\n\t        {name: 'achVendID', type: 'CHARARRAY', value: 'XXXX'},\n\t        {name: 'fsSelection', type: 'USHORT', value: 0},\n\t        {name: 'usFirstCharIndex', type: 'USHORT', value: 0},\n\t        {name: 'usLastCharIndex', type: 'USHORT', value: 0},\n\t        {name: 'sTypoAscender', type: 'SHORT', value: 0},\n\t        {name: 'sTypoDescender', type: 'SHORT', value: 0},\n\t        {name: 'sTypoLineGap', type: 'SHORT', value: 0},\n\t        {name: 'usWinAscent', type: 'USHORT', value: 0},\n\t        {name: 'usWinDescent', type: 'USHORT', value: 0},\n\t        {name: 'ulCodePageRange1', type: 'ULONG', value: 0},\n\t        {name: 'ulCodePageRange2', type: 'ULONG', value: 0},\n\t        {name: 'sxHeight', type: 'SHORT', value: 0},\n\t        {name: 'sCapHeight', type: 'SHORT', value: 0},\n\t        {name: 'usDefaultChar', type: 'USHORT', value: 0},\n\t        {name: 'usBreakChar', type: 'USHORT', value: 0},\n\t        {name: 'usMaxContext', type: 'USHORT', value: 0}\n\t    ], options);\n\t}\n\t\n\tvar os2 = { parse: parseOS2Table, make: makeOS2Table, unicodeRanges: unicodeRanges, getUnicodeRange: getUnicodeRange };\n\t\n\t// The `post` table stores additional PostScript information, such as glyph names.\n\t// https://www.microsoft.com/typography/OTSPEC/post.htm\n\t\n\t// Parse the PostScript `post` table\n\tfunction parsePostTable(data, start) {\n\t    var post = {};\n\t    var p = new parse.Parser(data, start);\n\t    post.version = p.parseVersion();\n\t    post.italicAngle = p.parseFixed();\n\t    post.underlinePosition = p.parseShort();\n\t    post.underlineThickness = p.parseShort();\n\t    post.isFixedPitch = p.parseULong();\n\t    post.minMemType42 = p.parseULong();\n\t    post.maxMemType42 = p.parseULong();\n\t    post.minMemType1 = p.parseULong();\n\t    post.maxMemType1 = p.parseULong();\n\t    switch (post.version) {\n\t        case 1:\n\t            post.names = standardNames.slice();\n\t            break;\n\t        case 2:\n\t            post.numberOfGlyphs = p.parseUShort();\n\t            post.glyphNameIndex = new Array(post.numberOfGlyphs);\n\t            for (var i = 0; i < post.numberOfGlyphs; i++) {\n\t                post.glyphNameIndex[i] = p.parseUShort();\n\t            }\n\t\n\t            post.names = [];\n\t            for (var i$1 = 0; i$1 < post.numberOfGlyphs; i$1++) {\n\t                if (post.glyphNameIndex[i$1] >= standardNames.length) {\n\t                    var nameLength = p.parseChar();\n\t                    post.names.push(p.parseString(nameLength));\n\t                }\n\t            }\n\t\n\t            break;\n\t        case 2.5:\n\t            post.numberOfGlyphs = p.parseUShort();\n\t            post.offset = new Array(post.numberOfGlyphs);\n\t            for (var i$2 = 0; i$2 < post.numberOfGlyphs; i$2++) {\n\t                post.offset[i$2] = p.parseChar();\n\t            }\n\t\n\t            break;\n\t    }\n\t    return post;\n\t}\n\t\n\tfunction makePostTable() {\n\t    return new table.Table('post', [\n\t        {name: 'version', type: 'FIXED', value: 0x00030000},\n\t        {name: 'italicAngle', type: 'FIXED', value: 0},\n\t        {name: 'underlinePosition', type: 'FWORD', value: 0},\n\t        {name: 'underlineThickness', type: 'FWORD', value: 0},\n\t        {name: 'isFixedPitch', type: 'ULONG', value: 0},\n\t        {name: 'minMemType42', type: 'ULONG', value: 0},\n\t        {name: 'maxMemType42', type: 'ULONG', value: 0},\n\t        {name: 'minMemType1', type: 'ULONG', value: 0},\n\t        {name: 'maxMemType1', type: 'ULONG', value: 0}\n\t    ]);\n\t}\n\t\n\tvar post = { parse: parsePostTable, make: makePostTable };\n\t\n\t// The `GSUB` table contains ligatures, among other things.\n\t// https://www.microsoft.com/typography/OTSPEC/gsub.htm\n\t\n\tvar subtableParsers = new Array(9);         // subtableParsers[0] is unused\n\t\n\t// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#SS\n\tsubtableParsers[1] = function parseLookup1() {\n\t    var start = this.offset + this.relativeOffset;\n\t    var substFormat = this.parseUShort();\n\t    if (substFormat === 1) {\n\t        return {\n\t            substFormat: 1,\n\t            coverage: this.parsePointer(Parser.coverage),\n\t            deltaGlyphId: this.parseUShort()\n\t        };\n\t    } else if (substFormat === 2) {\n\t        return {\n\t            substFormat: 2,\n\t            coverage: this.parsePointer(Parser.coverage),\n\t            substitute: this.parseOffset16List()\n\t        };\n\t    }\n\t    check.assert(false, '0x' + start.toString(16) + ': lookup type 1 format must be 1 or 2.');\n\t};\n\t\n\t// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#MS\n\tsubtableParsers[2] = function parseLookup2() {\n\t    var substFormat = this.parseUShort();\n\t    check.argument(substFormat === 1, 'GSUB Multiple Substitution Subtable identifier-format must be 1');\n\t    return {\n\t        substFormat: substFormat,\n\t        coverage: this.parsePointer(Parser.coverage),\n\t        sequences: this.parseListOfLists()\n\t    };\n\t};\n\t\n\t// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#AS\n\tsubtableParsers[3] = function parseLookup3() {\n\t    var substFormat = this.parseUShort();\n\t    check.argument(substFormat === 1, 'GSUB Alternate Substitution Subtable identifier-format must be 1');\n\t    return {\n\t        substFormat: substFormat,\n\t        coverage: this.parsePointer(Parser.coverage),\n\t        alternateSets: this.parseListOfLists()\n\t    };\n\t};\n\t\n\t// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#LS\n\tsubtableParsers[4] = function parseLookup4() {\n\t    var substFormat = this.parseUShort();\n\t    check.argument(substFormat === 1, 'GSUB ligature table identifier-format must be 1');\n\t    return {\n\t        substFormat: substFormat,\n\t        coverage: this.parsePointer(Parser.coverage),\n\t        ligatureSets: this.parseListOfLists(function() {\n\t            return {\n\t                ligGlyph: this.parseUShort(),\n\t                components: this.parseUShortList(this.parseUShort() - 1)\n\t            };\n\t        })\n\t    };\n\t};\n\t\n\tvar lookupRecordDesc = {\n\t    sequenceIndex: Parser.uShort,\n\t    lookupListIndex: Parser.uShort\n\t};\n\t\n\t// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#CSF\n\tsubtableParsers[5] = function parseLookup5() {\n\t    var start = this.offset + this.relativeOffset;\n\t    var substFormat = this.parseUShort();\n\t\n\t    if (substFormat === 1) {\n\t        return {\n\t            substFormat: substFormat,\n\t            coverage: this.parsePointer(Parser.coverage),\n\t            ruleSets: this.parseListOfLists(function() {\n\t                var glyphCount = this.parseUShort();\n\t                var substCount = this.parseUShort();\n\t                return {\n\t                    input: this.parseUShortList(glyphCount - 1),\n\t                    lookupRecords: this.parseRecordList(substCount, lookupRecordDesc)\n\t                };\n\t            })\n\t        };\n\t    } else if (substFormat === 2) {\n\t        return {\n\t            substFormat: substFormat,\n\t            coverage: this.parsePointer(Parser.coverage),\n\t            classDef: this.parsePointer(Parser.classDef),\n\t            classSets: this.parseListOfLists(function() {\n\t                var glyphCount = this.parseUShort();\n\t                var substCount = this.parseUShort();\n\t                return {\n\t                    classes: this.parseUShortList(glyphCount - 1),\n\t                    lookupRecords: this.parseRecordList(substCount, lookupRecordDesc)\n\t                };\n\t            })\n\t        };\n\t    } else if (substFormat === 3) {\n\t        var glyphCount = this.parseUShort();\n\t        var substCount = this.parseUShort();\n\t        return {\n\t            substFormat: substFormat,\n\t            coverages: this.parseList(glyphCount, Parser.pointer(Parser.coverage)),\n\t            lookupRecords: this.parseRecordList(substCount, lookupRecordDesc)\n\t        };\n\t    }\n\t    check.assert(false, '0x' + start.toString(16) + ': lookup type 5 format must be 1, 2 or 3.');\n\t};\n\t\n\t// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#CC\n\tsubtableParsers[6] = function parseLookup6() {\n\t    var start = this.offset + this.relativeOffset;\n\t    var substFormat = this.parseUShort();\n\t    if (substFormat === 1) {\n\t        return {\n\t            substFormat: 1,\n\t            coverage: this.parsePointer(Parser.coverage),\n\t            chainRuleSets: this.parseListOfLists(function() {\n\t                return {\n\t                    backtrack: this.parseUShortList(),\n\t                    input: this.parseUShortList(this.parseShort() - 1),\n\t                    lookahead: this.parseUShortList(),\n\t                    lookupRecords: this.parseRecordList(lookupRecordDesc)\n\t                };\n\t            })\n\t        };\n\t    } else if (substFormat === 2) {\n\t        return {\n\t            substFormat: 2,\n\t            coverage: this.parsePointer(Parser.coverage),\n\t            backtrackClassDef: this.parsePointer(Parser.classDef),\n\t            inputClassDef: this.parsePointer(Parser.classDef),\n\t            lookaheadClassDef: this.parsePointer(Parser.classDef),\n\t            chainClassSet: this.parseListOfLists(function() {\n\t                return {\n\t                    backtrack: this.parseUShortList(),\n\t                    input: this.parseUShortList(this.parseShort() - 1),\n\t                    lookahead: this.parseUShortList(),\n\t                    lookupRecords: this.parseRecordList(lookupRecordDesc)\n\t                };\n\t            })\n\t        };\n\t    } else if (substFormat === 3) {\n\t        return {\n\t            substFormat: 3,\n\t            backtrackCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n\t            inputCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n\t            lookaheadCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n\t            lookupRecords: this.parseRecordList(lookupRecordDesc)\n\t        };\n\t    }\n\t    check.assert(false, '0x' + start.toString(16) + ': lookup type 6 format must be 1, 2 or 3.');\n\t};\n\t\n\t// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#ES\n\tsubtableParsers[7] = function parseLookup7() {\n\t    // Extension Substitution subtable\n\t    var substFormat = this.parseUShort();\n\t    check.argument(substFormat === 1, 'GSUB Extension Substitution subtable identifier-format must be 1');\n\t    var extensionLookupType = this.parseUShort();\n\t    var extensionParser = new Parser(this.data, this.offset + this.parseULong());\n\t    return {\n\t        substFormat: 1,\n\t        lookupType: extensionLookupType,\n\t        extension: subtableParsers[extensionLookupType].call(extensionParser)\n\t    };\n\t};\n\t\n\t// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#RCCS\n\tsubtableParsers[8] = function parseLookup8() {\n\t    var substFormat = this.parseUShort();\n\t    check.argument(substFormat === 1, 'GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1');\n\t    return {\n\t        substFormat: substFormat,\n\t        coverage: this.parsePointer(Parser.coverage),\n\t        backtrackCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n\t        lookaheadCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n\t        substitutes: this.parseUShortList()\n\t    };\n\t};\n\t\n\t// https://www.microsoft.com/typography/OTSPEC/gsub.htm\n\tfunction parseGsubTable(data, start) {\n\t    start = start || 0;\n\t    var p = new Parser(data, start);\n\t    var tableVersion = p.parseVersion();\n\t    check.argument(tableVersion === 1, 'Unsupported GSUB table version.');\n\t    return {\n\t        version: tableVersion,\n\t        scripts: p.parseScriptList(),\n\t        features: p.parseFeatureList(),\n\t        lookups: p.parseLookupList(subtableParsers)\n\t    };\n\t}\n\t\n\t// GSUB Writing //////////////////////////////////////////////\n\tvar subtableMakers = new Array(9);\n\t\n\tsubtableMakers[1] = function makeLookup1(subtable) {\n\t    if (subtable.substFormat === 1) {\n\t        return new table.Table('substitutionTable', [\n\t            {name: 'substFormat', type: 'USHORT', value: 1},\n\t            {name: 'coverage', type: 'TABLE', value: new table.Coverage(subtable.coverage)},\n\t            {name: 'deltaGlyphID', type: 'USHORT', value: subtable.deltaGlyphId}\n\t        ]);\n\t    } else {\n\t        return new table.Table('substitutionTable', [\n\t            {name: 'substFormat', type: 'USHORT', value: 2},\n\t            {name: 'coverage', type: 'TABLE', value: new table.Coverage(subtable.coverage)}\n\t        ].concat(table.ushortList('substitute', subtable.substitute)));\n\t    }\n\t    check.fail('Lookup type 1 substFormat must be 1 or 2.');\n\t};\n\t\n\tsubtableMakers[3] = function makeLookup3(subtable) {\n\t    check.assert(subtable.substFormat === 1, 'Lookup type 3 substFormat must be 1.');\n\t    return new table.Table('substitutionTable', [\n\t        {name: 'substFormat', type: 'USHORT', value: 1},\n\t        {name: 'coverage', type: 'TABLE', value: new table.Coverage(subtable.coverage)}\n\t    ].concat(table.tableList('altSet', subtable.alternateSets, function(alternateSet) {\n\t        return new table.Table('alternateSetTable', table.ushortList('alternate', alternateSet));\n\t    })));\n\t};\n\t\n\tsubtableMakers[4] = function makeLookup4(subtable) {\n\t    check.assert(subtable.substFormat === 1, 'Lookup type 4 substFormat must be 1.');\n\t    return new table.Table('substitutionTable', [\n\t        {name: 'substFormat', type: 'USHORT', value: 1},\n\t        {name: 'coverage', type: 'TABLE', value: new table.Coverage(subtable.coverage)}\n\t    ].concat(table.tableList('ligSet', subtable.ligatureSets, function(ligatureSet) {\n\t        return new table.Table('ligatureSetTable', table.tableList('ligature', ligatureSet, function(ligature) {\n\t            return new table.Table('ligatureTable',\n\t                [{name: 'ligGlyph', type: 'USHORT', value: ligature.ligGlyph}]\n\t                .concat(table.ushortList('component', ligature.components, ligature.components.length + 1))\n\t            );\n\t        }));\n\t    })));\n\t};\n\t\n\tfunction makeGsubTable(gsub) {\n\t    return new table.Table('GSUB', [\n\t        {name: 'version', type: 'ULONG', value: 0x10000},\n\t        {name: 'scripts', type: 'TABLE', value: new table.ScriptList(gsub.scripts)},\n\t        {name: 'features', type: 'TABLE', value: new table.FeatureList(gsub.features)},\n\t        {name: 'lookups', type: 'TABLE', value: new table.LookupList(gsub.lookups, subtableMakers)}\n\t    ]);\n\t}\n\t\n\tvar gsub = { parse: parseGsubTable, make: makeGsubTable };\n\t\n\t// The `GPOS` table contains kerning pairs, among other things.\n\t// https://www.microsoft.com/typography/OTSPEC/gpos.htm\n\t\n\t// Parse the metadata `meta` table.\n\t// https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6meta.html\n\tfunction parseMetaTable(data, start) {\n\t    var p = new parse.Parser(data, start);\n\t    var tableVersion = p.parseULong();\n\t    check.argument(tableVersion === 1, 'Unsupported META table version.');\n\t    p.parseULong(); // flags - currently unused and set to 0\n\t    p.parseULong(); // tableOffset\n\t    var numDataMaps = p.parseULong();\n\t\n\t    var tags = {};\n\t    for (var i = 0; i < numDataMaps; i++) {\n\t        var tag = p.parseTag();\n\t        var dataOffset = p.parseULong();\n\t        var dataLength = p.parseULong();\n\t        var text = decode.UTF8(data, start + dataOffset, dataLength);\n\t\n\t        tags[tag] = text;\n\t    }\n\t    return tags;\n\t}\n\t\n\tfunction makeMetaTable(tags) {\n\t    var numTags = Object.keys(tags).length;\n\t    var stringPool = '';\n\t    var stringPoolOffset = 16 + numTags * 12;\n\t\n\t    var result = new table.Table('meta', [\n\t        {name: 'version', type: 'ULONG', value: 1},\n\t        {name: 'flags', type: 'ULONG', value: 0},\n\t        {name: 'offset', type: 'ULONG', value: stringPoolOffset},\n\t        {name: 'numTags', type: 'ULONG', value: numTags}\n\t    ]);\n\t\n\t    for (var tag in tags) {\n\t        var pos = stringPool.length;\n\t        stringPool += tags[tag];\n\t\n\t        result.fields.push({name: 'tag ' + tag, type: 'TAG', value: tag});\n\t        result.fields.push({name: 'offset ' + tag, type: 'ULONG', value: stringPoolOffset + pos});\n\t        result.fields.push({name: 'length ' + tag, type: 'ULONG', value: tags[tag].length});\n\t    }\n\t\n\t    result.fields.push({name: 'stringPool', type: 'CHARARRAY', value: stringPool});\n\t\n\t    return result;\n\t}\n\t\n\tvar meta = { parse: parseMetaTable, make: makeMetaTable };\n\t\n\t// The `sfnt` wrapper provides organization for the tables in the font.\n\t// It is the top-level data structure in a font.\n\t// https://www.microsoft.com/typography/OTSPEC/otff.htm\n\t// Recommendations for creating OpenType Fonts:\n\t// http://www.microsoft.com/typography/otspec140/recom.htm\n\t\n\tfunction log2(v) {\n\t    return Math.log(v) / Math.log(2) | 0;\n\t}\n\t\n\tfunction computeCheckSum(bytes) {\n\t    while (bytes.length % 4 !== 0) {\n\t        bytes.push(0);\n\t    }\n\t\n\t    var sum = 0;\n\t    for (var i = 0; i < bytes.length; i += 4) {\n\t        sum += (bytes[i] << 24) +\n\t            (bytes[i + 1] << 16) +\n\t            (bytes[i + 2] << 8) +\n\t            (bytes[i + 3]);\n\t    }\n\t\n\t    sum %= Math.pow(2, 32);\n\t    return sum;\n\t}\n\t\n\tfunction makeTableRecord(tag, checkSum, offset, length) {\n\t    return new table.Record('Table Record', [\n\t        {name: 'tag', type: 'TAG', value: tag !== undefined ? tag : ''},\n\t        {name: 'checkSum', type: 'ULONG', value: checkSum !== undefined ? checkSum : 0},\n\t        {name: 'offset', type: 'ULONG', value: offset !== undefined ? offset : 0},\n\t        {name: 'length', type: 'ULONG', value: length !== undefined ? length : 0}\n\t    ]);\n\t}\n\t\n\tfunction makeSfntTable(tables) {\n\t    var sfnt = new table.Table('sfnt', [\n\t        {name: 'version', type: 'TAG', value: 'OTTO'},\n\t        {name: 'numTables', type: 'USHORT', value: 0},\n\t        {name: 'searchRange', type: 'USHORT', value: 0},\n\t        {name: 'entrySelector', type: 'USHORT', value: 0},\n\t        {name: 'rangeShift', type: 'USHORT', value: 0}\n\t    ]);\n\t    sfnt.tables = tables;\n\t    sfnt.numTables = tables.length;\n\t    var highestPowerOf2 = Math.pow(2, log2(sfnt.numTables));\n\t    sfnt.searchRange = 16 * highestPowerOf2;\n\t    sfnt.entrySelector = log2(highestPowerOf2);\n\t    sfnt.rangeShift = sfnt.numTables * 16 - sfnt.searchRange;\n\t\n\t    var recordFields = [];\n\t    var tableFields = [];\n\t\n\t    var offset = sfnt.sizeOf() + (makeTableRecord().sizeOf() * sfnt.numTables);\n\t    while (offset % 4 !== 0) {\n\t        offset += 1;\n\t        tableFields.push({name: 'padding', type: 'BYTE', value: 0});\n\t    }\n\t\n\t    for (var i = 0; i < tables.length; i += 1) {\n\t        var t = tables[i];\n\t        check.argument(t.tableName.length === 4, 'Table name' + t.tableName + ' is invalid.');\n\t        var tableLength = t.sizeOf();\n\t        var tableRecord = makeTableRecord(t.tableName, computeCheckSum(t.encode()), offset, tableLength);\n\t        recordFields.push({name: tableRecord.tag + ' Table Record', type: 'RECORD', value: tableRecord});\n\t        tableFields.push({name: t.tableName + ' table', type: 'RECORD', value: t});\n\t        offset += tableLength;\n\t        check.argument(!isNaN(offset), 'Something went wrong calculating the offset.');\n\t        while (offset % 4 !== 0) {\n\t            offset += 1;\n\t            tableFields.push({name: 'padding', type: 'BYTE', value: 0});\n\t        }\n\t    }\n\t\n\t    // Table records need to be sorted alphabetically.\n\t    recordFields.sort(function(r1, r2) {\n\t        if (r1.value.tag > r2.value.tag) {\n\t            return 1;\n\t        } else {\n\t            return -1;\n\t        }\n\t    });\n\t\n\t    sfnt.fields = sfnt.fields.concat(recordFields);\n\t    sfnt.fields = sfnt.fields.concat(tableFields);\n\t    return sfnt;\n\t}\n\t\n\t// Get the metrics for a character. If the string has more than one character\n\t// this function returns metrics for the first available character.\n\t// You can provide optional fallback metrics if no characters are available.\n\tfunction metricsForChar(font, chars, notFoundMetrics) {\n\t    for (var i = 0; i < chars.length; i += 1) {\n\t        var glyphIndex = font.charToGlyphIndex(chars[i]);\n\t        if (glyphIndex > 0) {\n\t            var glyph = font.glyphs.get(glyphIndex);\n\t            return glyph.getMetrics();\n\t        }\n\t    }\n\t\n\t    return notFoundMetrics;\n\t}\n\t\n\tfunction average(vs) {\n\t    var sum = 0;\n\t    for (var i = 0; i < vs.length; i += 1) {\n\t        sum += vs[i];\n\t    }\n\t\n\t    return sum / vs.length;\n\t}\n\t\n\t// Convert the font object to a SFNT data structure.\n\t// This structure contains all the necessary tables and metadata to create a binary OTF file.\n\tfunction fontToSfntTable(font) {\n\t    var xMins = [];\n\t    var yMins = [];\n\t    var xMaxs = [];\n\t    var yMaxs = [];\n\t    var advanceWidths = [];\n\t    var leftSideBearings = [];\n\t    var rightSideBearings = [];\n\t    var firstCharIndex;\n\t    var lastCharIndex = 0;\n\t    var ulUnicodeRange1 = 0;\n\t    var ulUnicodeRange2 = 0;\n\t    var ulUnicodeRange3 = 0;\n\t    var ulUnicodeRange4 = 0;\n\t\n\t    for (var i = 0; i < font.glyphs.length; i += 1) {\n\t        var glyph = font.glyphs.get(i);\n\t        var unicode = glyph.unicode | 0;\n\t\n\t        if (isNaN(glyph.advanceWidth)) {\n\t            throw new Error('Glyph ' + glyph.name + ' (' + i + '): advanceWidth is not a number.');\n\t        }\n\t\n\t        if (firstCharIndex > unicode || firstCharIndex === undefined) {\n\t            // ignore .notdef char\n\t            if (unicode > 0) {\n\t                firstCharIndex = unicode;\n\t            }\n\t        }\n\t\n\t        if (lastCharIndex < unicode) {\n\t            lastCharIndex = unicode;\n\t        }\n\t\n\t        var position = os2.getUnicodeRange(unicode);\n\t        if (position < 32) {\n\t            ulUnicodeRange1 |= 1 << position;\n\t        } else if (position < 64) {\n\t            ulUnicodeRange2 |= 1 << position - 32;\n\t        } else if (position < 96) {\n\t            ulUnicodeRange3 |= 1 << position - 64;\n\t        } else if (position < 123) {\n\t            ulUnicodeRange4 |= 1 << position - 96;\n\t        } else {\n\t            throw new Error('Unicode ranges bits > 123 are reserved for internal usage');\n\t        }\n\t        // Skip non-important characters.\n\t        if (glyph.name === '.notdef') { continue; }\n\t        var metrics = glyph.getMetrics();\n\t        xMins.push(metrics.xMin);\n\t        yMins.push(metrics.yMin);\n\t        xMaxs.push(metrics.xMax);\n\t        yMaxs.push(metrics.yMax);\n\t        leftSideBearings.push(metrics.leftSideBearing);\n\t        rightSideBearings.push(metrics.rightSideBearing);\n\t        advanceWidths.push(glyph.advanceWidth);\n\t    }\n\t\n\t    var globals = {\n\t        xMin: Math.min.apply(null, xMins),\n\t        yMin: Math.min.apply(null, yMins),\n\t        xMax: Math.max.apply(null, xMaxs),\n\t        yMax: Math.max.apply(null, yMaxs),\n\t        advanceWidthMax: Math.max.apply(null, advanceWidths),\n\t        advanceWidthAvg: average(advanceWidths),\n\t        minLeftSideBearing: Math.min.apply(null, leftSideBearings),\n\t        maxLeftSideBearing: Math.max.apply(null, leftSideBearings),\n\t        minRightSideBearing: Math.min.apply(null, rightSideBearings)\n\t    };\n\t    globals.ascender = font.ascender;\n\t    globals.descender = font.descender;\n\t\n\t    var headTable = head.make({\n\t        flags: 3, // 00000011 (baseline for font at y=0; left sidebearing point at x=0)\n\t        unitsPerEm: font.unitsPerEm,\n\t        xMin: globals.xMin,\n\t        yMin: globals.yMin,\n\t        xMax: globals.xMax,\n\t        yMax: globals.yMax,\n\t        lowestRecPPEM: 3,\n\t        createdTimestamp: font.createdTimestamp\n\t    });\n\t\n\t    var hheaTable = hhea.make({\n\t        ascender: globals.ascender,\n\t        descender: globals.descender,\n\t        advanceWidthMax: globals.advanceWidthMax,\n\t        minLeftSideBearing: globals.minLeftSideBearing,\n\t        minRightSideBearing: globals.minRightSideBearing,\n\t        xMaxExtent: globals.maxLeftSideBearing + (globals.xMax - globals.xMin),\n\t        numberOfHMetrics: font.glyphs.length\n\t    });\n\t\n\t    var maxpTable = maxp.make(font.glyphs.length);\n\t\n\t    var os2Table = os2.make({\n\t        xAvgCharWidth: Math.round(globals.advanceWidthAvg),\n\t        usWeightClass: font.tables.os2.usWeightClass,\n\t        usWidthClass: font.tables.os2.usWidthClass,\n\t        usFirstCharIndex: firstCharIndex,\n\t        usLastCharIndex: lastCharIndex,\n\t        ulUnicodeRange1: ulUnicodeRange1,\n\t        ulUnicodeRange2: ulUnicodeRange2,\n\t        ulUnicodeRange3: ulUnicodeRange3,\n\t        ulUnicodeRange4: ulUnicodeRange4,\n\t        fsSelection: font.tables.os2.fsSelection, // REGULAR\n\t        // See http://typophile.com/node/13081 for more info on vertical metrics.\n\t        // We get metrics for typical characters (such as \"x\" for xHeight).\n\t        // We provide some fallback characters if characters are unavailable: their\n\t        // ordering was chosen experimentally.\n\t        sTypoAscender: globals.ascender,\n\t        sTypoDescender: globals.descender,\n\t        sTypoLineGap: 0,\n\t        usWinAscent: globals.yMax,\n\t        usWinDescent: Math.abs(globals.yMin),\n\t        ulCodePageRange1: 1, // FIXME: hard-code Latin 1 support for now\n\t        sxHeight: metricsForChar(font, 'xyvw', {yMax: Math.round(globals.ascender / 2)}).yMax,\n\t        sCapHeight: metricsForChar(font, 'HIKLEFJMNTZBDPRAGOQSUVWXY', globals).yMax,\n\t        usDefaultChar: font.hasChar(' ') ? 32 : 0, // Use space as the default character, if available.\n\t        usBreakChar: font.hasChar(' ') ? 32 : 0 // Use space as the break character, if available.\n\t    });\n\t\n\t    var hmtxTable = hmtx.make(font.glyphs);\n\t    var cmapTable = cmap.make(font.glyphs);\n\t\n\t    var englishFamilyName = font.getEnglishName('fontFamily');\n\t    var englishStyleName = font.getEnglishName('fontSubfamily');\n\t    var englishFullName = englishFamilyName + ' ' + englishStyleName;\n\t    var postScriptName = font.getEnglishName('postScriptName');\n\t    if (!postScriptName) {\n\t        postScriptName = englishFamilyName.replace(/\\s/g, '') + '-' + englishStyleName;\n\t    }\n\t\n\t    var names = {};\n\t    for (var n in font.names) {\n\t        names[n] = font.names[n];\n\t    }\n\t\n\t    if (!names.uniqueID) {\n\t        names.uniqueID = {en: font.getEnglishName('manufacturer') + ':' + englishFullName};\n\t    }\n\t\n\t    if (!names.postScriptName) {\n\t        names.postScriptName = {en: postScriptName};\n\t    }\n\t\n\t    if (!names.preferredFamily) {\n\t        names.preferredFamily = font.names.fontFamily;\n\t    }\n\t\n\t    if (!names.preferredSubfamily) {\n\t        names.preferredSubfamily = font.names.fontSubfamily;\n\t    }\n\t\n\t    var languageTags = [];\n\t    var nameTable = _name.make(names, languageTags);\n\t    var ltagTable = (languageTags.length > 0 ? ltag.make(languageTags) : undefined);\n\t\n\t    var postTable = post.make();\n\t    var cffTable = cff.make(font.glyphs, {\n\t        version: font.getEnglishName('version'),\n\t        fullName: englishFullName,\n\t        familyName: englishFamilyName,\n\t        weightName: englishStyleName,\n\t        postScriptName: postScriptName,\n\t        unitsPerEm: font.unitsPerEm,\n\t        fontBBox: [0, globals.yMin, globals.ascender, globals.advanceWidthMax]\n\t    });\n\t\n\t    var metaTable = (font.metas && Object.keys(font.metas).length > 0) ? meta.make(font.metas) : undefined;\n\t\n\t    // The order does not matter because makeSfntTable() will sort them.\n\t    var tables = [headTable, hheaTable, maxpTable, os2Table, nameTable, cmapTable, postTable, cffTable, hmtxTable];\n\t    if (ltagTable) {\n\t        tables.push(ltagTable);\n\t    }\n\t    // Optional tables\n\t    if (font.tables.gsub) {\n\t        tables.push(gsub.make(font.tables.gsub));\n\t    }\n\t    if (metaTable) {\n\t        tables.push(metaTable);\n\t    }\n\t\n\t    var sfntTable = makeSfntTable(tables);\n\t\n\t    // Compute the font's checkSum and store it in head.checkSumAdjustment.\n\t    var bytes = sfntTable.encode();\n\t    var checkSum = computeCheckSum(bytes);\n\t    var tableFields = sfntTable.fields;\n\t    var checkSumAdjusted = false;\n\t    for (var i$1 = 0; i$1 < tableFields.length; i$1 += 1) {\n\t        if (tableFields[i$1].name === 'head table') {\n\t            tableFields[i$1].value.checkSumAdjustment = 0xB1B0AFBA - checkSum;\n\t            checkSumAdjusted = true;\n\t            break;\n\t        }\n\t    }\n\t\n\t    if (!checkSumAdjusted) {\n\t        throw new Error('Could not find head table with checkSum to adjust.');\n\t    }\n\t\n\t    return sfntTable;\n\t}\n\t\n\tvar sfnt = { make: makeSfntTable, fontToTable: fontToSfntTable, computeCheckSum: computeCheckSum };\n\t\n\t// The Layout object is the prototype of Substitution objects, and provides\n\t// utility methods to manipulate common layout tables (GPOS, GSUB, GDEF...)\n\t\n\tfunction searchTag(arr, tag) {\n\t    /* jshint bitwise: false */\n\t    var imin = 0;\n\t    var imax = arr.length - 1;\n\t    while (imin <= imax) {\n\t        var imid = (imin + imax) >>> 1;\n\t        var val = arr[imid].tag;\n\t        if (val === tag) {\n\t            return imid;\n\t        } else if (val < tag) {\n\t            imin = imid + 1;\n\t        } else { imax = imid - 1; }\n\t    }\n\t    // Not found: return -1-insertion point\n\t    return -imin - 1;\n\t}\n\t\n\tfunction binSearch(arr, value) {\n\t    /* jshint bitwise: false */\n\t    var imin = 0;\n\t    var imax = arr.length - 1;\n\t    while (imin <= imax) {\n\t        var imid = (imin + imax) >>> 1;\n\t        var val = arr[imid];\n\t        if (val === value) {\n\t            return imid;\n\t        } else if (val < value) {\n\t            imin = imid + 1;\n\t        } else { imax = imid - 1; }\n\t    }\n\t    // Not found: return -1-insertion point\n\t    return -imin - 1;\n\t}\n\t\n\t/**\n\t * @exports opentype.Layout\n\t * @class\n\t */\n\tfunction Layout(font, tableName) {\n\t    this.font = font;\n\t    this.tableName = tableName;\n\t}\n\t\n\tLayout.prototype = {\n\t\n\t    /**\n\t     * Binary search an object by \"tag\" property\n\t     * @instance\n\t     * @function searchTag\n\t     * @memberof opentype.Layout\n\t     * @param  {Array} arr\n\t     * @param  {string} tag\n\t     * @return {number}\n\t     */\n\t    searchTag: searchTag,\n\t\n\t    /**\n\t     * Binary search in a list of numbers\n\t     * @instance\n\t     * @function binSearch\n\t     * @memberof opentype.Layout\n\t     * @param  {Array} arr\n\t     * @param  {number} value\n\t     * @return {number}\n\t     */\n\t    binSearch: binSearch,\n\t\n\t    /**\n\t     * Get or create the Layout table (GSUB, GPOS etc).\n\t     * @param  {boolean} create - Whether to create a new one.\n\t     * @return {Object} The GSUB or GPOS table.\n\t     */\n\t    getTable: function(create) {\n\t        var layout = this.font.tables[this.tableName];\n\t        if (!layout && create) {\n\t            layout = this.font.tables[this.tableName] = this.createDefaultTable();\n\t        }\n\t        return layout;\n\t    },\n\t\n\t    /**\n\t     * Returns all scripts in the substitution table.\n\t     * @instance\n\t     * @return {Array}\n\t     */\n\t    getScriptNames: function() {\n\t        var layout = this.getTable();\n\t        if (!layout) { return []; }\n\t        return layout.scripts.map(function(script) {\n\t            return script.tag;\n\t        });\n\t    },\n\t\n\t    /**\n\t     * Returns the best bet for a script name.\n\t     * Returns 'DFLT' if it exists.\n\t     * If not, returns 'latn' if it exists.\n\t     * If neither exist, returns undefined.\n\t     */\n\t    getDefaultScriptName: function() {\n\t        var layout = this.getTable();\n\t        if (!layout) { return; }\n\t        var hasLatn = false;\n\t        for (var i = 0; i < layout.scripts.length; i++) {\n\t            var name = layout.scripts[i].tag;\n\t            if (name === 'DFLT') { return name; }\n\t            if (name === 'latn') { hasLatn = true; }\n\t        }\n\t        if (hasLatn) { return 'latn'; }\n\t    },\n\t\n\t    /**\n\t     * Returns all LangSysRecords in the given script.\n\t     * @instance\n\t     * @param {string} [script='DFLT']\n\t     * @param {boolean} create - forces the creation of this script table if it doesn't exist.\n\t     * @return {Object} An object with tag and script properties.\n\t     */\n\t    getScriptTable: function(script, create) {\n\t        var layout = this.getTable(create);\n\t        if (layout) {\n\t            script = script || 'DFLT';\n\t            var scripts = layout.scripts;\n\t            var pos = searchTag(layout.scripts, script);\n\t            if (pos >= 0) {\n\t                return scripts[pos].script;\n\t            } else if (create) {\n\t                var scr = {\n\t                    tag: script,\n\t                    script: {\n\t                        defaultLangSys: {reserved: 0, reqFeatureIndex: 0xffff, featureIndexes: []},\n\t                        langSysRecords: []\n\t                    }\n\t                };\n\t                scripts.splice(-1 - pos, 0, scr);\n\t                return scr.script;\n\t            }\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Returns a language system table\n\t     * @instance\n\t     * @param {string} [script='DFLT']\n\t     * @param {string} [language='dlft']\n\t     * @param {boolean} create - forces the creation of this langSysTable if it doesn't exist.\n\t     * @return {Object}\n\t     */\n\t    getLangSysTable: function(script, language, create) {\n\t        var scriptTable = this.getScriptTable(script, create);\n\t        if (scriptTable) {\n\t            if (!language || language === 'dflt' || language === 'DFLT') {\n\t                return scriptTable.defaultLangSys;\n\t            }\n\t            var pos = searchTag(scriptTable.langSysRecords, language);\n\t            if (pos >= 0) {\n\t                return scriptTable.langSysRecords[pos].langSys;\n\t            } else if (create) {\n\t                var langSysRecord = {\n\t                    tag: language,\n\t                    langSys: {reserved: 0, reqFeatureIndex: 0xffff, featureIndexes: []}\n\t                };\n\t                scriptTable.langSysRecords.splice(-1 - pos, 0, langSysRecord);\n\t                return langSysRecord.langSys;\n\t            }\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Get a specific feature table.\n\t     * @instance\n\t     * @param {string} [script='DFLT']\n\t     * @param {string} [language='dlft']\n\t     * @param {string} feature - One of the codes listed at https://www.microsoft.com/typography/OTSPEC/featurelist.htm\n\t     * @param {boolean} create - forces the creation of the feature table if it doesn't exist.\n\t     * @return {Object}\n\t     */\n\t    getFeatureTable: function(script, language, feature, create) {\n\t        var langSysTable = this.getLangSysTable(script, language, create);\n\t        if (langSysTable) {\n\t            var featureRecord;\n\t            var featIndexes = langSysTable.featureIndexes;\n\t            var allFeatures = this.font.tables[this.tableName].features;\n\t            // The FeatureIndex array of indices is in arbitrary order,\n\t            // even if allFeatures is sorted alphabetically by feature tag.\n\t            for (var i = 0; i < featIndexes.length; i++) {\n\t                featureRecord = allFeatures[featIndexes[i]];\n\t                if (featureRecord.tag === feature) {\n\t                    return featureRecord.feature;\n\t                }\n\t            }\n\t            if (create) {\n\t                var index = allFeatures.length;\n\t                // Automatic ordering of features would require to shift feature indexes in the script list.\n\t                check.assert(index === 0 || feature >= allFeatures[index - 1].tag, 'Features must be added in alphabetical order.');\n\t                featureRecord = {\n\t                    tag: feature,\n\t                    feature: { params: 0, lookupListIndexes: [] }\n\t                };\n\t                allFeatures.push(featureRecord);\n\t                featIndexes.push(index);\n\t                return featureRecord.feature;\n\t            }\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Get the lookup tables of a given type for a script/language/feature.\n\t     * @instance\n\t     * @param {string} [script='DFLT']\n\t     * @param {string} [language='dlft']\n\t     * @param {string} feature - 4-letter feature code\n\t     * @param {number} lookupType - 1 to 8\n\t     * @param {boolean} create - forces the creation of the lookup table if it doesn't exist, with no subtables.\n\t     * @return {Object[]}\n\t     */\n\t    getLookupTables: function(script, language, feature, lookupType, create) {\n\t        var featureTable = this.getFeatureTable(script, language, feature, create);\n\t        var tables = [];\n\t        if (featureTable) {\n\t            var lookupTable;\n\t            var lookupListIndexes = featureTable.lookupListIndexes;\n\t            var allLookups = this.font.tables[this.tableName].lookups;\n\t            // lookupListIndexes are in no particular order, so use naive search.\n\t            for (var i = 0; i < lookupListIndexes.length; i++) {\n\t                lookupTable = allLookups[lookupListIndexes[i]];\n\t                if (lookupTable.lookupType === lookupType) {\n\t                    tables.push(lookupTable);\n\t                }\n\t            }\n\t            if (tables.length === 0 && create) {\n\t                lookupTable = {\n\t                    lookupType: lookupType,\n\t                    lookupFlag: 0,\n\t                    subtables: [],\n\t                    markFilteringSet: undefined\n\t                };\n\t                var index = allLookups.length;\n\t                allLookups.push(lookupTable);\n\t                lookupListIndexes.push(index);\n\t                return [lookupTable];\n\t            }\n\t        }\n\t        return tables;\n\t    },\n\t\n\t    /**\n\t     * Returns the list of glyph indexes of a coverage table.\n\t     * Format 1: the list is stored raw\n\t     * Format 2: compact list as range records.\n\t     * @instance\n\t     * @param  {Object} coverageTable\n\t     * @return {Array}\n\t     */\n\t    expandCoverage: function(coverageTable) {\n\t        if (coverageTable.format === 1) {\n\t            return coverageTable.glyphs;\n\t        } else {\n\t            var glyphs = [];\n\t            var ranges = coverageTable.ranges;\n\t            for (var i = 0; i < ranges.length; i++) {\n\t                var range = ranges[i];\n\t                var start = range.start;\n\t                var end = range.end;\n\t                for (var j = start; j <= end; j++) {\n\t                    glyphs.push(j);\n\t                }\n\t            }\n\t            return glyphs;\n\t        }\n\t    }\n\t\n\t};\n\t\n\t// The Substitution object provides utility methods to manipulate\n\t// the GSUB substitution table.\n\t\n\t/**\n\t * @exports opentype.Substitution\n\t * @class\n\t * @extends opentype.Layout\n\t * @param {opentype.Font}\n\t * @constructor\n\t */\n\tfunction Substitution(font) {\n\t    Layout.call(this, font, 'gsub');\n\t}\n\t\n\t// Check if 2 arrays of primitives are equal.\n\tfunction arraysEqual(ar1, ar2) {\n\t    var n = ar1.length;\n\t    if (n !== ar2.length) { return false; }\n\t    for (var i = 0; i < n; i++) {\n\t        if (ar1[i] !== ar2[i]) { return false; }\n\t    }\n\t    return true;\n\t}\n\t\n\t// Find the first subtable of a lookup table in a particular format.\n\tfunction getSubstFormat(lookupTable, format, defaultSubtable) {\n\t    var subtables = lookupTable.subtables;\n\t    for (var i = 0; i < subtables.length; i++) {\n\t        var subtable = subtables[i];\n\t        if (subtable.substFormat === format) {\n\t            return subtable;\n\t        }\n\t    }\n\t    if (defaultSubtable) {\n\t        subtables.push(defaultSubtable);\n\t        return defaultSubtable;\n\t    }\n\t    return undefined;\n\t}\n\t\n\tSubstitution.prototype = Layout.prototype;\n\t\n\t/**\n\t * Create a default GSUB table.\n\t * @return {Object} gsub - The GSUB table.\n\t */\n\tSubstitution.prototype.createDefaultTable = function() {\n\t    // Generate a default empty GSUB table with just a DFLT script and dflt lang sys.\n\t    return {\n\t        version: 1,\n\t        scripts: [{\n\t            tag: 'DFLT',\n\t            script: {\n\t                defaultLangSys: { reserved: 0, reqFeatureIndex: 0xffff, featureIndexes: [] },\n\t                langSysRecords: []\n\t            }\n\t        }],\n\t        features: [],\n\t        lookups: []\n\t    };\n\t};\n\t\n\t/**\n\t * List all single substitutions (lookup type 1) for a given script, language, and feature.\n\t * @param {string} [script='DFLT']\n\t * @param {string} [language='dflt']\n\t * @param {string} feature - 4-character feature name ('aalt', 'salt', 'ss01'...)\n\t * @return {Array} substitutions - The list of substitutions.\n\t */\n\tSubstitution.prototype.getSingle = function(feature, script, language) {\n\t    var this$1 = this;\n\t\n\t    var substitutions = [];\n\t    var lookupTables = this.getLookupTables(script, language, feature, 1);\n\t    for (var idx = 0; idx < lookupTables.length; idx++) {\n\t        var subtables = lookupTables[idx].subtables;\n\t        for (var i = 0; i < subtables.length; i++) {\n\t            var subtable = subtables[i];\n\t            var glyphs = this$1.expandCoverage(subtable.coverage);\n\t            var j = (void 0);\n\t            if (subtable.substFormat === 1) {\n\t                var delta = subtable.deltaGlyphId;\n\t                for (j = 0; j < glyphs.length; j++) {\n\t                    var glyph = glyphs[j];\n\t                    substitutions.push({ sub: glyph, by: glyph + delta });\n\t                }\n\t            } else {\n\t                var substitute = subtable.substitute;\n\t                for (j = 0; j < glyphs.length; j++) {\n\t                    substitutions.push({ sub: glyphs[j], by: substitute[j] });\n\t                }\n\t            }\n\t        }\n\t    }\n\t    return substitutions;\n\t};\n\t\n\t/**\n\t * List all alternates (lookup type 3) for a given script, language, and feature.\n\t * @param {string} [script='DFLT']\n\t * @param {string} [language='dflt']\n\t * @param {string} feature - 4-character feature name ('aalt', 'salt'...)\n\t * @return {Array} alternates - The list of alternates\n\t */\n\tSubstitution.prototype.getAlternates = function(feature, script, language) {\n\t    var this$1 = this;\n\t\n\t    var alternates = [];\n\t    var lookupTables = this.getLookupTables(script, language, feature, 3);\n\t    for (var idx = 0; idx < lookupTables.length; idx++) {\n\t        var subtables = lookupTables[idx].subtables;\n\t        for (var i = 0; i < subtables.length; i++) {\n\t            var subtable = subtables[i];\n\t            var glyphs = this$1.expandCoverage(subtable.coverage);\n\t            var alternateSets = subtable.alternateSets;\n\t            for (var j = 0; j < glyphs.length; j++) {\n\t                alternates.push({ sub: glyphs[j], by: alternateSets[j] });\n\t            }\n\t        }\n\t    }\n\t    return alternates;\n\t};\n\t\n\t/**\n\t * List all ligatures (lookup type 4) for a given script, language, and feature.\n\t * The result is an array of ligature objects like { sub: [ids], by: id }\n\t * @param {string} feature - 4-letter feature name ('liga', 'rlig', 'dlig'...)\n\t * @param {string} [script='DFLT']\n\t * @param {string} [language='dflt']\n\t * @return {Array} ligatures - The list of ligatures.\n\t */\n\tSubstitution.prototype.getLigatures = function(feature, script, language) {\n\t    var this$1 = this;\n\t\n\t    var ligatures = [];\n\t    var lookupTables = this.getLookupTables(script, language, feature, 4);\n\t    for (var idx = 0; idx < lookupTables.length; idx++) {\n\t        var subtables = lookupTables[idx].subtables;\n\t        for (var i = 0; i < subtables.length; i++) {\n\t            var subtable = subtables[i];\n\t            var glyphs = this$1.expandCoverage(subtable.coverage);\n\t            var ligatureSets = subtable.ligatureSets;\n\t            for (var j = 0; j < glyphs.length; j++) {\n\t                var startGlyph = glyphs[j];\n\t                var ligSet = ligatureSets[j];\n\t                for (var k = 0; k < ligSet.length; k++) {\n\t                    var lig = ligSet[k];\n\t                    ligatures.push({\n\t                        sub: [startGlyph].concat(lig.components),\n\t                        by: lig.ligGlyph\n\t                    });\n\t                }\n\t            }\n\t        }\n\t    }\n\t    return ligatures;\n\t};\n\t\n\t/**\n\t * Add or modify a single substitution (lookup type 1)\n\t * Format 2, more flexible, is always used.\n\t * @param {string} feature - 4-letter feature name ('liga', 'rlig', 'dlig'...)\n\t * @param {Object} substitution - { sub: id, delta: number } for format 1 or { sub: id, by: id } for format 2.\n\t * @param {string} [script='DFLT']\n\t * @param {string} [language='dflt']\n\t */\n\tSubstitution.prototype.addSingle = function(feature, substitution, script, language) {\n\t    var lookupTable = this.getLookupTables(script, language, feature, 1, true)[0];\n\t    var subtable = getSubstFormat(lookupTable, 2, {                // lookup type 1 subtable, format 2, coverage format 1\n\t        substFormat: 2,\n\t        coverage: {format: 1, glyphs: []},\n\t        substitute: []\n\t    });\n\t    check.assert(subtable.coverage.format === 1, 'Ligature: unable to modify coverage table format ' + subtable.coverage.format);\n\t    var coverageGlyph = substitution.sub;\n\t    var pos = this.binSearch(subtable.coverage.glyphs, coverageGlyph);\n\t    if (pos < 0) {\n\t        pos = -1 - pos;\n\t        subtable.coverage.glyphs.splice(pos, 0, coverageGlyph);\n\t        subtable.substitute.splice(pos, 0, 0);\n\t    }\n\t    subtable.substitute[pos] = substitution.by;\n\t};\n\t\n\t/**\n\t * Add or modify an alternate substitution (lookup type 1)\n\t * @param {string} feature - 4-letter feature name ('liga', 'rlig', 'dlig'...)\n\t * @param {Object} substitution - { sub: id, by: [ids] }\n\t * @param {string} [script='DFLT']\n\t * @param {string} [language='dflt']\n\t */\n\tSubstitution.prototype.addAlternate = function(feature, substitution, script, language) {\n\t    var lookupTable = this.getLookupTables(script, language, feature, 3, true)[0];\n\t    var subtable = getSubstFormat(lookupTable, 1, {                // lookup type 3 subtable, format 1, coverage format 1\n\t        substFormat: 1,\n\t        coverage: {format: 1, glyphs: []},\n\t        alternateSets: []\n\t    });\n\t    check.assert(subtable.coverage.format === 1, 'Ligature: unable to modify coverage table format ' + subtable.coverage.format);\n\t    var coverageGlyph = substitution.sub;\n\t    var pos = this.binSearch(subtable.coverage.glyphs, coverageGlyph);\n\t    if (pos < 0) {\n\t        pos = -1 - pos;\n\t        subtable.coverage.glyphs.splice(pos, 0, coverageGlyph);\n\t        subtable.alternateSets.splice(pos, 0, 0);\n\t    }\n\t    subtable.alternateSets[pos] = substitution.by;\n\t};\n\t\n\t/**\n\t * Add a ligature (lookup type 4)\n\t * Ligatures with more components must be stored ahead of those with fewer components in order to be found\n\t * @param {string} feature - 4-letter feature name ('liga', 'rlig', 'dlig'...)\n\t * @param {Object} ligature - { sub: [ids], by: id }\n\t * @param {string} [script='DFLT']\n\t * @param {string} [language='dflt']\n\t */\n\tSubstitution.prototype.addLigature = function(feature, ligature, script, language) {\n\t    var lookupTable = this.getLookupTables(script, language, feature, 4, true)[0];\n\t    var subtable = lookupTable.subtables[0];\n\t    if (!subtable) {\n\t        subtable = {                // lookup type 4 subtable, format 1, coverage format 1\n\t            substFormat: 1,\n\t            coverage: { format: 1, glyphs: [] },\n\t            ligatureSets: []\n\t        };\n\t        lookupTable.subtables[0] = subtable;\n\t    }\n\t    check.assert(subtable.coverage.format === 1, 'Ligature: unable to modify coverage table format ' + subtable.coverage.format);\n\t    var coverageGlyph = ligature.sub[0];\n\t    var ligComponents = ligature.sub.slice(1);\n\t    var ligatureTable = {\n\t        ligGlyph: ligature.by,\n\t        components: ligComponents\n\t    };\n\t    var pos = this.binSearch(subtable.coverage.glyphs, coverageGlyph);\n\t    if (pos >= 0) {\n\t        // ligatureSet already exists\n\t        var ligatureSet = subtable.ligatureSets[pos];\n\t        for (var i = 0; i < ligatureSet.length; i++) {\n\t            // If ligature already exists, return.\n\t            if (arraysEqual(ligatureSet[i].components, ligComponents)) {\n\t                return;\n\t            }\n\t        }\n\t        // ligature does not exist: add it.\n\t        ligatureSet.push(ligatureTable);\n\t    } else {\n\t        // Create a new ligatureSet and add coverage for the first glyph.\n\t        pos = -1 - pos;\n\t        subtable.coverage.glyphs.splice(pos, 0, coverageGlyph);\n\t        subtable.ligatureSets.splice(pos, 0, [ligatureTable]);\n\t    }\n\t};\n\t\n\t/**\n\t * List all feature data for a given script and language.\n\t * @param {string} feature - 4-letter feature name\n\t * @param {string} [script='DFLT']\n\t * @param {string} [language='dflt']\n\t * @return {Array} substitutions - The list of substitutions.\n\t */\n\tSubstitution.prototype.getFeature = function(feature, script, language) {\n\t    if (/ss\\d\\d/.test(feature)) {               // ss01 - ss20\n\t        return this.getSingle(feature, script, language);\n\t    }\n\t    switch (feature) {\n\t        case 'aalt':\n\t        case 'salt':\n\t            return this.getSingle(feature, script, language)\n\t                    .concat(this.getAlternates(feature, script, language));\n\t        case 'dlig':\n\t        case 'liga':\n\t        case 'rlig': return this.getLigatures(feature, script, language);\n\t    }\n\t    return undefined;\n\t};\n\t\n\t/**\n\t * Add a substitution to a feature for a given script and language.\n\t * @param {string} feature - 4-letter feature name\n\t * @param {Object} sub - the substitution to add (an object like { sub: id or [ids], by: id or [ids] })\n\t * @param {string} [script='DFLT']\n\t * @param {string} [language='dflt']\n\t */\n\tSubstitution.prototype.add = function(feature, sub, script, language) {\n\t    if (/ss\\d\\d/.test(feature)) {               // ss01 - ss20\n\t        return this.addSingle(feature, sub, script, language);\n\t    }\n\t    switch (feature) {\n\t        case 'aalt':\n\t        case 'salt':\n\t            if (typeof sub.by === 'number') {\n\t                return this.addSingle(feature, sub, script, language);\n\t            }\n\t            return this.addAlternate(feature, sub, script, language);\n\t        case 'dlig':\n\t        case 'liga':\n\t        case 'rlig':\n\t            return this.addLigature(feature, sub, script, language);\n\t    }\n\t    return undefined;\n\t};\n\t\n\tfunction isBrowser() {\n\t    return typeof window !== 'undefined';\n\t}\n\t\n\tfunction nodeBufferToArrayBuffer(buffer) {\n\t    var ab = new ArrayBuffer(buffer.length);\n\t    var view = new Uint8Array(ab);\n\t    for (var i = 0; i < buffer.length; ++i) {\n\t        view[i] = buffer[i];\n\t    }\n\t\n\t    return ab;\n\t}\n\t\n\tfunction arrayBufferToNodeBuffer(ab) {\n\t    var buffer = new Buffer(ab.byteLength);\n\t    var view = new Uint8Array(ab);\n\t    for (var i = 0; i < buffer.length; ++i) {\n\t        buffer[i] = view[i];\n\t    }\n\t\n\t    return buffer;\n\t}\n\t\n\tfunction checkArgument(expression, message) {\n\t    if (!expression) {\n\t        throw message;\n\t    }\n\t}\n\t\n\t/* A TrueType font hinting interpreter.\n\t*\n\t* (c) 2017 Axel Kittenberger\n\t*\n\t* This interpreter has been implemented according to this documentation:\n\t* https://developer.apple.com/fonts/TrueType-Reference-Manual/RM05/Chap5.html\n\t*\n\t* According to the documentation F24DOT6 values are used for pixels.\n\t* That means calculation is 1/64 pixel accurate and uses integer operations.\n\t* However, Javascript has floating point operations by default and only\n\t* those are available. One could make a case to simulate the 1/64 accuracy\n\t* exactly by truncating after every division operation\n\t* (for example with << 0) to get pixel exactly results as other TrueType\n\t* implementations. It may make sense since some fonts are pixel optimized\n\t* by hand using DELTAP instructions. The current implementation doesn't\n\t* and rather uses full floating point precision.\n\t*\n\t* xScale, yScale and rotation is currently ignored.\n\t*\n\t* A few non-trivial instructions are missing as I didn't encounter yet\n\t* a font that used them to test a possible implementation.\n\t*\n\t* Some fonts seem to use undocumented features regarding the twilight zone.\n\t* Only some of them are implemented as they were encountered.\n\t*\n\t* The exports.DEBUG statements are removed on the minified distribution file.\n\t*/\n\tvar instructionTable;\n\tvar exec;\n\tvar execGlyph;\n\tvar execComponent;\n\t\n\t/*\n\t* Creates a hinting object.\n\t*\n\t* There ought to be exactly one\n\t* for each truetype font that is used for hinting.\n\t*/\n\tfunction Hinting(font) {\n\t    // the font this hinting object is for\n\t    this.font = font;\n\t\n\t    // cached states\n\t    this._fpgmState  =\n\t    this._prepState  =\n\t        undefined;\n\t\n\t    // errorState\n\t    // 0 ... all okay\n\t    // 1 ... had an error in a glyf,\n\t    //       continue working but stop spamming\n\t    //       the console\n\t    // 2 ... error at prep, stop hinting at this ppem\n\t    // 3 ... error at fpeg, stop hinting for this font at all\n\t    this._errorState = 0;\n\t}\n\t\n\t/*\n\t* Not rounding.\n\t*/\n\tfunction roundOff(v) {\n\t    return v;\n\t}\n\t\n\t/*\n\t* Rounding to grid.\n\t*/\n\tfunction roundToGrid(v) {\n\t    //Rounding in TT is supposed to \"symmetrical around zero\"\n\t    return Math.sign(v) * Math.round(Math.abs(v));\n\t}\n\t\n\t/*\n\t* Rounding to double grid.\n\t*/\n\tfunction roundToDoubleGrid(v) {\n\t    return Math.sign(v) * Math.round(Math.abs(v * 2)) / 2;\n\t}\n\t\n\t/*\n\t* Rounding to half grid.\n\t*/\n\tfunction roundToHalfGrid(v) {\n\t    return Math.sign(v) * (Math.round(Math.abs(v) + 0.5) - 0.5);\n\t}\n\t\n\t/*\n\t* Rounding to up to grid.\n\t*/\n\tfunction roundUpToGrid(v) {\n\t    return Math.sign(v) * Math.ceil(Math.abs(v));\n\t}\n\t\n\t/*\n\t* Rounding to down to grid.\n\t*/\n\tfunction roundDownToGrid(v) {\n\t    return Math.sign(v) * Math.floor(Math.abs(v));\n\t}\n\t\n\t/*\n\t* Super rounding.\n\t*/\n\tvar roundSuper = function (v) {\n\t    var period = this.srPeriod;\n\t    var phase = this.srPhase;\n\t    var threshold = this.srThreshold;\n\t    var sign = 1;\n\t\n\t    if (v < 0) {\n\t        v = -v;\n\t        sign = -1;\n\t    }\n\t\n\t    v += threshold - phase;\n\t\n\t    v = Math.trunc(v / period) * period;\n\t\n\t    v += phase;\n\t\n\t    // according to http://xgridfit.sourceforge.net/round.html\n\t    if (sign > 0 && v < 0) { return phase; }\n\t    if (sign < 0 && v > 0) { return -phase; }\n\t\n\t    return v * sign;\n\t};\n\t\n\t/*\n\t* Unit vector of x-axis.\n\t*/\n\tvar xUnitVector = {\n\t    x: 1,\n\t\n\t    y: 0,\n\t\n\t    axis: 'x',\n\t\n\t    // Gets the projected distance between two points.\n\t    // o1/o2 ... if true, respective original position is used.\n\t    distance: function (p1, p2, o1, o2) {\n\t        return (o1 ? p1.xo : p1.x) - (o2 ? p2.xo : p2.x);\n\t    },\n\t\n\t    // Moves point p so the moved position has the same relative\n\t    // position to the moved positions of rp1 and rp2 than the\n\t    // original positions had.\n\t    //\n\t    // See APPENDIX on INTERPOLATE at the bottom of this file.\n\t    interpolate: function (p, rp1, rp2, pv) {\n\t        var do1;\n\t        var do2;\n\t        var doa1;\n\t        var doa2;\n\t        var dm1;\n\t        var dm2;\n\t        var dt;\n\t\n\t        if (!pv || pv === this) {\n\t            do1 = p.xo - rp1.xo;\n\t            do2 = p.xo - rp2.xo;\n\t            dm1 = rp1.x - rp1.xo;\n\t            dm2 = rp2.x - rp2.xo;\n\t            doa1 = Math.abs(do1);\n\t            doa2 = Math.abs(do2);\n\t            dt = doa1 + doa2;\n\t\n\t            if (dt === 0) {\n\t                p.x = p.xo + (dm1 + dm2) / 2;\n\t                return;\n\t            }\n\t\n\t            p.x = p.xo + (dm1 * doa2 + dm2 * doa1) / dt;\n\t            return;\n\t        }\n\t\n\t        do1 = pv.distance(p, rp1, true, true);\n\t        do2 = pv.distance(p, rp2, true, true);\n\t        dm1 = pv.distance(rp1, rp1, false, true);\n\t        dm2 = pv.distance(rp2, rp2, false, true);\n\t        doa1 = Math.abs(do1);\n\t        doa2 = Math.abs(do2);\n\t        dt = doa1 + doa2;\n\t\n\t        if (dt === 0) {\n\t            xUnitVector.setRelative(p, p, (dm1 + dm2) / 2, pv, true);\n\t            return;\n\t        }\n\t\n\t        xUnitVector.setRelative(p, p, (dm1 * doa2 + dm2 * doa1) / dt, pv, true);\n\t    },\n\t\n\t    // Slope of line normal to this\n\t    normalSlope: Number.NEGATIVE_INFINITY,\n\t\n\t    // Sets the point 'p' relative to point 'rp'\n\t    // by the distance 'd'.\n\t    //\n\t    // See APPENDIX on SETRELATIVE at the bottom of this file.\n\t    //\n\t    // p   ... point to set\n\t    // rp  ... reference point\n\t    // d   ... distance on projection vector\n\t    // pv  ... projection vector (undefined = this)\n\t    // org ... if true, uses the original position of rp as reference.\n\t    setRelative: function (p, rp, d, pv, org) {\n\t        if (!pv || pv === this) {\n\t            p.x = (org ? rp.xo : rp.x) + d;\n\t            return;\n\t        }\n\t\n\t        var rpx = org ? rp.xo : rp.x;\n\t        var rpy = org ? rp.yo : rp.y;\n\t        var rpdx = rpx + d * pv.x;\n\t        var rpdy = rpy + d * pv.y;\n\t\n\t        p.x = rpdx + (p.y - rpdy) / pv.normalSlope;\n\t    },\n\t\n\t    // Slope of vector line.\n\t    slope: 0,\n\t\n\t    // Touches the point p.\n\t    touch: function (p) {\n\t        p.xTouched = true;\n\t    },\n\t\n\t    // Tests if a point p is touched.\n\t    touched: function (p) {\n\t        return p.xTouched;\n\t    },\n\t\n\t    // Untouches the point p.\n\t    untouch: function (p) {\n\t        p.xTouched = false;\n\t    }\n\t};\n\t\n\t/*\n\t* Unit vector of y-axis.\n\t*/\n\tvar yUnitVector = {\n\t    x: 0,\n\t\n\t    y: 1,\n\t\n\t    axis: 'y',\n\t\n\t    // Gets the projected distance between two points.\n\t    // o1/o2 ... if true, respective original position is used.\n\t    distance: function (p1, p2, o1, o2) {\n\t        return (o1 ? p1.yo : p1.y) - (o2 ? p2.yo : p2.y);\n\t    },\n\t\n\t    // Moves point p so the moved position has the same relative\n\t    // position to the moved positions of rp1 and rp2 than the\n\t    // original positions had.\n\t    //\n\t    // See APPENDIX on INTERPOLATE at the bottom of this file.\n\t    interpolate: function (p, rp1, rp2, pv) {\n\t        var do1;\n\t        var do2;\n\t        var doa1;\n\t        var doa2;\n\t        var dm1;\n\t        var dm2;\n\t        var dt;\n\t\n\t        if (!pv || pv === this) {\n\t            do1 = p.yo - rp1.yo;\n\t            do2 = p.yo - rp2.yo;\n\t            dm1 = rp1.y - rp1.yo;\n\t            dm2 = rp2.y - rp2.yo;\n\t            doa1 = Math.abs(do1);\n\t            doa2 = Math.abs(do2);\n\t            dt = doa1 + doa2;\n\t\n\t            if (dt === 0) {\n\t                p.y = p.yo + (dm1 + dm2) / 2;\n\t                return;\n\t            }\n\t\n\t            p.y = p.yo + (dm1 * doa2 + dm2 * doa1) / dt;\n\t            return;\n\t        }\n\t\n\t        do1 = pv.distance(p, rp1, true, true);\n\t        do2 = pv.distance(p, rp2, true, true);\n\t        dm1 = pv.distance(rp1, rp1, false, true);\n\t        dm2 = pv.distance(rp2, rp2, false, true);\n\t        doa1 = Math.abs(do1);\n\t        doa2 = Math.abs(do2);\n\t        dt = doa1 + doa2;\n\t\n\t        if (dt === 0) {\n\t            yUnitVector.setRelative(p, p, (dm1 + dm2) / 2, pv, true);\n\t            return;\n\t        }\n\t\n\t        yUnitVector.setRelative(p, p, (dm1 * doa2 + dm2 * doa1) / dt, pv, true);\n\t    },\n\t\n\t    // Slope of line normal to this.\n\t    normalSlope: 0,\n\t\n\t    // Sets the point 'p' relative to point 'rp'\n\t    // by the distance 'd'\n\t    //\n\t    // See APPENDIX on SETRELATIVE at the bottom of this file.\n\t    //\n\t    // p   ... point to set\n\t    // rp  ... reference point\n\t    // d   ... distance on projection vector\n\t    // pv  ... projection vector (undefined = this)\n\t    // org ... if true, uses the original position of rp as reference.\n\t    setRelative: function (p, rp, d, pv, org) {\n\t        if (!pv || pv === this) {\n\t            p.y = (org ? rp.yo : rp.y) + d;\n\t            return;\n\t        }\n\t\n\t        var rpx = org ? rp.xo : rp.x;\n\t        var rpy = org ? rp.yo : rp.y;\n\t        var rpdx = rpx + d * pv.x;\n\t        var rpdy = rpy + d * pv.y;\n\t\n\t        p.y = rpdy + pv.normalSlope * (p.x - rpdx);\n\t    },\n\t\n\t    // Slope of vector line.\n\t    slope: Number.POSITIVE_INFINITY,\n\t\n\t    // Touches the point p.\n\t    touch: function (p) {\n\t        p.yTouched = true;\n\t    },\n\t\n\t    // Tests if a point p is touched.\n\t    touched: function (p) {\n\t        return p.yTouched;\n\t    },\n\t\n\t    // Untouches the point p.\n\t    untouch: function (p) {\n\t        p.yTouched = false;\n\t    }\n\t};\n\t\n\tObject.freeze(xUnitVector);\n\tObject.freeze(yUnitVector);\n\t\n\t/*\n\t* Creates a unit vector that is not x- or y-axis.\n\t*/\n\tfunction UnitVector(x, y) {\n\t    this.x = x;\n\t    this.y = y;\n\t    this.axis = undefined;\n\t    this.slope = y / x;\n\t    this.normalSlope = -x / y;\n\t    Object.freeze(this);\n\t}\n\t\n\t/*\n\t* Gets the projected distance between two points.\n\t* o1/o2 ... if true, respective original position is used.\n\t*/\n\tUnitVector.prototype.distance = function(p1, p2, o1, o2) {\n\t    return (\n\t        this.x * xUnitVector.distance(p1, p2, o1, o2) +\n\t        this.y * yUnitVector.distance(p1, p2, o1, o2)\n\t    );\n\t};\n\t\n\t/*\n\t* Moves point p so the moved position has the same relative\n\t* position to the moved positions of rp1 and rp2 than the\n\t* original positions had.\n\t*\n\t* See APPENDIX on INTERPOLATE at the bottom of this file.\n\t*/\n\tUnitVector.prototype.interpolate = function(p, rp1, rp2, pv) {\n\t    var dm1;\n\t    var dm2;\n\t    var do1;\n\t    var do2;\n\t    var doa1;\n\t    var doa2;\n\t    var dt;\n\t\n\t    do1 = pv.distance(p, rp1, true, true);\n\t    do2 = pv.distance(p, rp2, true, true);\n\t    dm1 = pv.distance(rp1, rp1, false, true);\n\t    dm2 = pv.distance(rp2, rp2, false, true);\n\t    doa1 = Math.abs(do1);\n\t    doa2 = Math.abs(do2);\n\t    dt = doa1 + doa2;\n\t\n\t    if (dt === 0) {\n\t        this.setRelative(p, p, (dm1 + dm2) / 2, pv, true);\n\t        return;\n\t    }\n\t\n\t    this.setRelative(p, p, (dm1 * doa2 + dm2 * doa1) / dt, pv, true);\n\t};\n\t\n\t/*\n\t* Sets the point 'p' relative to point 'rp'\n\t* by the distance 'd'\n\t*\n\t* See APPENDIX on SETRELATIVE at the bottom of this file.\n\t*\n\t* p   ...  point to set\n\t* rp  ... reference point\n\t* d   ... distance on projection vector\n\t* pv  ... projection vector (undefined = this)\n\t* org ... if true, uses the original position of rp as reference.\n\t*/\n\tUnitVector.prototype.setRelative = function(p, rp, d, pv, org) {\n\t    pv = pv || this;\n\t\n\t    var rpx = org ? rp.xo : rp.x;\n\t    var rpy = org ? rp.yo : rp.y;\n\t    var rpdx = rpx + d * pv.x;\n\t    var rpdy = rpy + d * pv.y;\n\t\n\t    var pvns = pv.normalSlope;\n\t    var fvs = this.slope;\n\t\n\t    var px = p.x;\n\t    var py = p.y;\n\t\n\t    p.x = (fvs * px - pvns * rpdx + rpdy - py) / (fvs - pvns);\n\t    p.y = fvs * (p.x - px) + py;\n\t};\n\t\n\t/*\n\t* Touches the point p.\n\t*/\n\tUnitVector.prototype.touch = function(p) {\n\t    p.xTouched = true;\n\t    p.yTouched = true;\n\t};\n\t\n\t/*\n\t* Returns a unit vector with x/y coordinates.\n\t*/\n\tfunction getUnitVector(x, y) {\n\t    var d = Math.sqrt(x * x + y * y);\n\t\n\t    x /= d;\n\t    y /= d;\n\t\n\t    if (x === 1 && y === 0) { return xUnitVector; }\n\t    else if (x === 0 && y === 1) { return yUnitVector; }\n\t    else { return new UnitVector(x, y); }\n\t}\n\t\n\t/*\n\t* Creates a point in the hinting engine.\n\t*/\n\tfunction HPoint(\n\t    x,\n\t    y,\n\t    lastPointOfContour,\n\t    onCurve\n\t) {\n\t    this.x = this.xo = Math.round(x * 64) / 64; // hinted x value and original x-value\n\t    this.y = this.yo = Math.round(y * 64) / 64; // hinted y value and original y-value\n\t\n\t    this.lastPointOfContour = lastPointOfContour;\n\t    this.onCurve = onCurve;\n\t    this.prevPointOnContour = undefined;\n\t    this.nextPointOnContour = undefined;\n\t    this.xTouched = false;\n\t    this.yTouched = false;\n\t\n\t    Object.preventExtensions(this);\n\t}\n\t\n\t/*\n\t* Returns the next touched point on the contour.\n\t*\n\t* v  ... unit vector to test touch axis.\n\t*/\n\tHPoint.prototype.nextTouched = function(v) {\n\t    var p = this.nextPointOnContour;\n\t\n\t    while (!v.touched(p) && p !== this) { p = p.nextPointOnContour; }\n\t\n\t    return p;\n\t};\n\t\n\t/*\n\t* Returns the previous touched point on the contour\n\t*\n\t* v  ... unit vector to test touch axis.\n\t*/\n\tHPoint.prototype.prevTouched = function(v) {\n\t    var p = this.prevPointOnContour;\n\t\n\t    while (!v.touched(p) && p !== this) { p = p.prevPointOnContour; }\n\t\n\t    return p;\n\t};\n\t\n\t/*\n\t* The zero point.\n\t*/\n\tvar HPZero = Object.freeze(new HPoint(0, 0));\n\t\n\t/*\n\t* The default state of the interpreter.\n\t*\n\t* Note: Freezing the defaultState and then deriving from it\n\t* makes the V8 Javascript engine going awkward,\n\t* so this is avoided, albeit the defaultState shouldn't\n\t* ever change.\n\t*/\n\tvar defaultState = {\n\t    cvCutIn: 17 / 16,    // control value cut in\n\t    deltaBase: 9,\n\t    deltaShift: 0.125,\n\t    loop: 1,             // loops some instructions\n\t    minDis: 1,           // minimum distance\n\t    autoFlip: true\n\t};\n\t\n\t/*\n\t* The current state of the interpreter.\n\t*\n\t* env  ... 'fpgm' or 'prep' or 'glyf'\n\t* prog ... the program\n\t*/\n\tfunction State(env, prog) {\n\t    this.env = env;\n\t    this.stack = [];\n\t    this.prog = prog;\n\t\n\t    switch (env) {\n\t        case 'glyf' :\n\t            this.zp0 = this.zp1 = this.zp2 = 1;\n\t            this.rp0 = this.rp1 = this.rp2 = 0;\n\t            /* fall through */\n\t        case 'prep' :\n\t            this.fv = this.pv = this.dpv = xUnitVector;\n\t            this.round = roundToGrid;\n\t    }\n\t}\n\t\n\t/*\n\t* Executes a glyph program.\n\t*\n\t* This does the hinting for each glyph.\n\t*\n\t* Returns an array of moved points.\n\t*\n\t* glyph: the glyph to hint\n\t* ppem: the size the glyph is rendered for\n\t*/\n\tHinting.prototype.exec = function(glyph, ppem) {\n\t    if (typeof ppem !== 'number') {\n\t        throw new Error('Point size is not a number!');\n\t    }\n\t\n\t    // Received a fatal error, don't do any hinting anymore.\n\t    if (this._errorState > 2) { return; }\n\t\n\t    var font = this.font;\n\t    var prepState = this._prepState;\n\t\n\t    if (!prepState || prepState.ppem !== ppem) {\n\t        var fpgmState = this._fpgmState;\n\t\n\t        if (!fpgmState) {\n\t            // Executes the fpgm state.\n\t            // This is used by fonts to define functions.\n\t            State.prototype = defaultState;\n\t\n\t            fpgmState =\n\t            this._fpgmState =\n\t                new State('fpgm', font.tables.fpgm);\n\t\n\t            fpgmState.funcs = [ ];\n\t            fpgmState.font = font;\n\t\n\t            if (exports.DEBUG) {\n\t                console.log('---EXEC FPGM---');\n\t                fpgmState.step = -1;\n\t            }\n\t\n\t            try {\n\t                exec(fpgmState);\n\t            } catch (e) {\n\t                console.log('Hinting error in FPGM:' + e);\n\t                this._errorState = 3;\n\t                return;\n\t            }\n\t        }\n\t\n\t        // Executes the prep program for this ppem setting.\n\t        // This is used by fonts to set cvt values\n\t        // depending on to be rendered font size.\n\t\n\t        State.prototype = fpgmState;\n\t        prepState =\n\t        this._prepState =\n\t            new State('prep', font.tables.prep);\n\t\n\t        prepState.ppem = ppem;\n\t\n\t        // Creates a copy of the cvt table\n\t        // and scales it to the current ppem setting.\n\t        var oCvt = font.tables.cvt;\n\t        if (oCvt) {\n\t            var cvt = prepState.cvt = new Array(oCvt.length);\n\t            var scale = ppem / font.unitsPerEm;\n\t            for (var c = 0; c < oCvt.length; c++) {\n\t                cvt[c] = oCvt[c] * scale;\n\t            }\n\t        } else {\n\t            prepState.cvt = [];\n\t        }\n\t\n\t        if (exports.DEBUG) {\n\t            console.log('---EXEC PREP---');\n\t            prepState.step = -1;\n\t        }\n\t\n\t        try {\n\t            exec(prepState);\n\t        } catch (e) {\n\t            if (this._errorState < 2) {\n\t                console.log('Hinting error in PREP:' + e);\n\t            }\n\t            this._errorState = 2;\n\t        }\n\t    }\n\t\n\t    if (this._errorState > 1) { return; }\n\t\n\t    try {\n\t        return execGlyph(glyph, prepState);\n\t    } catch (e) {\n\t        if (this._errorState < 1) {\n\t            console.log('Hinting error:' + e);\n\t            console.log('Note: further hinting errors are silenced');\n\t        }\n\t        this._errorState = 1;\n\t        return undefined;\n\t    }\n\t};\n\t\n\t/*\n\t* Executes the hinting program for a glyph.\n\t*/\n\texecGlyph = function(glyph, prepState) {\n\t    // original point positions\n\t    var xScale = prepState.ppem / prepState.font.unitsPerEm;\n\t    var yScale = xScale;\n\t    var components = glyph.components;\n\t    var contours;\n\t    var gZone;\n\t    var state;\n\t\n\t    State.prototype = prepState;\n\t    if (!components) {\n\t        state = new State('glyf', glyph.instructions);\n\t        if (exports.DEBUG) {\n\t            console.log('---EXEC GLYPH---');\n\t            state.step = -1;\n\t        }\n\t        execComponent(glyph, state, xScale, yScale);\n\t        gZone = state.gZone;\n\t    } else {\n\t        var font = prepState.font;\n\t        gZone = [];\n\t        contours = [];\n\t        for (var i = 0; i < components.length; i++) {\n\t            var c = components[i];\n\t            var cg = font.glyphs.get(c.glyphIndex);\n\t\n\t            state = new State('glyf', cg.instructions);\n\t\n\t            if (exports.DEBUG) {\n\t                console.log('---EXEC COMP ' + i + '---');\n\t                state.step = -1;\n\t            }\n\t\n\t            execComponent(cg, state, xScale, yScale);\n\t            // appends the computed points to the result array\n\t            // post processes the component points\n\t            var dx = Math.round(c.dx * xScale);\n\t            var dy = Math.round(c.dy * yScale);\n\t            var gz = state.gZone;\n\t            var cc = state.contours;\n\t            for (var pi = 0; pi < gz.length; pi++) {\n\t                var p = gz[pi];\n\t                p.xTouched = p.yTouched = false;\n\t                p.xo = p.x = p.x + dx;\n\t                p.yo = p.y = p.y + dy;\n\t            }\n\t\n\t            var gLen = gZone.length;\n\t            gZone.push.apply(gZone, gz);\n\t            for (var j = 0; j < cc.length; j++) {\n\t                contours.push(cc[j] + gLen);\n\t            }\n\t        }\n\t\n\t        if (glyph.instructions && !state.inhibitGridFit) {\n\t            // the composite has instructions on its own\n\t            state = new State('glyf', glyph.instructions);\n\t\n\t            state.gZone = state.z0 = state.z1 = state.z2 = gZone;\n\t\n\t            state.contours = contours;\n\t\n\t            // note: HPZero cannot be used here, since\n\t            //       the point might be modified\n\t            gZone.push(\n\t                new HPoint(0, 0),\n\t                new HPoint(Math.round(glyph.advanceWidth * xScale), 0)\n\t            );\n\t\n\t            if (exports.DEBUG) {\n\t                console.log('---EXEC COMPOSITE---');\n\t                state.step = -1;\n\t            }\n\t\n\t            exec(state);\n\t\n\t            gZone.length -= 2;\n\t        }\n\t    }\n\t\n\t    return gZone;\n\t};\n\t\n\t/*\n\t* Executes the hinting program for a component of a multi-component glyph\n\t* or of the glyph itself by a non-component glyph.\n\t*/\n\texecComponent = function(glyph, state, xScale, yScale)\n\t{\n\t    var points = glyph.points || [];\n\t    var pLen = points.length;\n\t    var gZone = state.gZone = state.z0 = state.z1 = state.z2 = [];\n\t    var contours = state.contours = [];\n\t\n\t    // Scales the original points and\n\t    // makes copies for the hinted points.\n\t    var cp; // current point\n\t    for (var i = 0; i < pLen; i++) {\n\t        cp = points[i];\n\t\n\t        gZone[i] = new HPoint(\n\t            cp.x * xScale,\n\t            cp.y * yScale,\n\t            cp.lastPointOfContour,\n\t            cp.onCurve\n\t        );\n\t    }\n\t\n\t    // Chain links the contours.\n\t    var sp; // start point\n\t    var np; // next point\n\t\n\t    for (var i$1 = 0; i$1 < pLen; i$1++) {\n\t        cp = gZone[i$1];\n\t\n\t        if (!sp) {\n\t            sp = cp;\n\t            contours.push(i$1);\n\t        }\n\t\n\t        if (cp.lastPointOfContour) {\n\t            cp.nextPointOnContour = sp;\n\t            sp.prevPointOnContour = cp;\n\t            sp = undefined;\n\t        } else {\n\t            np = gZone[i$1 + 1];\n\t            cp.nextPointOnContour = np;\n\t            np.prevPointOnContour = cp;\n\t        }\n\t    }\n\t\n\t    if (state.inhibitGridFit) { return; }\n\t\n\t    gZone.push(\n\t        new HPoint(0, 0),\n\t        new HPoint(Math.round(glyph.advanceWidth * xScale), 0)\n\t    );\n\t\n\t    exec(state);\n\t\n\t    // Removes the extra points.\n\t    gZone.length -= 2;\n\t\n\t    if (exports.DEBUG) {\n\t        console.log('FINISHED GLYPH', state.stack);\n\t        for (var i$2 = 0; i$2 < pLen; i$2++) {\n\t            console.log(i$2, gZone[i$2].x, gZone[i$2].y);\n\t        }\n\t    }\n\t};\n\t\n\t/*\n\t* Executes the program loaded in state.\n\t*/\n\texec = function(state) {\n\t    var prog = state.prog;\n\t\n\t    if (!prog) { return; }\n\t\n\t    var pLen = prog.length;\n\t    var ins;\n\t\n\t    for (state.ip = 0; state.ip < pLen; state.ip++) {\n\t        if (exports.DEBUG) { state.step++; }\n\t        ins = instructionTable[prog[state.ip]];\n\t\n\t        if (!ins) {\n\t            throw new Error(\n\t                'unknown instruction: 0x' +\n\t                Number(prog[state.ip]).toString(16)\n\t            );\n\t        }\n\t\n\t        ins(state);\n\t\n\t        // very extensive debugging for each step\n\t        /*\n\t        if (exports.DEBUG) {\n\t            var da;\n\t            if (state.gZone) {\n\t                da = [];\n\t                for (let i = 0; i < state.gZone.length; i++)\n\t                {\n\t                    da.push(i + ' ' +\n\t                        state.gZone[i].x * 64 + ' ' +\n\t                        state.gZone[i].y * 64 + ' ' +\n\t                        (state.gZone[i].xTouched ? 'x' : '') +\n\t                        (state.gZone[i].yTouched ? 'y' : '')\n\t                    );\n\t                }\n\t                console.log('GZ', da);\n\t            }\n\t\n\t            if (state.tZone) {\n\t                da = [];\n\t                for (let i = 0; i < state.tZone.length; i++) {\n\t                    da.push(i + ' ' +\n\t                        state.tZone[i].x * 64 + ' ' +\n\t                        state.tZone[i].y * 64 + ' ' +\n\t                        (state.tZone[i].xTouched ? 'x' : '') +\n\t                        (state.tZone[i].yTouched ? 'y' : '')\n\t                    );\n\t                }\n\t                console.log('TZ', da);\n\t            }\n\t\n\t            if (state.stack.length > 10) {\n\t                console.log(\n\t                    state.stack.length,\n\t                    '...', state.stack.slice(state.stack.length - 10)\n\t                );\n\t            } else {\n\t                console.log(state.stack.length, state.stack);\n\t            }\n\t        }\n\t        */\n\t    }\n\t};\n\t\n\t/*\n\t* Initializes the twilight zone.\n\t*\n\t* This is only done if a SZPx instruction\n\t* refers to the twilight zone.\n\t*/\n\tfunction initTZone(state)\n\t{\n\t    var tZone = state.tZone = new Array(state.gZone.length);\n\t\n\t    // no idea if this is actually correct...\n\t    for (var i = 0; i < tZone.length; i++)\n\t    {\n\t        tZone[i] = new HPoint(0, 0);\n\t    }\n\t}\n\t\n\t/*\n\t* Skips the instruction pointer ahead over an IF/ELSE block.\n\t* handleElse .. if true breaks on matching ELSE\n\t*/\n\tfunction skip(state, handleElse)\n\t{\n\t    var prog = state.prog;\n\t    var ip = state.ip;\n\t    var nesting = 1;\n\t    var ins;\n\t\n\t    do {\n\t        ins = prog[++ip];\n\t        if (ins === 0x58) // IF\n\t            { nesting++; }\n\t        else if (ins === 0x59) // EIF\n\t            { nesting--; }\n\t        else if (ins === 0x40) // NPUSHB\n\t            { ip += prog[ip + 1] + 1; }\n\t        else if (ins === 0x41) // NPUSHW\n\t            { ip += 2 * prog[ip + 1] + 1; }\n\t        else if (ins >= 0xB0 && ins <= 0xB7) // PUSHB\n\t            { ip += ins - 0xB0 + 1; }\n\t        else if (ins >= 0xB8 && ins <= 0xBF) // PUSHW\n\t            { ip += (ins - 0xB8 + 1) * 2; }\n\t        else if (handleElse && nesting === 1 && ins === 0x1B) // ELSE\n\t            { break; }\n\t    } while (nesting > 0);\n\t\n\t    state.ip = ip;\n\t}\n\t\n\t/*----------------------------------------------------------*\n\t*          And then a lot of instructions...                *\n\t*----------------------------------------------------------*/\n\t\n\t// SVTCA[a] Set freedom and projection Vectors To Coordinate Axis\n\t// 0x00-0x01\n\tfunction SVTCA(v, state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'SVTCA[' + v.axis + ']'); }\n\t\n\t    state.fv = state.pv = state.dpv = v;\n\t}\n\t\n\t// SPVTCA[a] Set Projection Vector to Coordinate Axis\n\t// 0x02-0x03\n\tfunction SPVTCA(v, state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'SPVTCA[' + v.axis + ']'); }\n\t\n\t    state.pv = state.dpv = v;\n\t}\n\t\n\t// SFVTCA[a] Set Freedom Vector to Coordinate Axis\n\t// 0x04-0x05\n\tfunction SFVTCA(v, state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'SFVTCA[' + v.axis + ']'); }\n\t\n\t    state.fv = v;\n\t}\n\t\n\t// SPVTL[a] Set Projection Vector To Line\n\t// 0x06-0x07\n\tfunction SPVTL(a, state) {\n\t    var stack = state.stack;\n\t    var p2i = stack.pop();\n\t    var p1i = stack.pop();\n\t    var p2 = state.z2[p2i];\n\t    var p1 = state.z1[p1i];\n\t\n\t    if (exports.DEBUG) { console.log('SPVTL[' + a + ']', p2i, p1i); }\n\t\n\t    var dx;\n\t    var dy;\n\t\n\t    if (!a) {\n\t        dx = p1.x - p2.x;\n\t        dy = p1.y - p2.y;\n\t    } else {\n\t        dx = p2.y - p1.y;\n\t        dy = p1.x - p2.x;\n\t    }\n\t\n\t    state.pv = state.dpv = getUnitVector(dx, dy);\n\t}\n\t\n\t// SFVTL[a] Set Freedom Vector To Line\n\t// 0x08-0x09\n\tfunction SFVTL(a, state) {\n\t    var stack = state.stack;\n\t    var p2i = stack.pop();\n\t    var p1i = stack.pop();\n\t    var p2 = state.z2[p2i];\n\t    var p1 = state.z1[p1i];\n\t\n\t    if (exports.DEBUG) { console.log('SFVTL[' + a + ']', p2i, p1i); }\n\t\n\t    var dx;\n\t    var dy;\n\t\n\t    if (!a) {\n\t        dx = p1.x - p2.x;\n\t        dy = p1.y - p2.y;\n\t    } else {\n\t        dx = p2.y - p1.y;\n\t        dy = p1.x - p2.x;\n\t    }\n\t\n\t    state.fv = getUnitVector(dx, dy);\n\t}\n\t\n\t// SPVFS[] Set Projection Vector From Stack\n\t// 0x0A\n\tfunction SPVFS(state) {\n\t    var stack = state.stack;\n\t    var y = stack.pop();\n\t    var x = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SPVFS[]', y, x); }\n\t\n\t    state.pv = state.dpv = getUnitVector(x, y);\n\t}\n\t\n\t// SFVFS[] Set Freedom Vector From Stack\n\t// 0x0B\n\tfunction SFVFS(state) {\n\t    var stack = state.stack;\n\t    var y = stack.pop();\n\t    var x = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SPVFS[]', y, x); }\n\t\n\t    state.fv = getUnitVector(x, y);\n\t}\n\t\n\t// GPV[] Get Projection Vector\n\t// 0x0C\n\tfunction GPV(state) {\n\t    var stack = state.stack;\n\t    var pv = state.pv;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'GPV[]'); }\n\t\n\t    stack.push(pv.x * 0x4000);\n\t    stack.push(pv.y * 0x4000);\n\t}\n\t\n\t// GFV[] Get Freedom Vector\n\t// 0x0C\n\tfunction GFV(state) {\n\t    var stack = state.stack;\n\t    var fv = state.fv;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'GFV[]'); }\n\t\n\t    stack.push(fv.x * 0x4000);\n\t    stack.push(fv.y * 0x4000);\n\t}\n\t\n\t// SFVTPV[] Set Freedom Vector To Projection Vector\n\t// 0x0E\n\tfunction SFVTPV(state) {\n\t    state.fv = state.pv;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SFVTPV[]'); }\n\t}\n\t\n\t// ISECT[] moves point p to the InterSECTion of two lines\n\t// 0x0F\n\tfunction ISECT(state)\n\t{\n\t    var stack = state.stack;\n\t    var pa0i = stack.pop();\n\t    var pa1i = stack.pop();\n\t    var pb0i = stack.pop();\n\t    var pb1i = stack.pop();\n\t    var pi = stack.pop();\n\t    var z0 = state.z0;\n\t    var z1 = state.z1;\n\t    var pa0 = z0[pa0i];\n\t    var pa1 = z0[pa1i];\n\t    var pb0 = z1[pb0i];\n\t    var pb1 = z1[pb1i];\n\t    var p = state.z2[pi];\n\t\n\t    if (exports.DEBUG) { console.log('ISECT[], ', pa0i, pa1i, pb0i, pb1i, pi); }\n\t\n\t    // math from\n\t    // en.wikipedia.org/wiki/Line%E2%80%93line_intersection#Given_two_points_on_each_line\n\t\n\t    var x1 = pa0.x;\n\t    var y1 = pa0.y;\n\t    var x2 = pa1.x;\n\t    var y2 = pa1.y;\n\t    var x3 = pb0.x;\n\t    var y3 = pb0.y;\n\t    var x4 = pb1.x;\n\t    var y4 = pb1.y;\n\t\n\t    var div = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\t    var f1 = x1 * y2 - y1 * x2;\n\t    var f2 = x3 * y4 - y3 * x4;\n\t\n\t    p.x = (f1 * (x3 - x4) - f2 * (x1 - x2)) / div;\n\t    p.y = (f1 * (y3 - y4) - f2 * (y1 - y2)) / div;\n\t}\n\t\n\t// SRP0[] Set Reference Point 0\n\t// 0x10\n\tfunction SRP0(state) {\n\t    state.rp0 = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SRP0[]', state.rp0); }\n\t}\n\t\n\t// SRP1[] Set Reference Point 1\n\t// 0x11\n\tfunction SRP1(state) {\n\t    state.rp1 = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SRP1[]', state.rp1); }\n\t}\n\t\n\t// SRP1[] Set Reference Point 2\n\t// 0x12\n\tfunction SRP2(state) {\n\t    state.rp2 = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SRP2[]', state.rp2); }\n\t}\n\t\n\t// SZP0[] Set Zone Pointer 0\n\t// 0x13\n\tfunction SZP0(state) {\n\t    var n = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SZP0[]', n); }\n\t\n\t    state.zp0 = n;\n\t\n\t    switch (n) {\n\t        case 0:\n\t            if (!state.tZone) { initTZone(state); }\n\t            state.z0 = state.tZone;\n\t            break;\n\t        case 1 :\n\t            state.z0 = state.gZone;\n\t            break;\n\t        default :\n\t            throw new Error('Invalid zone pointer');\n\t    }\n\t}\n\t\n\t// SZP1[] Set Zone Pointer 1\n\t// 0x14\n\tfunction SZP1(state) {\n\t    var n = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SZP1[]', n); }\n\t\n\t    state.zp1 = n;\n\t\n\t    switch (n) {\n\t        case 0:\n\t            if (!state.tZone) { initTZone(state); }\n\t            state.z1 = state.tZone;\n\t            break;\n\t        case 1 :\n\t            state.z1 = state.gZone;\n\t            break;\n\t        default :\n\t            throw new Error('Invalid zone pointer');\n\t    }\n\t}\n\t\n\t// SZP2[] Set Zone Pointer 2\n\t// 0x15\n\tfunction SZP2(state) {\n\t    var n = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SZP2[]', n); }\n\t\n\t    state.zp2 = n;\n\t\n\t    switch (n) {\n\t        case 0:\n\t            if (!state.tZone) { initTZone(state); }\n\t            state.z2 = state.tZone;\n\t            break;\n\t        case 1 :\n\t            state.z2 = state.gZone;\n\t            break;\n\t        default :\n\t            throw new Error('Invalid zone pointer');\n\t    }\n\t}\n\t\n\t// SZPS[] Set Zone PointerS\n\t// 0x16\n\tfunction SZPS(state) {\n\t    var n = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SZPS[]', n); }\n\t\n\t    state.zp0 = state.zp1 = state.zp2 = n;\n\t\n\t    switch (n) {\n\t        case 0:\n\t            if (!state.tZone) { initTZone(state); }\n\t            state.z0 = state.z1 = state.z2 = state.tZone;\n\t            break;\n\t        case 1 :\n\t            state.z0 = state.z1 = state.z2 = state.gZone;\n\t            break;\n\t        default :\n\t            throw new Error('Invalid zone pointer');\n\t    }\n\t}\n\t\n\t// SLOOP[] Set LOOP variable\n\t// 0x17\n\tfunction SLOOP(state) {\n\t    state.loop = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SLOOP[]', state.loop); }\n\t}\n\t\n\t// RTG[] Round To Grid\n\t// 0x18\n\tfunction RTG(state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'RTG[]'); }\n\t\n\t    state.round = roundToGrid;\n\t}\n\t\n\t// RTHG[] Round To Half Grid\n\t// 0x19\n\tfunction RTHG(state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'RTHG[]'); }\n\t\n\t    state.round = roundToHalfGrid;\n\t}\n\t\n\t// SMD[] Set Minimum Distance\n\t// 0x1A\n\tfunction SMD(state) {\n\t    var d = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SMD[]', d); }\n\t\n\t    state.minDis = d / 0x40;\n\t}\n\t\n\t// ELSE[] ELSE clause\n\t// 0x1B\n\tfunction ELSE(state) {\n\t    // This instruction has been reached by executing a then branch\n\t    // so it just skips ahead until matching EIF.\n\t    //\n\t    // In case the IF was negative the IF[] instruction already\n\t    // skipped forward over the ELSE[]\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'ELSE[]'); }\n\t\n\t    skip(state, false);\n\t}\n\t\n\t// JMPR[] JuMP Relative\n\t// 0x1C\n\tfunction JMPR(state) {\n\t    var o = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'JMPR[]', o); }\n\t\n\t    // A jump by 1 would do nothing.\n\t    state.ip += o - 1;\n\t}\n\t\n\t// SCVTCI[] Set Control Value Table Cut-In\n\t// 0x1D\n\tfunction SCVTCI(state) {\n\t    var n = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SCVTCI[]', n); }\n\t\n\t    state.cvCutIn = n / 0x40;\n\t}\n\t\n\t// DUP[] DUPlicate top stack element\n\t// 0x20\n\tfunction DUP(state) {\n\t    var stack = state.stack;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'DUP[]'); }\n\t\n\t    stack.push(stack[stack.length - 1]);\n\t}\n\t\n\t// POP[] POP top stack element\n\t// 0x21\n\tfunction POP(state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'POP[]'); }\n\t\n\t    state.stack.pop();\n\t}\n\t\n\t// CLEAR[] CLEAR the stack\n\t// 0x22\n\tfunction CLEAR(state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'CLEAR[]'); }\n\t\n\t    state.stack.length = 0;\n\t}\n\t\n\t// SWAP[] SWAP the top two elements on the stack\n\t// 0x23\n\tfunction SWAP(state) {\n\t    var stack = state.stack;\n\t\n\t    var a = stack.pop();\n\t    var b = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SWAP[]'); }\n\t\n\t    stack.push(a);\n\t    stack.push(b);\n\t}\n\t\n\t// DEPTH[] DEPTH of the stack\n\t// 0x24\n\tfunction DEPTH(state) {\n\t    var stack = state.stack;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'DEPTH[]'); }\n\t\n\t    stack.push(stack.length);\n\t}\n\t\n\t// LOOPCALL[] LOOPCALL function\n\t// 0x2A\n\tfunction LOOPCALL(state) {\n\t    var stack = state.stack;\n\t    var fn = stack.pop();\n\t    var c = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'LOOPCALL[]', fn, c); }\n\t\n\t    // saves callers program\n\t    var cip = state.ip;\n\t    var cprog = state.prog;\n\t\n\t    state.prog = state.funcs[fn];\n\t\n\t    // executes the function\n\t    for (var i = 0; i < c; i++) {\n\t        exec(state);\n\t\n\t        if (exports.DEBUG) { console.log(\n\t            ++state.step,\n\t            i + 1 < c ? 'next loopcall' : 'done loopcall',\n\t            i\n\t        ); }\n\t    }\n\t\n\t    // restores the callers program\n\t    state.ip = cip;\n\t    state.prog = cprog;\n\t}\n\t\n\t// CALL[] CALL function\n\t// 0x2B\n\tfunction CALL(state) {\n\t    var fn = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'CALL[]', fn); }\n\t\n\t    // saves callers program\n\t    var cip = state.ip;\n\t    var cprog = state.prog;\n\t\n\t    state.prog = state.funcs[fn];\n\t\n\t    // executes the function\n\t    exec(state);\n\t\n\t    // restores the callers program\n\t    state.ip = cip;\n\t    state.prog = cprog;\n\t\n\t    if (exports.DEBUG) { console.log(++state.step, 'returning from', fn); }\n\t}\n\t\n\t// CINDEX[] Copy the INDEXed element to the top of the stack\n\t// 0x25\n\tfunction CINDEX(state) {\n\t    var stack = state.stack;\n\t    var k = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'CINDEX[]', k); }\n\t\n\t    // In case of k == 1, it copies the last element after popping\n\t    // thus stack.length - k.\n\t    stack.push(stack[stack.length - k]);\n\t}\n\t\n\t// MINDEX[] Move the INDEXed element to the top of the stack\n\t// 0x26\n\tfunction MINDEX(state) {\n\t    var stack = state.stack;\n\t    var k = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'MINDEX[]', k); }\n\t\n\t    stack.push(stack.splice(stack.length - k, 1)[0]);\n\t}\n\t\n\t// FDEF[] Function DEFinition\n\t// 0x2C\n\tfunction FDEF(state) {\n\t    if (state.env !== 'fpgm') { throw new Error('FDEF not allowed here'); }\n\t    var stack = state.stack;\n\t    var prog = state.prog;\n\t    var ip = state.ip;\n\t\n\t    var fn = stack.pop();\n\t    var ipBegin = ip;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'FDEF[]', fn); }\n\t\n\t    while (prog[++ip] !== 0x2D){  }\n\t\n\t    state.ip = ip;\n\t    state.funcs[fn] = prog.slice(ipBegin + 1, ip);\n\t}\n\t\n\t// MDAP[a] Move Direct Absolute Point\n\t// 0x2E-0x2F\n\tfunction MDAP(round, state) {\n\t    var pi = state.stack.pop();\n\t    var p = state.z0[pi];\n\t    var fv = state.fv;\n\t    var pv = state.pv;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'MDAP[' + round + ']', pi); }\n\t\n\t    var d = pv.distance(p, HPZero);\n\t\n\t    if (round) { d = state.round(d); }\n\t\n\t    fv.setRelative(p, HPZero, d, pv);\n\t    fv.touch(p);\n\t\n\t    state.rp0 = state.rp1 = pi;\n\t}\n\t\n\t// IUP[a] Interpolate Untouched Points through the outline\n\t// 0x30\n\tfunction IUP(v, state) {\n\t    var z2 = state.z2;\n\t    var pLen = z2.length - 2;\n\t    var cp;\n\t    var pp;\n\t    var np;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'IUP[' + v.axis + ']'); }\n\t\n\t    for (var i = 0; i < pLen; i++) {\n\t        cp = z2[i]; // current point\n\t\n\t        // if this point has been touched go on\n\t        if (v.touched(cp)) { continue; }\n\t\n\t        pp = cp.prevTouched(v);\n\t\n\t        // no point on the contour has been touched?\n\t        if (pp === cp) { continue; }\n\t\n\t        np = cp.nextTouched(v);\n\t\n\t        if (pp === np) {\n\t            // only one point on the contour has been touched\n\t            // so simply moves the point like that\n\t\n\t            v.setRelative(cp, cp, v.distance(pp, pp, false, true), v, true);\n\t        }\n\t\n\t        v.interpolate(cp, pp, np, v);\n\t    }\n\t}\n\t\n\t// SHP[] SHift Point using reference point\n\t// 0x32-0x33\n\tfunction SHP(a, state) {\n\t    var stack = state.stack;\n\t    var rpi = a ? state.rp1 : state.rp2;\n\t    var rp = (a ? state.z0 : state.z1)[rpi];\n\t    var fv = state.fv;\n\t    var pv = state.pv;\n\t    var loop = state.loop;\n\t    var z2 = state.z2;\n\t\n\t    while (loop--)\n\t    {\n\t        var pi = stack.pop();\n\t        var p = z2[pi];\n\t\n\t        var d = pv.distance(rp, rp, false, true);\n\t        fv.setRelative(p, p, d, pv);\n\t        fv.touch(p);\n\t\n\t        if (exports.DEBUG) {\n\t            console.log(\n\t                state.step,\n\t                (state.loop > 1 ?\n\t                   'loop ' + (state.loop - loop) + ': ' :\n\t                   ''\n\t                ) +\n\t                'SHP[' + (a ? 'rp1' : 'rp2') + ']', pi\n\t            );\n\t        }\n\t    }\n\t\n\t    state.loop = 1;\n\t}\n\t\n\t// SHC[] SHift Contour using reference point\n\t// 0x36-0x37\n\tfunction SHC(a, state) {\n\t    var stack = state.stack;\n\t    var rpi = a ? state.rp1 : state.rp2;\n\t    var rp = (a ? state.z0 : state.z1)[rpi];\n\t    var fv = state.fv;\n\t    var pv = state.pv;\n\t    var ci = stack.pop();\n\t    var sp = state.z2[state.contours[ci]];\n\t    var p = sp;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SHC[' + a + ']', ci); }\n\t\n\t    var d = pv.distance(rp, rp, false, true);\n\t\n\t    do {\n\t        if (p !== rp) { fv.setRelative(p, p, d, pv); }\n\t        p = p.nextPointOnContour;\n\t    } while (p !== sp);\n\t}\n\t\n\t// SHZ[] SHift Zone using reference point\n\t// 0x36-0x37\n\tfunction SHZ(a, state) {\n\t    var stack = state.stack;\n\t    var rpi = a ? state.rp1 : state.rp2;\n\t    var rp = (a ? state.z0 : state.z1)[rpi];\n\t    var fv = state.fv;\n\t    var pv = state.pv;\n\t\n\t    var e = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SHZ[' + a + ']', e); }\n\t\n\t    var z;\n\t    switch (e) {\n\t        case 0 : z = state.tZone; break;\n\t        case 1 : z = state.gZone; break;\n\t        default : throw new Error('Invalid zone');\n\t    }\n\t\n\t    var p;\n\t    var d = pv.distance(rp, rp, false, true);\n\t    var pLen = z.length - 2;\n\t    for (var i = 0; i < pLen; i++)\n\t    {\n\t        p = z[i];\n\t        if (p !== rp) { fv.setRelative(p, p, d, pv); }\n\t    }\n\t}\n\t\n\t// SHPIX[] SHift point by a PIXel amount\n\t// 0x38\n\tfunction SHPIX(state) {\n\t    var stack = state.stack;\n\t    var loop = state.loop;\n\t    var fv = state.fv;\n\t    var d = stack.pop() / 0x40;\n\t    var z2 = state.z2;\n\t\n\t    while (loop--) {\n\t        var pi = stack.pop();\n\t        var p = z2[pi];\n\t\n\t        if (exports.DEBUG) {\n\t            console.log(\n\t                state.step,\n\t                (state.loop > 1 ? 'loop ' + (state.loop - loop) + ': ' : '') +\n\t                'SHPIX[]', pi, d\n\t            );\n\t        }\n\t\n\t        fv.setRelative(p, p, d);\n\t        fv.touch(p);\n\t    }\n\t\n\t    state.loop = 1;\n\t}\n\t\n\t// IP[] Interpolate Point\n\t// 0x39\n\tfunction IP(state) {\n\t    var stack = state.stack;\n\t    var rp1i = state.rp1;\n\t    var rp2i = state.rp2;\n\t    var loop = state.loop;\n\t    var rp1 = state.z0[rp1i];\n\t    var rp2 = state.z1[rp2i];\n\t    var fv = state.fv;\n\t    var pv = state.dpv;\n\t    var z2 = state.z2;\n\t\n\t    while (loop--) {\n\t        var pi = stack.pop();\n\t        var p = z2[pi];\n\t\n\t        if (exports.DEBUG) {\n\t            console.log(\n\t                state.step,\n\t                (state.loop > 1 ? 'loop ' + (state.loop - loop) + ': ' : '') +\n\t                'IP[]', pi, rp1i, '<->', rp2i\n\t            );\n\t        }\n\t\n\t        fv.interpolate(p, rp1, rp2, pv);\n\t\n\t        fv.touch(p);\n\t    }\n\t\n\t    state.loop = 1;\n\t}\n\t\n\t// MSIRP[a] Move Stack Indirect Relative Point\n\t// 0x3A-0x3B\n\tfunction MSIRP(a, state) {\n\t    var stack = state.stack;\n\t    var d = stack.pop() / 64;\n\t    var pi = stack.pop();\n\t    var p = state.z1[pi];\n\t    var rp0 = state.z0[state.rp0];\n\t    var fv = state.fv;\n\t    var pv = state.pv;\n\t\n\t    fv.setRelative(p, rp0, d, pv);\n\t    fv.touch(p);\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'MSIRP[' + a + ']', d, pi); }\n\t\n\t    state.rp1 = state.rp0;\n\t    state.rp2 = pi;\n\t    if (a) { state.rp0 = pi; }\n\t}\n\t\n\t// ALIGNRP[] Align to reference point.\n\t// 0x3C\n\tfunction ALIGNRP(state) {\n\t    var stack = state.stack;\n\t    var rp0i = state.rp0;\n\t    var rp0 = state.z0[rp0i];\n\t    var loop = state.loop;\n\t    var fv = state.fv;\n\t    var pv = state.pv;\n\t    var z1 = state.z1;\n\t\n\t    while (loop--) {\n\t        var pi = stack.pop();\n\t        var p = z1[pi];\n\t\n\t        if (exports.DEBUG) {\n\t            console.log(\n\t                state.step,\n\t                (state.loop > 1 ? 'loop ' + (state.loop - loop) + ': ' : '') +\n\t                'ALIGNRP[]', pi\n\t            );\n\t        }\n\t\n\t        fv.setRelative(p, rp0, 0, pv);\n\t        fv.touch(p);\n\t    }\n\t\n\t    state.loop = 1;\n\t}\n\t\n\t// RTG[] Round To Double Grid\n\t// 0x3D\n\tfunction RTDG(state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'RTDG[]'); }\n\t\n\t    state.round = roundToDoubleGrid;\n\t}\n\t\n\t// MIAP[a] Move Indirect Absolute Point\n\t// 0x3E-0x3F\n\tfunction MIAP(round, state) {\n\t    var stack = state.stack;\n\t    var n = stack.pop();\n\t    var pi = stack.pop();\n\t    var p = state.z0[pi];\n\t    var fv = state.fv;\n\t    var pv = state.pv;\n\t    var cv = state.cvt[n];\n\t\n\t    // TODO cvtcutin should be considered here\n\t    if (round) { cv = state.round(cv); }\n\t\n\t    if (exports.DEBUG) {\n\t        console.log(\n\t            state.step,\n\t            'MIAP[' + round + ']',\n\t            n, '(', cv, ')', pi\n\t        );\n\t    }\n\t\n\t    fv.setRelative(p, HPZero, cv, pv);\n\t\n\t    if (state.zp0 === 0) {\n\t        p.xo = p.x;\n\t        p.yo = p.y;\n\t    }\n\t\n\t    fv.touch(p);\n\t\n\t    state.rp0 = state.rp1 = pi;\n\t}\n\t\n\t// NPUSB[] PUSH N Bytes\n\t// 0x40\n\tfunction NPUSHB(state) {\n\t    var prog = state.prog;\n\t    var ip = state.ip;\n\t    var stack = state.stack;\n\t\n\t    var n = prog[++ip];\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'NPUSHB[]', n); }\n\t\n\t    for (var i = 0; i < n; i++) { stack.push(prog[++ip]); }\n\t\n\t    state.ip = ip;\n\t}\n\t\n\t// NPUSHW[] PUSH N Words\n\t// 0x41\n\tfunction NPUSHW(state) {\n\t    var ip = state.ip;\n\t    var prog = state.prog;\n\t    var stack = state.stack;\n\t    var n = prog[++ip];\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'NPUSHW[]', n); }\n\t\n\t    for (var i = 0; i < n; i++) {\n\t        var w = (prog[++ip] << 8) | prog[++ip];\n\t        if (w & 0x8000) { w = -((w ^ 0xffff) + 1); }\n\t        stack.push(w);\n\t    }\n\t\n\t    state.ip = ip;\n\t}\n\t\n\t// WS[] Write Store\n\t// 0x42\n\tfunction WS(state) {\n\t    var stack = state.stack;\n\t    var store = state.store;\n\t\n\t    if (!store) { store = state.store = []; }\n\t\n\t    var v = stack.pop();\n\t    var l = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'WS', v, l); }\n\t\n\t    store[l] = v;\n\t}\n\t\n\t// RS[] Read Store\n\t// 0x43\n\tfunction RS(state) {\n\t    var stack = state.stack;\n\t    var store = state.store;\n\t\n\t    var l = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'RS', l); }\n\t\n\t    var v = (store && store[l]) || 0;\n\t\n\t    stack.push(v);\n\t}\n\t\n\t// WCVTP[] Write Control Value Table in Pixel units\n\t// 0x44\n\tfunction WCVTP(state) {\n\t    var stack = state.stack;\n\t\n\t    var v = stack.pop();\n\t    var l = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'WCVTP', v, l); }\n\t\n\t    state.cvt[l] = v / 0x40;\n\t}\n\t\n\t// RCVT[] Read Control Value Table entry\n\t// 0x45\n\tfunction RCVT(state) {\n\t    var stack = state.stack;\n\t    var cvte = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'RCVT', cvte); }\n\t\n\t    stack.push(state.cvt[cvte] * 0x40);\n\t}\n\t\n\t// GC[] Get Coordinate projected onto the projection vector\n\t// 0x46-0x47\n\tfunction GC(a, state) {\n\t    var stack = state.stack;\n\t    var pi = stack.pop();\n\t    var p = state.z2[pi];\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'GC[' + a + ']', pi); }\n\t\n\t    stack.push(state.dpv.distance(p, HPZero, a, false) * 0x40);\n\t}\n\t\n\t// MD[a] Measure Distance\n\t// 0x49-0x4A\n\tfunction MD(a, state) {\n\t    var stack = state.stack;\n\t    var pi2 = stack.pop();\n\t    var pi1 = stack.pop();\n\t    var p2 = state.z1[pi2];\n\t    var p1 = state.z0[pi1];\n\t    var d = state.dpv.distance(p1, p2, a, a);\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'MD[' + a + ']', pi2, pi1, '->', d); }\n\t\n\t    state.stack.push(Math.round(d * 64));\n\t}\n\t\n\t// MPPEM[] Measure Pixels Per EM\n\t// 0x4B\n\tfunction MPPEM(state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'MPPEM[]'); }\n\t    state.stack.push(state.ppem);\n\t}\n\t\n\t// FLIPON[] set the auto FLIP Boolean to ON\n\t// 0x4D\n\tfunction FLIPON(state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'FLIPON[]'); }\n\t    state.autoFlip = true;\n\t}\n\t\n\t// LT[] Less Than\n\t// 0x50\n\tfunction LT(state) {\n\t    var stack = state.stack;\n\t    var e2 = stack.pop();\n\t    var e1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'LT[]', e2, e1); }\n\t\n\t    stack.push(e1 < e2 ? 1 : 0);\n\t}\n\t\n\t// LTEQ[] Less Than or EQual\n\t// 0x53\n\tfunction LTEQ(state) {\n\t    var stack = state.stack;\n\t    var e2 = stack.pop();\n\t    var e1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'LTEQ[]', e2, e1); }\n\t\n\t    stack.push(e1 <= e2 ? 1 : 0);\n\t}\n\t\n\t// GTEQ[] Greater Than\n\t// 0x52\n\tfunction GT(state) {\n\t    var stack = state.stack;\n\t    var e2 = stack.pop();\n\t    var e1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'GT[]', e2, e1); }\n\t\n\t    stack.push(e1 > e2 ? 1 : 0);\n\t}\n\t\n\t// GTEQ[] Greater Than or EQual\n\t// 0x53\n\tfunction GTEQ(state) {\n\t    var stack = state.stack;\n\t    var e2 = stack.pop();\n\t    var e1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'GTEQ[]', e2, e1); }\n\t\n\t    stack.push(e1 >= e2 ? 1 : 0);\n\t}\n\t\n\t// EQ[] EQual\n\t// 0x54\n\tfunction EQ(state) {\n\t    var stack = state.stack;\n\t    var e2 = stack.pop();\n\t    var e1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'EQ[]', e2, e1); }\n\t\n\t    stack.push(e2 === e1 ? 1 : 0);\n\t}\n\t\n\t// NEQ[] Not EQual\n\t// 0x55\n\tfunction NEQ(state) {\n\t    var stack = state.stack;\n\t    var e2 = stack.pop();\n\t    var e1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'NEQ[]', e2, e1); }\n\t\n\t    stack.push(e2 !== e1 ? 1 : 0);\n\t}\n\t\n\t// ODD[] ODD\n\t// 0x56\n\tfunction ODD(state) {\n\t    var stack = state.stack;\n\t    var n = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'ODD[]', n); }\n\t\n\t    stack.push(Math.trunc(n) % 2 ? 1 : 0);\n\t}\n\t\n\t// EVEN[] EVEN\n\t// 0x57\n\tfunction EVEN(state) {\n\t    var stack = state.stack;\n\t    var n = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'EVEN[]', n); }\n\t\n\t    stack.push(Math.trunc(n) % 2 ? 0 : 1);\n\t}\n\t\n\t// IF[] IF test\n\t// 0x58\n\tfunction IF(state) {\n\t    var test = state.stack.pop();\n\t    var ins;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'IF[]', test); }\n\t\n\t    // if test is true it just continues\n\t    // if not the ip is skipped until matching ELSE or EIF\n\t    if (!test) {\n\t        skip(state, true);\n\t\n\t        if (exports.DEBUG) { console.log(state.step, ins === 0x1B ? 'ELSE[]' : 'EIF[]'); }\n\t    }\n\t}\n\t\n\t// EIF[] End IF\n\t// 0x59\n\tfunction EIF(state) {\n\t    // this can be reached normally when\n\t    // executing an else branch.\n\t    // -> just ignore it\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'EIF[]'); }\n\t}\n\t\n\t// AND[] logical AND\n\t// 0x5A\n\tfunction AND(state) {\n\t    var stack = state.stack;\n\t    var e2 = stack.pop();\n\t    var e1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'AND[]', e2, e1); }\n\t\n\t    stack.push(e2 && e1 ? 1 : 0);\n\t}\n\t\n\t// OR[] logical OR\n\t// 0x5B\n\tfunction OR(state) {\n\t    var stack = state.stack;\n\t    var e2 = stack.pop();\n\t    var e1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'OR[]', e2, e1); }\n\t\n\t    stack.push(e2 || e1 ? 1 : 0);\n\t}\n\t\n\t// NOT[] logical NOT\n\t// 0x5C\n\tfunction NOT(state) {\n\t    var stack = state.stack;\n\t    var e = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'NOT[]', e); }\n\t\n\t    stack.push(e ? 0 : 1);\n\t}\n\t\n\t// DELTAP1[] DELTA exception P1\n\t// DELTAP2[] DELTA exception P2\n\t// DELTAP3[] DELTA exception P3\n\t// 0x5D, 0x71, 0x72\n\tfunction DELTAP123(b, state) {\n\t    var stack = state.stack;\n\t    var n = stack.pop();\n\t    var fv = state.fv;\n\t    var pv = state.pv;\n\t    var ppem = state.ppem;\n\t    var base = state.deltaBase + (b - 1) * 16;\n\t    var ds = state.deltaShift;\n\t    var z0 = state.z0;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'DELTAP[' + b + ']', n, stack); }\n\t\n\t    for (var i = 0; i < n; i++)\n\t    {\n\t        var pi = stack.pop();\n\t        var arg = stack.pop();\n\t        var appem = base + ((arg & 0xF0) >> 4);\n\t        if (appem !== ppem) { continue; }\n\t\n\t        var mag = (arg & 0x0F) - 8;\n\t        if (mag >= 0) { mag++; }\n\t        if (exports.DEBUG) { console.log(state.step, 'DELTAPFIX', pi, 'by', mag * ds); }\n\t\n\t        var p = z0[pi];\n\t        fv.setRelative(p, p, mag * ds, pv);\n\t    }\n\t}\n\t\n\t// SDB[] Set Delta Base in the graphics state\n\t// 0x5E\n\tfunction SDB(state) {\n\t    var stack = state.stack;\n\t    var n = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SDB[]', n); }\n\t\n\t    state.deltaBase = n;\n\t}\n\t\n\t// SDS[] Set Delta Shift in the graphics state\n\t// 0x5F\n\tfunction SDS(state) {\n\t    var stack = state.stack;\n\t    var n = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SDS[]', n); }\n\t\n\t    state.deltaShift = Math.pow(0.5, n);\n\t}\n\t\n\t// ADD[] ADD\n\t// 0x60\n\tfunction ADD(state) {\n\t    var stack = state.stack;\n\t    var n2 = stack.pop();\n\t    var n1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'ADD[]', n2, n1); }\n\t\n\t    stack.push(n1 + n2);\n\t}\n\t\n\t// SUB[] SUB\n\t// 0x61\n\tfunction SUB(state) {\n\t    var stack = state.stack;\n\t    var n2 = stack.pop();\n\t    var n1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SUB[]', n2, n1); }\n\t\n\t    stack.push(n1 - n2);\n\t}\n\t\n\t// DIV[] DIV\n\t// 0x62\n\tfunction DIV(state) {\n\t    var stack = state.stack;\n\t    var n2 = stack.pop();\n\t    var n1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'DIV[]', n2, n1); }\n\t\n\t    stack.push(n1 * 64 / n2);\n\t}\n\t\n\t// MUL[] MUL\n\t// 0x63\n\tfunction MUL(state) {\n\t    var stack = state.stack;\n\t    var n2 = stack.pop();\n\t    var n1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'MUL[]', n2, n1); }\n\t\n\t    stack.push(n1 * n2 / 64);\n\t}\n\t\n\t// ABS[] ABSolute value\n\t// 0x64\n\tfunction ABS(state) {\n\t    var stack = state.stack;\n\t    var n = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'ABS[]', n); }\n\t\n\t    stack.push(Math.abs(n));\n\t}\n\t\n\t// NEG[] NEGate\n\t// 0x65\n\tfunction NEG(state) {\n\t    var stack = state.stack;\n\t    var n = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'NEG[]', n); }\n\t\n\t    stack.push(-n);\n\t}\n\t\n\t// FLOOR[] FLOOR\n\t// 0x66\n\tfunction FLOOR(state) {\n\t    var stack = state.stack;\n\t    var n = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'FLOOR[]', n); }\n\t\n\t    stack.push(Math.floor(n / 0x40) * 0x40);\n\t}\n\t\n\t// CEILING[] CEILING\n\t// 0x67\n\tfunction CEILING(state) {\n\t    var stack = state.stack;\n\t    var n = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'CEILING[]', n); }\n\t\n\t    stack.push(Math.ceil(n / 0x40) * 0x40);\n\t}\n\t\n\t// ROUND[ab] ROUND value\n\t// 0x68-0x6B\n\tfunction ROUND(dt, state) {\n\t    var stack = state.stack;\n\t    var n = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'ROUND[]'); }\n\t\n\t    stack.push(state.round(n / 0x40) * 0x40);\n\t}\n\t\n\t// WCVTF[] Write Control Value Table in Funits\n\t// 0x70\n\tfunction WCVTF(state) {\n\t    var stack = state.stack;\n\t    var v = stack.pop();\n\t    var l = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'WCVTF[]', v, l); }\n\t\n\t    state.cvt[l] = v * state.ppem / state.font.unitsPerEm;\n\t}\n\t\n\t// DELTAC1[] DELTA exception C1\n\t// DELTAC2[] DELTA exception C2\n\t// DELTAC3[] DELTA exception C3\n\t// 0x73, 0x74, 0x75\n\tfunction DELTAC123(b, state) {\n\t    var stack = state.stack;\n\t    var n = stack.pop();\n\t    var ppem = state.ppem;\n\t    var base = state.deltaBase + (b - 1) * 16;\n\t    var ds = state.deltaShift;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'DELTAC[' + b + ']', n, stack); }\n\t\n\t    for (var i = 0; i < n; i++) {\n\t        var c = stack.pop();\n\t        var arg = stack.pop();\n\t        var appem = base + ((arg & 0xF0) >> 4);\n\t        if (appem !== ppem) { continue; }\n\t\n\t        var mag = (arg & 0x0F) - 8;\n\t        if (mag >= 0) { mag++; }\n\t\n\t        var delta = mag * ds;\n\t\n\t        if (exports.DEBUG) { console.log(state.step, 'DELTACFIX', c, 'by', delta); }\n\t\n\t        state.cvt[c] += delta;\n\t    }\n\t}\n\t\n\t// SROUND[] Super ROUND\n\t// 0x76\n\tfunction SROUND(state) {\n\t    var n = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SROUND[]', n); }\n\t\n\t    state.round = roundSuper;\n\t\n\t    var period;\n\t\n\t    switch (n & 0xC0) {\n\t        case 0x00:\n\t            period = 0.5;\n\t            break;\n\t        case 0x40:\n\t            period = 1;\n\t            break;\n\t        case 0x80:\n\t            period = 2;\n\t            break;\n\t        default:\n\t            throw new Error('invalid SROUND value');\n\t    }\n\t\n\t    state.srPeriod = period;\n\t\n\t    switch (n & 0x30) {\n\t        case 0x00:\n\t            state.srPhase = 0;\n\t            break;\n\t        case 0x10:\n\t            state.srPhase = 0.25 * period;\n\t            break;\n\t        case 0x20:\n\t            state.srPhase = 0.5  * period;\n\t            break;\n\t        case 0x30:\n\t            state.srPhase = 0.75 * period;\n\t            break;\n\t        default: throw new Error('invalid SROUND value');\n\t    }\n\t\n\t    n &= 0x0F;\n\t\n\t    if (n === 0) { state.srThreshold = 0; }\n\t    else { state.srThreshold = (n / 8 - 0.5) * period; }\n\t}\n\t\n\t// S45ROUND[] Super ROUND 45 degrees\n\t// 0x77\n\tfunction S45ROUND(state) {\n\t    var n = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'S45ROUND[]', n); }\n\t\n\t    state.round = roundSuper;\n\t\n\t    var period;\n\t\n\t    switch (n & 0xC0) {\n\t        case 0x00:\n\t            period = Math.sqrt(2) / 2;\n\t            break;\n\t        case 0x40:\n\t            period = Math.sqrt(2);\n\t            break;\n\t        case 0x80:\n\t            period = 2 * Math.sqrt(2);\n\t            break;\n\t        default:\n\t            throw new Error('invalid S45ROUND value');\n\t    }\n\t\n\t    state.srPeriod = period;\n\t\n\t    switch (n & 0x30) {\n\t        case 0x00:\n\t            state.srPhase = 0;\n\t            break;\n\t        case 0x10:\n\t            state.srPhase = 0.25 * period;\n\t            break;\n\t        case 0x20:\n\t            state.srPhase = 0.5  * period;\n\t            break;\n\t        case 0x30:\n\t            state.srPhase = 0.75 * period;\n\t            break;\n\t        default:\n\t            throw new Error('invalid S45ROUND value');\n\t    }\n\t\n\t    n &= 0x0F;\n\t\n\t    if (n === 0) { state.srThreshold = 0; }\n\t    else { state.srThreshold = (n / 8 - 0.5) * period; }\n\t}\n\t\n\t// ROFF[] Round Off\n\t// 0x7A\n\tfunction ROFF(state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'ROFF[]'); }\n\t\n\t    state.round = roundOff;\n\t}\n\t\n\t// RUTG[] Round Up To Grid\n\t// 0x7C\n\tfunction RUTG(state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'RUTG[]'); }\n\t\n\t    state.round = roundUpToGrid;\n\t}\n\t\n\t// RDTG[] Round Down To Grid\n\t// 0x7D\n\tfunction RDTG(state) {\n\t    if (exports.DEBUG) { console.log(state.step, 'RDTG[]'); }\n\t\n\t    state.round = roundDownToGrid;\n\t}\n\t\n\t// SCANCTRL[] SCAN conversion ConTRoL\n\t// 0x85\n\tfunction SCANCTRL(state) {\n\t    var n = state.stack.pop();\n\t\n\t    // ignored by opentype.js\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'SCANCTRL[]', n); }\n\t}\n\t\n\t// SDPVTL[a] Set Dual Projection Vector To Line\n\t// 0x86-0x87\n\tfunction SDPVTL(a, state) {\n\t    var stack = state.stack;\n\t    var p2i = stack.pop();\n\t    var p1i = stack.pop();\n\t    var p2 = state.z2[p2i];\n\t    var p1 = state.z1[p1i];\n\t\n\t    if (exports.DEBUG) { console.log('SDPVTL[' + a + ']', p2i, p1i); }\n\t\n\t    var dx;\n\t    var dy;\n\t\n\t    if (!a) {\n\t        dx = p1.x - p2.x;\n\t        dy = p1.y - p2.y;\n\t    } else {\n\t        dx = p2.y - p1.y;\n\t        dy = p1.x - p2.x;\n\t    }\n\t\n\t    state.dpv = getUnitVector(dx, dy);\n\t}\n\t\n\t// GETINFO[] GET INFOrmation\n\t// 0x88\n\tfunction GETINFO(state) {\n\t    var stack = state.stack;\n\t    var sel = stack.pop();\n\t    var r = 0;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'GETINFO[]', sel); }\n\t\n\t    // v35 as in no subpixel hinting\n\t    if (sel & 0x01) { r = 35; }\n\t\n\t    // TODO rotation and stretch currently not supported\n\t    // and thus those GETINFO are always 0.\n\t\n\t    // opentype.js is always gray scaling\n\t    if (sel & 0x20) { r |= 0x1000; }\n\t\n\t    stack.push(r);\n\t}\n\t\n\t// ROLL[] ROLL the top three stack elements\n\t// 0x8A\n\tfunction ROLL(state) {\n\t    var stack = state.stack;\n\t    var a = stack.pop();\n\t    var b = stack.pop();\n\t    var c = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'ROLL[]'); }\n\t\n\t    stack.push(b);\n\t    stack.push(a);\n\t    stack.push(c);\n\t}\n\t\n\t// MAX[] MAXimum of top two stack elements\n\t// 0x8B\n\tfunction MAX(state) {\n\t    var stack = state.stack;\n\t    var e2 = stack.pop();\n\t    var e1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'MAX[]', e2, e1); }\n\t\n\t    stack.push(Math.max(e1, e2));\n\t}\n\t\n\t// MIN[] MINimum of top two stack elements\n\t// 0x8C\n\tfunction MIN(state) {\n\t    var stack = state.stack;\n\t    var e2 = stack.pop();\n\t    var e1 = stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'MIN[]', e2, e1); }\n\t\n\t    stack.push(Math.min(e1, e2));\n\t}\n\t\n\t// SCANTYPE[] SCANTYPE\n\t// 0x8D\n\tfunction SCANTYPE(state) {\n\t    var n = state.stack.pop();\n\t    // ignored by opentype.js\n\t    if (exports.DEBUG) { console.log(state.step, 'SCANTYPE[]', n); }\n\t}\n\t\n\t// INSTCTRL[] INSTCTRL\n\t// 0x8D\n\tfunction INSTCTRL(state) {\n\t    var s = state.stack.pop();\n\t    var v = state.stack.pop();\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'INSTCTRL[]', s, v); }\n\t\n\t    switch (s) {\n\t        case 1 : state.inhibitGridFit = !!v; return;\n\t        case 2 : state.ignoreCvt = !!v; return;\n\t        default: throw new Error('invalid INSTCTRL[] selector');\n\t    }\n\t}\n\t\n\t// PUSHB[abc] PUSH Bytes\n\t// 0xB0-0xB7\n\tfunction PUSHB(n, state) {\n\t    var stack = state.stack;\n\t    var prog = state.prog;\n\t    var ip = state.ip;\n\t\n\t    if (exports.DEBUG) { console.log(state.step, 'PUSHB[' + n + ']'); }\n\t\n\t    for (var i = 0; i < n; i++) { stack.push(prog[++ip]); }\n\t\n\t    state.ip = ip;\n\t}\n\t\n\t// PUSHW[abc] PUSH Words\n\t// 0xB8-0xBF\n\tfunction PUSHW(n, state) {\n\t    var ip = state.ip;\n\t    var prog = state.prog;\n\t    var stack = state.stack;\n\t\n\t    if (exports.DEBUG) { console.log(state.ip, 'PUSHW[' + n + ']'); }\n\t\n\t    for (var i = 0; i < n; i++) {\n\t        var w = (prog[++ip] << 8) | prog[++ip];\n\t        if (w & 0x8000) { w = -((w ^ 0xffff) + 1); }\n\t        stack.push(w);\n\t    }\n\t\n\t    state.ip = ip;\n\t}\n\t\n\t// MDRP[abcde] Move Direct Relative Point\n\t// 0xD0-0xEF\n\t// (if indirect is 0)\n\t//\n\t// and\n\t//\n\t// MIRP[abcde] Move Indirect Relative Point\n\t// 0xE0-0xFF\n\t// (if indirect is 1)\n\t\n\tfunction MDRP_MIRP(indirect, setRp0, keepD, ro, dt, state) {\n\t    var stack = state.stack;\n\t    var cvte = indirect && stack.pop();\n\t    var pi = stack.pop();\n\t    var rp0i = state.rp0;\n\t    var rp = state.z0[rp0i];\n\t    var p = state.z1[pi];\n\t\n\t    var md = state.minDis;\n\t    var fv = state.fv;\n\t    var pv = state.dpv;\n\t    var od; // original distance\n\t    var d; // moving distance\n\t    var sign; // sign of distance\n\t    var cv;\n\t\n\t    d = od = pv.distance(p, rp, true, true);\n\t    sign = d >= 0 ? 1 : -1; // Math.sign would be 0 in case of 0\n\t\n\t    // TODO consider autoFlip\n\t    d = Math.abs(d);\n\t\n\t    if (indirect) {\n\t        cv = state.cvt[cvte];\n\t\n\t        if (ro && Math.abs(d - cv) < state.cvCutIn) { d = cv; }\n\t    }\n\t\n\t    if (keepD && d < md) { d = md; }\n\t\n\t    if (ro) { d = state.round(d); }\n\t\n\t    fv.setRelative(p, rp, sign * d, pv);\n\t    fv.touch(p);\n\t\n\t    if (exports.DEBUG) {\n\t        console.log(\n\t            state.step,\n\t            (indirect ? 'MIRP[' : 'MDRP[') +\n\t            (setRp0 ? 'M' : 'm') +\n\t            (keepD ? '>' : '_') +\n\t            (ro ? 'R' : '_') +\n\t            (dt === 0 ? 'Gr' : (dt === 1 ? 'Bl' : (dt === 2 ? 'Wh' : ''))) +\n\t            ']',\n\t            indirect ?\n\t                cvte + '(' + state.cvt[cvte] + ',' +  cv + ')' :\n\t                '',\n\t            pi,\n\t            '(d =', od, '->', sign * d, ')'\n\t        );\n\t    }\n\t\n\t    state.rp1 = state.rp0;\n\t    state.rp2 = pi;\n\t    if (setRp0) { state.rp0 = pi; }\n\t}\n\t\n\t/*\n\t* The instruction table.\n\t*/\n\tinstructionTable = [\n\t    /* 0x00 */ SVTCA.bind(undefined, yUnitVector),\n\t    /* 0x01 */ SVTCA.bind(undefined, xUnitVector),\n\t    /* 0x02 */ SPVTCA.bind(undefined, yUnitVector),\n\t    /* 0x03 */ SPVTCA.bind(undefined, xUnitVector),\n\t    /* 0x04 */ SFVTCA.bind(undefined, yUnitVector),\n\t    /* 0x05 */ SFVTCA.bind(undefined, xUnitVector),\n\t    /* 0x06 */ SPVTL.bind(undefined, 0),\n\t    /* 0x07 */ SPVTL.bind(undefined, 1),\n\t    /* 0x08 */ SFVTL.bind(undefined, 0),\n\t    /* 0x09 */ SFVTL.bind(undefined, 1),\n\t    /* 0x0A */ SPVFS,\n\t    /* 0x0B */ SFVFS,\n\t    /* 0x0C */ GPV,\n\t    /* 0x0D */ GFV,\n\t    /* 0x0E */ SFVTPV,\n\t    /* 0x0F */ ISECT,\n\t    /* 0x10 */ SRP0,\n\t    /* 0x11 */ SRP1,\n\t    /* 0x12 */ SRP2,\n\t    /* 0x13 */ SZP0,\n\t    /* 0x14 */ SZP1,\n\t    /* 0x15 */ SZP2,\n\t    /* 0x16 */ SZPS,\n\t    /* 0x17 */ SLOOP,\n\t    /* 0x18 */ RTG,\n\t    /* 0x19 */ RTHG,\n\t    /* 0x1A */ SMD,\n\t    /* 0x1B */ ELSE,\n\t    /* 0x1C */ JMPR,\n\t    /* 0x1D */ SCVTCI,\n\t    /* 0x1E */ undefined,   // TODO SSWCI\n\t    /* 0x1F */ undefined,   // TODO SSW\n\t    /* 0x20 */ DUP,\n\t    /* 0x21 */ POP,\n\t    /* 0x22 */ CLEAR,\n\t    /* 0x23 */ SWAP,\n\t    /* 0x24 */ DEPTH,\n\t    /* 0x25 */ CINDEX,\n\t    /* 0x26 */ MINDEX,\n\t    /* 0x27 */ undefined,   // TODO ALIGNPTS\n\t    /* 0x28 */ undefined,\n\t    /* 0x29 */ undefined,   // TODO UTP\n\t    /* 0x2A */ LOOPCALL,\n\t    /* 0x2B */ CALL,\n\t    /* 0x2C */ FDEF,\n\t    /* 0x2D */ undefined,   // ENDF (eaten by FDEF)\n\t    /* 0x2E */ MDAP.bind(undefined, 0),\n\t    /* 0x2F */ MDAP.bind(undefined, 1),\n\t    /* 0x30 */ IUP.bind(undefined, yUnitVector),\n\t    /* 0x31 */ IUP.bind(undefined, xUnitVector),\n\t    /* 0x32 */ SHP.bind(undefined, 0),\n\t    /* 0x33 */ SHP.bind(undefined, 1),\n\t    /* 0x34 */ SHC.bind(undefined, 0),\n\t    /* 0x35 */ SHC.bind(undefined, 1),\n\t    /* 0x36 */ SHZ.bind(undefined, 0),\n\t    /* 0x37 */ SHZ.bind(undefined, 1),\n\t    /* 0x38 */ SHPIX,\n\t    /* 0x39 */ IP,\n\t    /* 0x3A */ MSIRP.bind(undefined, 0),\n\t    /* 0x3B */ MSIRP.bind(undefined, 1),\n\t    /* 0x3C */ ALIGNRP,\n\t    /* 0x3D */ RTDG,\n\t    /* 0x3E */ MIAP.bind(undefined, 0),\n\t    /* 0x3F */ MIAP.bind(undefined, 1),\n\t    /* 0x40 */ NPUSHB,\n\t    /* 0x41 */ NPUSHW,\n\t    /* 0x42 */ WS,\n\t    /* 0x43 */ RS,\n\t    /* 0x44 */ WCVTP,\n\t    /* 0x45 */ RCVT,\n\t    /* 0x46 */ GC.bind(undefined, 0),\n\t    /* 0x47 */ GC.bind(undefined, 1),\n\t    /* 0x48 */ undefined,   // TODO SCFS\n\t    /* 0x49 */ MD.bind(undefined, 0),\n\t    /* 0x4A */ MD.bind(undefined, 1),\n\t    /* 0x4B */ MPPEM,\n\t    /* 0x4C */ undefined,   // TODO MPS\n\t    /* 0x4D */ FLIPON,\n\t    /* 0x4E */ undefined,   // TODO FLIPOFF\n\t    /* 0x4F */ undefined,   // TODO DEBUG\n\t    /* 0x50 */ LT,\n\t    /* 0x51 */ LTEQ,\n\t    /* 0x52 */ GT,\n\t    /* 0x53 */ GTEQ,\n\t    /* 0x54 */ EQ,\n\t    /* 0x55 */ NEQ,\n\t    /* 0x56 */ ODD,\n\t    /* 0x57 */ EVEN,\n\t    /* 0x58 */ IF,\n\t    /* 0x59 */ EIF,\n\t    /* 0x5A */ AND,\n\t    /* 0x5B */ OR,\n\t    /* 0x5C */ NOT,\n\t    /* 0x5D */ DELTAP123.bind(undefined, 1),\n\t    /* 0x5E */ SDB,\n\t    /* 0x5F */ SDS,\n\t    /* 0x60 */ ADD,\n\t    /* 0x61 */ SUB,\n\t    /* 0x62 */ DIV,\n\t    /* 0x63 */ MUL,\n\t    /* 0x64 */ ABS,\n\t    /* 0x65 */ NEG,\n\t    /* 0x66 */ FLOOR,\n\t    /* 0x67 */ CEILING,\n\t    /* 0x68 */ ROUND.bind(undefined, 0),\n\t    /* 0x69 */ ROUND.bind(undefined, 1),\n\t    /* 0x6A */ ROUND.bind(undefined, 2),\n\t    /* 0x6B */ ROUND.bind(undefined, 3),\n\t    /* 0x6C */ undefined,   // TODO NROUND[ab]\n\t    /* 0x6D */ undefined,   // TODO NROUND[ab]\n\t    /* 0x6E */ undefined,   // TODO NROUND[ab]\n\t    /* 0x6F */ undefined,   // TODO NROUND[ab]\n\t    /* 0x70 */ WCVTF,\n\t    /* 0x71 */ DELTAP123.bind(undefined, 2),\n\t    /* 0x72 */ DELTAP123.bind(undefined, 3),\n\t    /* 0x73 */ DELTAC123.bind(undefined, 1),\n\t    /* 0x74 */ DELTAC123.bind(undefined, 2),\n\t    /* 0x75 */ DELTAC123.bind(undefined, 3),\n\t    /* 0x76 */ SROUND,\n\t    /* 0x77 */ S45ROUND,\n\t    /* 0x78 */ undefined,   // TODO JROT[]\n\t    /* 0x79 */ undefined,   // TODO JROF[]\n\t    /* 0x7A */ ROFF,\n\t    /* 0x7B */ undefined,\n\t    /* 0x7C */ RUTG,\n\t    /* 0x7D */ RDTG,\n\t    /* 0x7E */ POP, // actually SANGW, supposed to do only a pop though\n\t    /* 0x7F */ POP, // actually AA, supposed to do only a pop though\n\t    /* 0x80 */ undefined,   // TODO FLIPPT\n\t    /* 0x81 */ undefined,   // TODO FLIPRGON\n\t    /* 0x82 */ undefined,   // TODO FLIPRGOFF\n\t    /* 0x83 */ undefined,\n\t    /* 0x84 */ undefined,\n\t    /* 0x85 */ SCANCTRL,\n\t    /* 0x86 */ SDPVTL.bind(undefined, 0),\n\t    /* 0x87 */ SDPVTL.bind(undefined, 1),\n\t    /* 0x88 */ GETINFO,\n\t    /* 0x89 */ undefined,   // TODO IDEF\n\t    /* 0x8A */ ROLL,\n\t    /* 0x8B */ MAX,\n\t    /* 0x8C */ MIN,\n\t    /* 0x8D */ SCANTYPE,\n\t    /* 0x8E */ INSTCTRL,\n\t    /* 0x8F */ undefined,\n\t    /* 0x90 */ undefined,\n\t    /* 0x91 */ undefined,\n\t    /* 0x92 */ undefined,\n\t    /* 0x93 */ undefined,\n\t    /* 0x94 */ undefined,\n\t    /* 0x95 */ undefined,\n\t    /* 0x96 */ undefined,\n\t    /* 0x97 */ undefined,\n\t    /* 0x98 */ undefined,\n\t    /* 0x99 */ undefined,\n\t    /* 0x9A */ undefined,\n\t    /* 0x9B */ undefined,\n\t    /* 0x9C */ undefined,\n\t    /* 0x9D */ undefined,\n\t    /* 0x9E */ undefined,\n\t    /* 0x9F */ undefined,\n\t    /* 0xA0 */ undefined,\n\t    /* 0xA1 */ undefined,\n\t    /* 0xA2 */ undefined,\n\t    /* 0xA3 */ undefined,\n\t    /* 0xA4 */ undefined,\n\t    /* 0xA5 */ undefined,\n\t    /* 0xA6 */ undefined,\n\t    /* 0xA7 */ undefined,\n\t    /* 0xA8 */ undefined,\n\t    /* 0xA9 */ undefined,\n\t    /* 0xAA */ undefined,\n\t    /* 0xAB */ undefined,\n\t    /* 0xAC */ undefined,\n\t    /* 0xAD */ undefined,\n\t    /* 0xAE */ undefined,\n\t    /* 0xAF */ undefined,\n\t    /* 0xB0 */ PUSHB.bind(undefined, 1),\n\t    /* 0xB1 */ PUSHB.bind(undefined, 2),\n\t    /* 0xB2 */ PUSHB.bind(undefined, 3),\n\t    /* 0xB3 */ PUSHB.bind(undefined, 4),\n\t    /* 0xB4 */ PUSHB.bind(undefined, 5),\n\t    /* 0xB5 */ PUSHB.bind(undefined, 6),\n\t    /* 0xB6 */ PUSHB.bind(undefined, 7),\n\t    /* 0xB7 */ PUSHB.bind(undefined, 8),\n\t    /* 0xB8 */ PUSHW.bind(undefined, 1),\n\t    /* 0xB9 */ PUSHW.bind(undefined, 2),\n\t    /* 0xBA */ PUSHW.bind(undefined, 3),\n\t    /* 0xBB */ PUSHW.bind(undefined, 4),\n\t    /* 0xBC */ PUSHW.bind(undefined, 5),\n\t    /* 0xBD */ PUSHW.bind(undefined, 6),\n\t    /* 0xBE */ PUSHW.bind(undefined, 7),\n\t    /* 0xBF */ PUSHW.bind(undefined, 8),\n\t    /* 0xC0 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 0, 0),\n\t    /* 0xC1 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 0, 1),\n\t    /* 0xC2 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 0, 2),\n\t    /* 0xC3 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 0, 3),\n\t    /* 0xC4 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 1, 0),\n\t    /* 0xC5 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 1, 1),\n\t    /* 0xC6 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 1, 2),\n\t    /* 0xC7 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 1, 3),\n\t    /* 0xC8 */ MDRP_MIRP.bind(undefined, 0, 0, 1, 0, 0),\n\t    /* 0xC9 */ MDRP_MIRP.bind(undefined, 0, 0, 1, 0, 1),\n\t    /* 0xCA */ MDRP_MIRP.bind(undefined, 0, 0, 1, 0, 2),\n\t    /* 0xCB */ MDRP_MIRP.bind(undefined, 0, 0, 1, 0, 3),\n\t    /* 0xCC */ MDRP_MIRP.bind(undefined, 0, 0, 1, 1, 0),\n\t    /* 0xCD */ MDRP_MIRP.bind(undefined, 0, 0, 1, 1, 1),\n\t    /* 0xCE */ MDRP_MIRP.bind(undefined, 0, 0, 1, 1, 2),\n\t    /* 0xCF */ MDRP_MIRP.bind(undefined, 0, 0, 1, 1, 3),\n\t    /* 0xD0 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 0, 0),\n\t    /* 0xD1 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 0, 1),\n\t    /* 0xD2 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 0, 2),\n\t    /* 0xD3 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 0, 3),\n\t    /* 0xD4 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 1, 0),\n\t    /* 0xD5 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 1, 1),\n\t    /* 0xD6 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 1, 2),\n\t    /* 0xD7 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 1, 3),\n\t    /* 0xD8 */ MDRP_MIRP.bind(undefined, 0, 1, 1, 0, 0),\n\t    /* 0xD9 */ MDRP_MIRP.bind(undefined, 0, 1, 1, 0, 1),\n\t    /* 0xDA */ MDRP_MIRP.bind(undefined, 0, 1, 1, 0, 2),\n\t    /* 0xDB */ MDRP_MIRP.bind(undefined, 0, 1, 1, 0, 3),\n\t    /* 0xDC */ MDRP_MIRP.bind(undefined, 0, 1, 1, 1, 0),\n\t    /* 0xDD */ MDRP_MIRP.bind(undefined, 0, 1, 1, 1, 1),\n\t    /* 0xDE */ MDRP_MIRP.bind(undefined, 0, 1, 1, 1, 2),\n\t    /* 0xDF */ MDRP_MIRP.bind(undefined, 0, 1, 1, 1, 3),\n\t    /* 0xE0 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 0, 0),\n\t    /* 0xE1 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 0, 1),\n\t    /* 0xE2 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 0, 2),\n\t    /* 0xE3 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 0, 3),\n\t    /* 0xE4 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 1, 0),\n\t    /* 0xE5 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 1, 1),\n\t    /* 0xE6 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 1, 2),\n\t    /* 0xE7 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 1, 3),\n\t    /* 0xE8 */ MDRP_MIRP.bind(undefined, 1, 0, 1, 0, 0),\n\t    /* 0xE9 */ MDRP_MIRP.bind(undefined, 1, 0, 1, 0, 1),\n\t    /* 0xEA */ MDRP_MIRP.bind(undefined, 1, 0, 1, 0, 2),\n\t    /* 0xEB */ MDRP_MIRP.bind(undefined, 1, 0, 1, 0, 3),\n\t    /* 0xEC */ MDRP_MIRP.bind(undefined, 1, 0, 1, 1, 0),\n\t    /* 0xED */ MDRP_MIRP.bind(undefined, 1, 0, 1, 1, 1),\n\t    /* 0xEE */ MDRP_MIRP.bind(undefined, 1, 0, 1, 1, 2),\n\t    /* 0xEF */ MDRP_MIRP.bind(undefined, 1, 0, 1, 1, 3),\n\t    /* 0xF0 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 0, 0),\n\t    /* 0xF1 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 0, 1),\n\t    /* 0xF2 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 0, 2),\n\t    /* 0xF3 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 0, 3),\n\t    /* 0xF4 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 1, 0),\n\t    /* 0xF5 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 1, 1),\n\t    /* 0xF6 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 1, 2),\n\t    /* 0xF7 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 1, 3),\n\t    /* 0xF8 */ MDRP_MIRP.bind(undefined, 1, 1, 1, 0, 0),\n\t    /* 0xF9 */ MDRP_MIRP.bind(undefined, 1, 1, 1, 0, 1),\n\t    /* 0xFA */ MDRP_MIRP.bind(undefined, 1, 1, 1, 0, 2),\n\t    /* 0xFB */ MDRP_MIRP.bind(undefined, 1, 1, 1, 0, 3),\n\t    /* 0xFC */ MDRP_MIRP.bind(undefined, 1, 1, 1, 1, 0),\n\t    /* 0xFD */ MDRP_MIRP.bind(undefined, 1, 1, 1, 1, 1),\n\t    /* 0xFE */ MDRP_MIRP.bind(undefined, 1, 1, 1, 1, 2),\n\t    /* 0xFF */ MDRP_MIRP.bind(undefined, 1, 1, 1, 1, 3)\n\t];\n\t\n\t\n\t\n\t/*****************************\n\t  Mathematical Considerations\n\t******************************\n\t\n\tfv ... refers to freedom vector\n\tpv ... refers to projection vector\n\trp ... refers to reference point\n\tp  ... refers to to point being operated on\n\td  ... refers to distance\n\t\n\tSETRELATIVE:\n\t============\n\t\n\tcase freedom vector == x-axis:\n\t------------------------------\n\t\n\t                        (pv)\n\t                     .-'\n\t              rpd .-'\n\t               .-*\n\t          d .-'90°'\n\t         .-'       '\n\t      .-'           '\n\t   *-'               ' b\n\t  rp                  '\n\t                       '\n\t                        '\n\t            p *----------*-------------- (fv)\n\t                          pm\n\t\n\t  rpdx = rpx + d * pv.x\n\t  rpdy = rpy + d * pv.y\n\t\n\t  equation of line b\n\t\n\t   y - rpdy = pvns * (x- rpdx)\n\t\n\t   y = p.y\n\t\n\t   x = rpdx + ( p.y - rpdy ) / pvns\n\t\n\t\n\tcase freedom vector == y-axis:\n\t------------------------------\n\t\n\t    * pm\n\t    |\\\n\t    | \\\n\t    |  \\\n\t    |   \\\n\t    |    \\\n\t    |     \\\n\t    |      \\\n\t    |       \\\n\t    |        \\\n\t    |         \\ b\n\t    |          \\\n\t    |           \\\n\t    |            \\    .-' (pv)\n\t    |         90° \\.-'\n\t    |           .-'* rpd\n\t    |        .-'\n\t    *     *-'  d\n\t    p     rp\n\t\n\t  rpdx = rpx + d * pv.x\n\t  rpdy = rpy + d * pv.y\n\t\n\t  equation of line b:\n\t           pvns ... normal slope to pv\n\t\n\t   y - rpdy = pvns * (x - rpdx)\n\t\n\t   x = p.x\n\t\n\t   y = rpdy +  pvns * (p.x - rpdx)\n\t\n\t\n\t\n\tgeneric case:\n\t-------------\n\t\n\t\n\t                              .'(fv)\n\t                            .'\n\t                          .* pm\n\t                        .' !\n\t                      .'    .\n\t                    .'      !\n\t                  .'         . b\n\t                .'           !\n\t               *              .\n\t              p               !\n\t                         90°   .    ... (pv)\n\t                           ...-*-'''\n\t                  ...---'''    rpd\n\t         ...---'''   d\n\t   *--'''\n\t  rp\n\t\n\t    rpdx = rpx + d * pv.x\n\t    rpdy = rpy + d * pv.y\n\t\n\t equation of line b:\n\t    pvns... normal slope to pv\n\t\n\t    y - rpdy = pvns * (x - rpdx)\n\t\n\t equation of freedom vector line:\n\t    fvs ... slope of freedom vector (=fy/fx)\n\t\n\t    y - py = fvs * (x - px)\n\t\n\t\n\t  on pm both equations are true for same x/y\n\t\n\t    y - rpdy = pvns * (x - rpdx)\n\t\n\t    y - py = fvs * (x - px)\n\t\n\t  form to y and set equal:\n\t\n\t    pvns * (x - rpdx) + rpdy = fvs * (x - px) + py\n\t\n\t  expand:\n\t\n\t    pvns * x - pvns * rpdx + rpdy = fvs * x - fvs * px + py\n\t\n\t  switch:\n\t\n\t    fvs * x - fvs * px + py = pvns * x - pvns * rpdx + rpdy\n\t\n\t  solve for x:\n\t\n\t    fvs * x - pvns * x = fvs * px - pvns * rpdx - py + rpdy\n\t\n\t\n\t\n\t          fvs * px - pvns * rpdx + rpdy - py\n\t    x =  -----------------------------------\n\t                 fvs - pvns\n\t\n\t  and:\n\t\n\t    y = fvs * (x - px) + py\n\t\n\t\n\t\n\tINTERPOLATE:\n\t============\n\t\n\tExamples of point interpolation.\n\t\n\tThe weight of the movement of the reference point gets bigger\n\tthe further the other reference point is away, thus the safest\n\toption (that is avoiding 0/0 divisions) is to weight the\n\toriginal distance of the other point by the sum of both distances.\n\t\n\tIf the sum of both distances is 0, then move the point by the\n\tarithmetic average of the movement of both reference points.\n\t\n\t\n\t\n\t\n\t           (+6)\n\t    rp1o *---->*rp1\n\t         .     .                          (+12)\n\t         .     .                  rp2o *---------->* rp2\n\t         .     .                       .           .\n\t         .     .                       .           .\n\t         .    10          20           .           .\n\t         |.........|...................|           .\n\t               .   .                               .\n\t               .   . (+8)                          .\n\t                po *------>*p                      .\n\t               .           .                       .\n\t               .    12     .          24           .\n\t               |...........|.......................|\n\t                                  36\n\t\n\t\n\t-------\n\t\n\t\n\t\n\t           (+10)\n\t    rp1o *-------->*rp1\n\t         .         .                      (-10)\n\t         .         .              rp2 *<---------* rpo2\n\t         .         .                   .         .\n\t         .         .                   .         .\n\t         .    10   .          30       .         .\n\t         |.........|.............................|\n\t                   .                   .\n\t                   . (+5)              .\n\t                po *--->* p            .\n\t                   .    .              .\n\t                   .    .   20         .\n\t                   |....|..............|\n\t                     5        15\n\t\n\t\n\t-------\n\t\n\t\n\t           (+10)\n\t    rp1o *-------->*rp1\n\t         .         .\n\t         .         .\n\t    rp2o *-------->*rp2\n\t\n\t\n\t                               (+10)\n\t                          po *-------->* p\n\t\n\t-------\n\t\n\t\n\t           (+10)\n\t    rp1o *-------->*rp1\n\t         .         .\n\t         .         .(+30)\n\t    rp2o *---------------------------->*rp2\n\t\n\t\n\t                                        (+25)\n\t                          po *----------------------->* p\n\t\n\t\n\t\n\tvim: set ts=4 sw=4 expandtab:\n\t*****/\n\t\n\t// The Font object\n\t\n\t/**\n\t * @typedef FontOptions\n\t * @type Object\n\t * @property {Boolean} empty - whether to create a new empty font\n\t * @property {string} familyName\n\t * @property {string} styleName\n\t * @property {string=} fullName\n\t * @property {string=} postScriptName\n\t * @property {string=} designer\n\t * @property {string=} designerURL\n\t * @property {string=} manufacturer\n\t * @property {string=} manufacturerURL\n\t * @property {string=} license\n\t * @property {string=} licenseURL\n\t * @property {string=} version\n\t * @property {string=} description\n\t * @property {string=} copyright\n\t * @property {string=} trademark\n\t * @property {Number} unitsPerEm\n\t * @property {Number} ascender\n\t * @property {Number} descender\n\t * @property {Number} createdTimestamp\n\t * @property {string=} weightClass\n\t * @property {string=} widthClass\n\t * @property {string=} fsSelection\n\t */\n\t\n\t/**\n\t * A Font represents a loaded OpenType font file.\n\t * It contains a set of glyphs and methods to draw text on a drawing context,\n\t * or to get a path representing the text.\n\t * @exports opentype.Font\n\t * @class\n\t * @param {FontOptions}\n\t * @constructor\n\t */\n\tfunction Font(options) {\n\t    options = options || {};\n\t\n\t    if (!options.empty) {\n\t        // Check that we've provided the minimum set of names.\n\t        checkArgument(options.familyName, 'When creating a new Font object, familyName is required.');\n\t        checkArgument(options.styleName, 'When creating a new Font object, styleName is required.');\n\t        checkArgument(options.unitsPerEm, 'When creating a new Font object, unitsPerEm is required.');\n\t        checkArgument(options.ascender, 'When creating a new Font object, ascender is required.');\n\t        checkArgument(options.descender, 'When creating a new Font object, descender is required.');\n\t        checkArgument(options.descender < 0, 'Descender should be negative (e.g. -512).');\n\t\n\t        // OS X will complain if the names are empty, so we put a single space everywhere by default.\n\t        this.names = {\n\t            fontFamily: {en: options.familyName || ' '},\n\t            fontSubfamily: {en: options.styleName || ' '},\n\t            fullName: {en: options.fullName || options.familyName + ' ' + options.styleName},\n\t            postScriptName: {en: options.postScriptName || options.familyName + options.styleName},\n\t            designer: {en: options.designer || ' '},\n\t            designerURL: {en: options.designerURL || ' '},\n\t            manufacturer: {en: options.manufacturer || ' '},\n\t            manufacturerURL: {en: options.manufacturerURL || ' '},\n\t            license: {en: options.license || ' '},\n\t            licenseURL: {en: options.licenseURL || ' '},\n\t            version: {en: options.version || 'Version 0.1'},\n\t            description: {en: options.description || ' '},\n\t            copyright: {en: options.copyright || ' '},\n\t            trademark: {en: options.trademark || ' '}\n\t        };\n\t        this.unitsPerEm = options.unitsPerEm || 1000;\n\t        this.ascender = options.ascender;\n\t        this.descender = options.descender;\n\t        this.createdTimestamp = options.createdTimestamp;\n\t        this.tables = { os2: {\n\t            usWeightClass: options.weightClass || this.usWeightClasses.MEDIUM,\n\t            usWidthClass: options.widthClass || this.usWidthClasses.MEDIUM,\n\t            fsSelection: options.fsSelection || this.fsSelectionValues.REGULAR\n\t        } };\n\t    }\n\t\n\t    this.supported = true; // Deprecated: parseBuffer will throw an error if font is not supported.\n\t    this.glyphs = new glyphset.GlyphSet(this, options.glyphs || []);\n\t    this.encoding = new DefaultEncoding(this);\n\t    this.substitution = new Substitution(this);\n\t    this.tables = this.tables || {};\n\t\n\t    Object.defineProperty(this, 'hinting', {\n\t        get: function() {\n\t            if (this._hinting) { return this._hinting; }\n\t            if (this.outlinesFormat === 'truetype') {\n\t                return (this._hinting = new Hinting(this));\n\t            }\n\t        }\n\t    });\n\t}\n\t\n\t/**\n\t * Check if the font has a glyph for the given character.\n\t * @param  {string}\n\t * @return {Boolean}\n\t */\n\tFont.prototype.hasChar = function(c) {\n\t    return this.encoding.charToGlyphIndex(c) !== null;\n\t};\n\t\n\t/**\n\t * Convert the given character to a single glyph index.\n\t * Note that this function assumes that there is a one-to-one mapping between\n\t * the given character and a glyph; for complex scripts this might not be the case.\n\t * @param  {string}\n\t * @return {Number}\n\t */\n\tFont.prototype.charToGlyphIndex = function(s) {\n\t    return this.encoding.charToGlyphIndex(s);\n\t};\n\t\n\t/**\n\t * Convert the given character to a single Glyph object.\n\t * Note that this function assumes that there is a one-to-one mapping between\n\t * the given character and a glyph; for complex scripts this might not be the case.\n\t * @param  {string}\n\t * @return {opentype.Glyph}\n\t */\n\tFont.prototype.charToGlyph = function(c) {\n\t    var glyphIndex = this.charToGlyphIndex(c);\n\t    var glyph = this.glyphs.get(glyphIndex);\n\t    if (!glyph) {\n\t        // .notdef\n\t        glyph = this.glyphs.get(0);\n\t    }\n\t\n\t    return glyph;\n\t};\n\t\n\t/**\n\t * Convert the given text to a list of Glyph objects.\n\t * Note that there is no strict one-to-one mapping between characters and\n\t * glyphs, so the list of returned glyphs can be larger or smaller than the\n\t * length of the given string.\n\t * @param  {string}\n\t * @param  {GlyphRenderOptions} [options]\n\t * @return {opentype.Glyph[]}\n\t */\n\tFont.prototype.stringToGlyphs = function(s, options) {\n\t    var this$1 = this;\n\t\n\t    options = options || this.defaultRenderOptions;\n\t    // Get glyph indexes\n\t    var indexes = [];\n\t    for (var i = 0; i < s.length; i += 1) {\n\t        var c = s[i];\n\t        indexes.push(this$1.charToGlyphIndex(c));\n\t    }\n\t    var length = indexes.length;\n\t\n\t    // Apply substitutions on glyph indexes\n\t    if (options.features) {\n\t        var script = options.script || this.substitution.getDefaultScriptName();\n\t        var manyToOne = [];\n\t        if (options.features.liga) { manyToOne = manyToOne.concat(this.substitution.getFeature('liga', script, options.language)); }\n\t        if (options.features.rlig) { manyToOne = manyToOne.concat(this.substitution.getFeature('rlig', script, options.language)); }\n\t        for (var i$1 = 0; i$1 < length; i$1 += 1) {\n\t            for (var j = 0; j < manyToOne.length; j++) {\n\t                var ligature = manyToOne[j];\n\t                var components = ligature.sub;\n\t                var compCount = components.length;\n\t                var k = 0;\n\t                while (k < compCount && components[k] === indexes[i$1 + k]) { k++; }\n\t                if (k === compCount) {\n\t                    indexes.splice(i$1, compCount, ligature.by);\n\t                    length = length - compCount + 1;\n\t                }\n\t            }\n\t        }\n\t    }\n\t\n\t    // convert glyph indexes to glyph objects\n\t    var glyphs = new Array(length);\n\t    var notdef = this.glyphs.get(0);\n\t    for (var i$2 = 0; i$2 < length; i$2 += 1) {\n\t        glyphs[i$2] = this$1.glyphs.get(indexes[i$2]) || notdef;\n\t    }\n\t    return glyphs;\n\t};\n\t\n\t/**\n\t * @param  {string}\n\t * @return {Number}\n\t */\n\tFont.prototype.nameToGlyphIndex = function(name) {\n\t    return this.glyphNames.nameToGlyphIndex(name);\n\t};\n\t\n\t/**\n\t * @param  {string}\n\t * @return {opentype.Glyph}\n\t */\n\tFont.prototype.nameToGlyph = function(name) {\n\t    var glyphIndex = this.nameToGlyphIndex(name);\n\t    var glyph = this.glyphs.get(glyphIndex);\n\t    if (!glyph) {\n\t        // .notdef\n\t        glyph = this.glyphs.get(0);\n\t    }\n\t\n\t    return glyph;\n\t};\n\t\n\t/**\n\t * @param  {Number}\n\t * @return {String}\n\t */\n\tFont.prototype.glyphIndexToName = function(gid) {\n\t    if (!this.glyphNames.glyphIndexToName) {\n\t        return '';\n\t    }\n\t\n\t    return this.glyphNames.glyphIndexToName(gid);\n\t};\n\t\n\t/**\n\t * Retrieve the value of the kerning pair between the left glyph (or its index)\n\t * and the right glyph (or its index). If no kerning pair is found, return 0.\n\t * The kerning value gets added to the advance width when calculating the spacing\n\t * between glyphs.\n\t * @param  {opentype.Glyph} leftGlyph\n\t * @param  {opentype.Glyph} rightGlyph\n\t * @return {Number}\n\t */\n\tFont.prototype.getKerningValue = function(leftGlyph, rightGlyph) {\n\t    leftGlyph = leftGlyph.index || leftGlyph;\n\t    rightGlyph = rightGlyph.index || rightGlyph;\n\t    var gposKerning = this.getGposKerningValue;\n\t    return gposKerning ? gposKerning(leftGlyph, rightGlyph) :\n\t        (this.kerningPairs[leftGlyph + ',' + rightGlyph] || 0);\n\t};\n\t\n\t/**\n\t * @typedef GlyphRenderOptions\n\t * @type Object\n\t * @property {string} [script] - script used to determine which features to apply. By default, 'DFLT' or 'latn' is used.\n\t *                               See https://www.microsoft.com/typography/otspec/scripttags.htm\n\t * @property {string} [language='dflt'] - language system used to determine which features to apply.\n\t *                                        See https://www.microsoft.com/typography/developers/opentype/languagetags.aspx\n\t * @property {boolean} [kerning=true] - whether to include kerning values\n\t * @property {object} [features] - OpenType Layout feature tags. Used to enable or disable the features of the given script/language system.\n\t *                                 See https://www.microsoft.com/typography/otspec/featuretags.htm\n\t */\n\tFont.prototype.defaultRenderOptions = {\n\t    kerning: true,\n\t    features: {\n\t        liga: true,\n\t        rlig: true\n\t    }\n\t};\n\t\n\t/**\n\t * Helper function that invokes the given callback for each glyph in the given text.\n\t * The callback gets `(glyph, x, y, fontSize, options)`.* @param  {string} text\n\t * @param {string} text - The text to apply.\n\t * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n\t * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n\t * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n\t * @param  {GlyphRenderOptions=} options\n\t * @param  {Function} callback\n\t */\n\tFont.prototype.forEachGlyph = function(text, x, y, fontSize, options, callback) {\n\t    var this$1 = this;\n\t\n\t    x = x !== undefined ? x : 0;\n\t    y = y !== undefined ? y : 0;\n\t    fontSize = fontSize !== undefined ? fontSize : 72;\n\t    options = options || this.defaultRenderOptions;\n\t    var fontScale = 1 / this.unitsPerEm * fontSize;\n\t    var glyphs = this.stringToGlyphs(text, options);\n\t    for (var i = 0; i < glyphs.length; i += 1) {\n\t        var glyph = glyphs[i];\n\t        callback.call(this$1, glyph, x, y, fontSize, options);\n\t        if (glyph.advanceWidth) {\n\t            x += glyph.advanceWidth * fontScale;\n\t        }\n\t\n\t        if (options.kerning && i < glyphs.length - 1) {\n\t            var kerningValue = this$1.getKerningValue(glyph, glyphs[i + 1]);\n\t            x += kerningValue * fontScale;\n\t        }\n\t\n\t        if (options.letterSpacing) {\n\t            x += options.letterSpacing * fontSize;\n\t        } else if (options.tracking) {\n\t            x += (options.tracking / 1000) * fontSize;\n\t        }\n\t    }\n\t    return x;\n\t};\n\t\n\t/**\n\t * Create a Path object that represents the given text.\n\t * @param  {string} text - The text to create.\n\t * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n\t * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n\t * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n\t * @param  {GlyphRenderOptions=} options\n\t * @return {opentype.Path}\n\t */\n\tFont.prototype.getPath = function(text, x, y, fontSize, options) {\n\t    var fullPath = new Path();\n\t    this.forEachGlyph(text, x, y, fontSize, options, function(glyph, gX, gY, gFontSize) {\n\t        var glyphPath = glyph.getPath(gX, gY, gFontSize, options, this);\n\t        fullPath.extend(glyphPath);\n\t    });\n\t    return fullPath;\n\t};\n\t\n\t/**\n\t * Create an array of Path objects that represent the glyphs of a given text.\n\t * @param  {string} text - The text to create.\n\t * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n\t * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n\t * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n\t * @param  {GlyphRenderOptions=} options\n\t * @return {opentype.Path[]}\n\t */\n\tFont.prototype.getPaths = function(text, x, y, fontSize, options) {\n\t    var glyphPaths = [];\n\t    this.forEachGlyph(text, x, y, fontSize, options, function(glyph, gX, gY, gFontSize) {\n\t        var glyphPath = glyph.getPath(gX, gY, gFontSize, options, this);\n\t        glyphPaths.push(glyphPath);\n\t    });\n\t\n\t    return glyphPaths;\n\t};\n\t\n\t/**\n\t * Returns the advance width of a text.\n\t *\n\t * This is something different than Path.getBoundingBox() as for example a\n\t * suffixed whitespace increases the advanceWidth but not the bounding box\n\t * or an overhanging letter like a calligraphic 'f' might have a quite larger\n\t * bounding box than its advance width.\n\t *\n\t * This corresponds to canvas2dContext.measureText(text).width\n\t *\n\t * @param  {string} text - The text to create.\n\t * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n\t * @param  {GlyphRenderOptions=} options\n\t * @return advance width\n\t */\n\tFont.prototype.getAdvanceWidth = function(text, fontSize, options) {\n\t    return this.forEachGlyph(text, 0, 0, fontSize, options, function() {});\n\t};\n\t\n\t/**\n\t * Draw the text on the given drawing context.\n\t * @param  {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n\t * @param  {string} text - The text to create.\n\t * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n\t * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n\t * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n\t * @param  {GlyphRenderOptions=} options\n\t */\n\tFont.prototype.draw = function(ctx, text, x, y, fontSize, options) {\n\t    this.getPath(text, x, y, fontSize, options).draw(ctx);\n\t};\n\t\n\t/**\n\t * Draw the points of all glyphs in the text.\n\t * On-curve points will be drawn in blue, off-curve points will be drawn in red.\n\t * @param {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n\t * @param {string} text - The text to create.\n\t * @param {number} [x=0] - Horizontal position of the beginning of the text.\n\t * @param {number} [y=0] - Vertical position of the *baseline* of the text.\n\t * @param {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n\t * @param {GlyphRenderOptions=} options\n\t */\n\tFont.prototype.drawPoints = function(ctx, text, x, y, fontSize, options) {\n\t    this.forEachGlyph(text, x, y, fontSize, options, function(glyph, gX, gY, gFontSize) {\n\t        glyph.drawPoints(ctx, gX, gY, gFontSize);\n\t    });\n\t};\n\t\n\t/**\n\t * Draw lines indicating important font measurements for all glyphs in the text.\n\t * Black lines indicate the origin of the coordinate system (point 0,0).\n\t * Blue lines indicate the glyph bounding box.\n\t * Green line indicates the advance width of the glyph.\n\t * @param {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n\t * @param {string} text - The text to create.\n\t * @param {number} [x=0] - Horizontal position of the beginning of the text.\n\t * @param {number} [y=0] - Vertical position of the *baseline* of the text.\n\t * @param {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n\t * @param {GlyphRenderOptions=} options\n\t */\n\tFont.prototype.drawMetrics = function(ctx, text, x, y, fontSize, options) {\n\t    this.forEachGlyph(text, x, y, fontSize, options, function(glyph, gX, gY, gFontSize) {\n\t        glyph.drawMetrics(ctx, gX, gY, gFontSize);\n\t    });\n\t};\n\t\n\t/**\n\t * @param  {string}\n\t * @return {string}\n\t */\n\tFont.prototype.getEnglishName = function(name) {\n\t    var translations = this.names[name];\n\t    if (translations) {\n\t        return translations.en;\n\t    }\n\t};\n\t\n\t/**\n\t * Validate\n\t */\n\tFont.prototype.validate = function() {\n\t    var warnings = [];\n\t    var _this = this;\n\t\n\t    function assert(predicate, message) {\n\t        if (!predicate) {\n\t            warnings.push(message);\n\t        }\n\t    }\n\t\n\t    function assertNamePresent(name) {\n\t        var englishName = _this.getEnglishName(name);\n\t        assert(englishName && englishName.trim().length > 0,\n\t               'No English ' + name + ' specified.');\n\t    }\n\t\n\t    // Identification information\n\t    assertNamePresent('fontFamily');\n\t    assertNamePresent('weightName');\n\t    assertNamePresent('manufacturer');\n\t    assertNamePresent('copyright');\n\t    assertNamePresent('version');\n\t\n\t    // Dimension information\n\t    assert(this.unitsPerEm > 0, 'No unitsPerEm specified.');\n\t};\n\t\n\t/**\n\t * Convert the font object to a SFNT data structure.\n\t * This structure contains all the necessary tables and metadata to create a binary OTF file.\n\t * @return {opentype.Table}\n\t */\n\tFont.prototype.toTables = function() {\n\t    return sfnt.fontToTable(this);\n\t};\n\t/**\n\t * @deprecated Font.toBuffer is deprecated. Use Font.toArrayBuffer instead.\n\t */\n\tFont.prototype.toBuffer = function() {\n\t    console.warn('Font.toBuffer is deprecated. Use Font.toArrayBuffer instead.');\n\t    return this.toArrayBuffer();\n\t};\n\t/**\n\t * Converts a `opentype.Font` into an `ArrayBuffer`\n\t * @return {ArrayBuffer}\n\t */\n\tFont.prototype.toArrayBuffer = function() {\n\t    var sfntTable = this.toTables();\n\t    var bytes = sfntTable.encode();\n\t    var buffer = new ArrayBuffer(bytes.length);\n\t    var intArray = new Uint8Array(buffer);\n\t    for (var i = 0; i < bytes.length; i++) {\n\t        intArray[i] = bytes[i];\n\t    }\n\t\n\t    return buffer;\n\t};\n\t\n\t/**\n\t * Initiate a download of the OpenType font.\n\t */\n\tFont.prototype.download = function(fileName) {\n\t    var familyName = this.getEnglishName('fontFamily');\n\t    var styleName = this.getEnglishName('fontSubfamily');\n\t    fileName = fileName || familyName.replace(/\\s/g, '') + '-' + styleName + '.otf';\n\t    var arrayBuffer = this.toArrayBuffer();\n\t\n\t    if (isBrowser()) {\n\t        window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;\n\t        window.requestFileSystem(window.TEMPORARY, arrayBuffer.byteLength, function(fs) {\n\t            fs.root.getFile(fileName, {create: true}, function(fileEntry) {\n\t                fileEntry.createWriter(function(writer) {\n\t                    var dataView = new DataView(arrayBuffer);\n\t                    var blob = new Blob([dataView], {type: 'font/opentype'});\n\t                    writer.write(blob);\n\t\n\t                    writer.addEventListener('writeend', function() {\n\t                        // Navigating to the file will download it.\n\t                        location.href = fileEntry.toURL();\n\t                    }, false);\n\t                });\n\t            });\n\t        },\n\t        function(err) {\n\t            throw new Error(err.name + ': ' + err.message);\n\t        });\n\t    } else {\n\t        var fs = __webpack_require__(3);\n\t        var buffer = arrayBufferToNodeBuffer(arrayBuffer);\n\t        fs.writeFileSync(fileName, buffer);\n\t    }\n\t};\n\t/**\n\t * @private\n\t */\n\tFont.prototype.fsSelectionValues = {\n\t    ITALIC:              0x001, //1\n\t    UNDERSCORE:          0x002, //2\n\t    NEGATIVE:            0x004, //4\n\t    OUTLINED:            0x008, //8\n\t    STRIKEOUT:           0x010, //16\n\t    BOLD:                0x020, //32\n\t    REGULAR:             0x040, //64\n\t    USER_TYPO_METRICS:   0x080, //128\n\t    WWS:                 0x100, //256\n\t    OBLIQUE:             0x200  //512\n\t};\n\t\n\t/**\n\t * @private\n\t */\n\tFont.prototype.usWidthClasses = {\n\t    ULTRA_CONDENSED: 1,\n\t    EXTRA_CONDENSED: 2,\n\t    CONDENSED: 3,\n\t    SEMI_CONDENSED: 4,\n\t    MEDIUM: 5,\n\t    SEMI_EXPANDED: 6,\n\t    EXPANDED: 7,\n\t    EXTRA_EXPANDED: 8,\n\t    ULTRA_EXPANDED: 9\n\t};\n\t\n\t/**\n\t * @private\n\t */\n\tFont.prototype.usWeightClasses = {\n\t    THIN: 100,\n\t    EXTRA_LIGHT: 200,\n\t    LIGHT: 300,\n\t    NORMAL: 400,\n\t    MEDIUM: 500,\n\t    SEMI_BOLD: 600,\n\t    BOLD: 700,\n\t    EXTRA_BOLD: 800,\n\t    BLACK:    900\n\t};\n\t\n\t// The `fvar` table stores font variation axes and instances.\n\t// https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6fvar.html\n\t\n\tfunction addName(name, names) {\n\t    var nameString = JSON.stringify(name);\n\t    var nameID = 256;\n\t    for (var nameKey in names) {\n\t        var n = parseInt(nameKey);\n\t        if (!n || n < 256) {\n\t            continue;\n\t        }\n\t\n\t        if (JSON.stringify(names[nameKey]) === nameString) {\n\t            return n;\n\t        }\n\t\n\t        if (nameID <= n) {\n\t            nameID = n + 1;\n\t        }\n\t    }\n\t\n\t    names[nameID] = name;\n\t    return nameID;\n\t}\n\t\n\tfunction makeFvarAxis(n, axis, names) {\n\t    var nameID = addName(axis.name, names);\n\t    return [\n\t        {name: 'tag_' + n, type: 'TAG', value: axis.tag},\n\t        {name: 'minValue_' + n, type: 'FIXED', value: axis.minValue << 16},\n\t        {name: 'defaultValue_' + n, type: 'FIXED', value: axis.defaultValue << 16},\n\t        {name: 'maxValue_' + n, type: 'FIXED', value: axis.maxValue << 16},\n\t        {name: 'flags_' + n, type: 'USHORT', value: 0},\n\t        {name: 'nameID_' + n, type: 'USHORT', value: nameID}\n\t    ];\n\t}\n\t\n\tfunction parseFvarAxis(data, start, names) {\n\t    var axis = {};\n\t    var p = new parse.Parser(data, start);\n\t    axis.tag = p.parseTag();\n\t    axis.minValue = p.parseFixed();\n\t    axis.defaultValue = p.parseFixed();\n\t    axis.maxValue = p.parseFixed();\n\t    p.skip('uShort', 1);  // reserved for flags; no values defined\n\t    axis.name = names[p.parseUShort()] || {};\n\t    return axis;\n\t}\n\t\n\tfunction makeFvarInstance(n, inst, axes, names) {\n\t    var nameID = addName(inst.name, names);\n\t    var fields = [\n\t        {name: 'nameID_' + n, type: 'USHORT', value: nameID},\n\t        {name: 'flags_' + n, type: 'USHORT', value: 0}\n\t    ];\n\t\n\t    for (var i = 0; i < axes.length; ++i) {\n\t        var axisTag = axes[i].tag;\n\t        fields.push({\n\t            name: 'axis_' + n + ' ' + axisTag,\n\t            type: 'FIXED',\n\t            value: inst.coordinates[axisTag] << 16\n\t        });\n\t    }\n\t\n\t    return fields;\n\t}\n\t\n\tfunction parseFvarInstance(data, start, axes, names) {\n\t    var inst = {};\n\t    var p = new parse.Parser(data, start);\n\t    inst.name = names[p.parseUShort()] || {};\n\t    p.skip('uShort', 1);  // reserved for flags; no values defined\n\t\n\t    inst.coordinates = {};\n\t    for (var i = 0; i < axes.length; ++i) {\n\t        inst.coordinates[axes[i].tag] = p.parseFixed();\n\t    }\n\t\n\t    return inst;\n\t}\n\t\n\tfunction makeFvarTable(fvar, names) {\n\t    var result = new table.Table('fvar', [\n\t        {name: 'version', type: 'ULONG', value: 0x10000},\n\t        {name: 'offsetToData', type: 'USHORT', value: 0},\n\t        {name: 'countSizePairs', type: 'USHORT', value: 2},\n\t        {name: 'axisCount', type: 'USHORT', value: fvar.axes.length},\n\t        {name: 'axisSize', type: 'USHORT', value: 20},\n\t        {name: 'instanceCount', type: 'USHORT', value: fvar.instances.length},\n\t        {name: 'instanceSize', type: 'USHORT', value: 4 + fvar.axes.length * 4}\n\t    ]);\n\t    result.offsetToData = result.sizeOf();\n\t\n\t    for (var i = 0; i < fvar.axes.length; i++) {\n\t        result.fields = result.fields.concat(makeFvarAxis(i, fvar.axes[i], names));\n\t    }\n\t\n\t    for (var j = 0; j < fvar.instances.length; j++) {\n\t        result.fields = result.fields.concat(makeFvarInstance(j, fvar.instances[j], fvar.axes, names));\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction parseFvarTable(data, start, names) {\n\t    var p = new parse.Parser(data, start);\n\t    var tableVersion = p.parseULong();\n\t    check.argument(tableVersion === 0x00010000, 'Unsupported fvar table version.');\n\t    var offsetToData = p.parseOffset16();\n\t    // Skip countSizePairs.\n\t    p.skip('uShort', 1);\n\t    var axisCount = p.parseUShort();\n\t    var axisSize = p.parseUShort();\n\t    var instanceCount = p.parseUShort();\n\t    var instanceSize = p.parseUShort();\n\t\n\t    var axes = [];\n\t    for (var i = 0; i < axisCount; i++) {\n\t        axes.push(parseFvarAxis(data, start + offsetToData + i * axisSize, names));\n\t    }\n\t\n\t    var instances = [];\n\t    var instanceStart = start + offsetToData + axisCount * axisSize;\n\t    for (var j = 0; j < instanceCount; j++) {\n\t        instances.push(parseFvarInstance(data, instanceStart + j * instanceSize, axes, names));\n\t    }\n\t\n\t    return {axes: axes, instances: instances};\n\t}\n\t\n\tvar fvar = { make: makeFvarTable, parse: parseFvarTable };\n\t\n\t// The `GPOS` table contains kerning pairs, among other things.\n\t// https://www.microsoft.com/typography/OTSPEC/gpos.htm\n\t\n\t// Parse ScriptList and FeatureList tables of GPOS, GSUB, GDEF, BASE, JSTF tables.\n\t// These lists are unused by now, this function is just the basis for a real parsing.\n\tfunction parseTaggedListTable(data, start) {\n\t    var p = new parse.Parser(data, start);\n\t    var n = p.parseUShort();\n\t    var list = [];\n\t    for (var i = 0; i < n; i++) {\n\t        list[p.parseTag()] = { offset: p.parseUShort() };\n\t    }\n\t\n\t    return list;\n\t}\n\t\n\t// Parse a coverage table in a GSUB, GPOS or GDEF table.\n\t// Format 1 is a simple list of glyph ids,\n\t// Format 2 is a list of ranges. It is expanded in a list of glyphs, maybe not the best idea.\n\tfunction parseCoverageTable(data, start) {\n\t    var p = new parse.Parser(data, start);\n\t    var format = p.parseUShort();\n\t    var count = p.parseUShort();\n\t    if (format === 1) {\n\t        return p.parseUShortList(count);\n\t    } else if (format === 2) {\n\t        var coverage = [];\n\t        for (; count--;) {\n\t            var begin = p.parseUShort();\n\t            var end = p.parseUShort();\n\t            var index = p.parseUShort();\n\t            for (var i = begin; i <= end; i++) {\n\t                coverage[index++] = i;\n\t            }\n\t        }\n\t\n\t        return coverage;\n\t    }\n\t}\n\t\n\t// Parse a Class Definition Table in a GSUB, GPOS or GDEF table.\n\t// Returns a function that gets a class value from a glyph ID.\n\tfunction parseClassDefTable(data, start) {\n\t    var p = new parse.Parser(data, start);\n\t    var format = p.parseUShort();\n\t    if (format === 1) {\n\t        // Format 1 specifies a range of consecutive glyph indices, one class per glyph ID.\n\t        var startGlyph = p.parseUShort();\n\t        var glyphCount = p.parseUShort();\n\t        var classes = p.parseUShortList(glyphCount);\n\t        return function(glyphID) {\n\t            return classes[glyphID - startGlyph] || 0;\n\t        };\n\t    } else if (format === 2) {\n\t        // Format 2 defines multiple groups of glyph indices that belong to the same class.\n\t        var rangeCount = p.parseUShort();\n\t        var startGlyphs = [];\n\t        var endGlyphs = [];\n\t        var classValues = [];\n\t        for (var i = 0; i < rangeCount; i++) {\n\t            startGlyphs[i] = p.parseUShort();\n\t            endGlyphs[i] = p.parseUShort();\n\t            classValues[i] = p.parseUShort();\n\t        }\n\t\n\t        return function(glyphID) {\n\t            var l = 0;\n\t            var r = startGlyphs.length - 1;\n\t            while (l < r) {\n\t                var c = (l + r + 1) >> 1;\n\t                if (glyphID < startGlyphs[c]) {\n\t                    r = c - 1;\n\t                } else {\n\t                    l = c;\n\t                }\n\t            }\n\t\n\t            if (startGlyphs[l] <= glyphID && glyphID <= endGlyphs[l]) {\n\t                return classValues[l] || 0;\n\t            }\n\t\n\t            return 0;\n\t        };\n\t    }\n\t}\n\t\n\t// Parse a pair adjustment positioning subtable, format 1 or format 2\n\t// The subtable is returned in the form of a lookup function.\n\tfunction parsePairPosSubTable(data, start) {\n\t    var p = new parse.Parser(data, start);\n\t    // This part is common to format 1 and format 2 subtables\n\t    var format = p.parseUShort();\n\t    var coverageOffset = p.parseUShort();\n\t    var coverage = parseCoverageTable(data, start + coverageOffset);\n\t    // valueFormat 4: XAdvance only, 1: XPlacement only, 0: no ValueRecord for second glyph\n\t    // Only valueFormat1=4 and valueFormat2=0 is supported.\n\t    var valueFormat1 = p.parseUShort();\n\t    var valueFormat2 = p.parseUShort();\n\t    var value1;\n\t    var value2;\n\t    if (valueFormat1 !== 4 || valueFormat2 !== 0) { return; }\n\t    var sharedPairSets = {};\n\t    if (format === 1) {\n\t        // Pair Positioning Adjustment: Format 1\n\t        var pairSetCount = p.parseUShort();\n\t        var pairSet = [];\n\t        // Array of offsets to PairSet tables-from beginning of PairPos subtable-ordered by Coverage Index\n\t        var pairSetOffsets = p.parseOffset16List(pairSetCount);\n\t        for (var firstGlyph = 0; firstGlyph < pairSetCount; firstGlyph++) {\n\t            var pairSetOffset = pairSetOffsets[firstGlyph];\n\t            var sharedPairSet = sharedPairSets[pairSetOffset];\n\t            if (!sharedPairSet) {\n\t                // Parse a pairset table in a pair adjustment subtable format 1\n\t                sharedPairSet = {};\n\t                p.relativeOffset = pairSetOffset;\n\t                var pairValueCount = p.parseUShort();\n\t                for (; pairValueCount--;) {\n\t                    var secondGlyph = p.parseUShort();\n\t                    if (valueFormat1) { value1 = p.parseShort(); }\n\t                    if (valueFormat2) { value2 = p.parseShort(); }\n\t                    // We only support valueFormat1 = 4 and valueFormat2 = 0,\n\t                    // so value1 is the XAdvance and value2 is empty.\n\t                    sharedPairSet[secondGlyph] = value1;\n\t                }\n\t            }\n\t\n\t            pairSet[coverage[firstGlyph]] = sharedPairSet;\n\t        }\n\t\n\t        return function(leftGlyph, rightGlyph) {\n\t            var pairs = pairSet[leftGlyph];\n\t            if (pairs) { return pairs[rightGlyph]; }\n\t        };\n\t    } else if (format === 2) {\n\t        // Pair Positioning Adjustment: Format 2\n\t        var classDef1Offset = p.parseUShort();\n\t        var classDef2Offset = p.parseUShort();\n\t        var class1Count = p.parseUShort();\n\t        var class2Count = p.parseUShort();\n\t        var getClass1 = parseClassDefTable(data, start + classDef1Offset);\n\t        var getClass2 = parseClassDefTable(data, start + classDef2Offset);\n\t\n\t        // Parse kerning values by class pair.\n\t        var kerningMatrix = [];\n\t        for (var i = 0; i < class1Count; i++) {\n\t            var kerningRow = kerningMatrix[i] = [];\n\t            for (var j = 0; j < class2Count; j++) {\n\t                if (valueFormat1) { value1 = p.parseShort(); }\n\t                if (valueFormat2) { value2 = p.parseShort(); }\n\t                // We only support valueFormat1 = 4 and valueFormat2 = 0,\n\t                // so value1 is the XAdvance and value2 is empty.\n\t                kerningRow[j] = value1;\n\t            }\n\t        }\n\t\n\t        // Convert coverage list to a hash\n\t        var covered = {};\n\t        for (var i$1 = 0; i$1 < coverage.length; i$1++) {\n\t            covered[coverage[i$1]] = 1;\n\t        }\n\t\n\t        // Get the kerning value for a specific glyph pair.\n\t        return function(leftGlyph, rightGlyph) {\n\t            if (!covered[leftGlyph]) { return; }\n\t            var class1 = getClass1(leftGlyph);\n\t            var class2 = getClass2(rightGlyph);\n\t            var kerningRow = kerningMatrix[class1];\n\t\n\t            if (kerningRow) {\n\t                return kerningRow[class2];\n\t            }\n\t        };\n\t    }\n\t}\n\t\n\t// Parse a LookupTable (present in of GPOS, GSUB, GDEF, BASE, JSTF tables).\n\tfunction parseLookupTable(data, start) {\n\t    var p = new parse.Parser(data, start);\n\t    var lookupType = p.parseUShort();\n\t    var lookupFlag = p.parseUShort();\n\t    var useMarkFilteringSet = lookupFlag & 0x10;\n\t    var subTableCount = p.parseUShort();\n\t    var subTableOffsets = p.parseOffset16List(subTableCount);\n\t    var table = {\n\t        lookupType: lookupType,\n\t        lookupFlag: lookupFlag,\n\t        markFilteringSet: useMarkFilteringSet ? p.parseUShort() : -1\n\t    };\n\t    // LookupType 2, Pair adjustment\n\t    if (lookupType === 2) {\n\t        var subtables = [];\n\t        for (var i = 0; i < subTableCount; i++) {\n\t            var pairPosSubTable = parsePairPosSubTable(data, start + subTableOffsets[i]);\n\t            if (pairPosSubTable) { subtables.push(pairPosSubTable); }\n\t        }\n\t        // Return a function which finds the kerning values in the subtables.\n\t        table.getKerningValue = function(leftGlyph, rightGlyph) {\n\t            for (var i = subtables.length; i--;) {\n\t                var value = subtables[i](leftGlyph, rightGlyph);\n\t                if (value !== undefined) { return value; }\n\t            }\n\t\n\t            return 0;\n\t        };\n\t    }\n\t\n\t    return table;\n\t}\n\t\n\t// Parse the `GPOS` table which contains, among other things, kerning pairs.\n\t// https://www.microsoft.com/typography/OTSPEC/gpos.htm\n\tfunction parseGposTable(data, start, font) {\n\t    var p = new parse.Parser(data, start);\n\t    var tableVersion = p.parseFixed();\n\t    check.argument(tableVersion === 1, 'Unsupported GPOS table version.');\n\t\n\t    // ScriptList and FeatureList - ignored for now\n\t    parseTaggedListTable(data, start + p.parseUShort());\n\t    // 'kern' is the feature we are looking for.\n\t    parseTaggedListTable(data, start + p.parseUShort());\n\t\n\t    // LookupList\n\t    var lookupListOffset = p.parseUShort();\n\t    p.relativeOffset = lookupListOffset;\n\t    var lookupCount = p.parseUShort();\n\t    var lookupTableOffsets = p.parseOffset16List(lookupCount);\n\t    var lookupListAbsoluteOffset = start + lookupListOffset;\n\t    for (var i = 0; i < lookupCount; i++) {\n\t        var table = parseLookupTable(data, lookupListAbsoluteOffset + lookupTableOffsets[i]);\n\t        if (table.lookupType === 2 && !font.getGposKerningValue) { font.getGposKerningValue = table.getKerningValue; }\n\t    }\n\t}\n\t\n\tvar gpos = { parse: parseGposTable };\n\t\n\t// The `kern` table contains kerning pairs.\n\t// Note that some fonts use the GPOS OpenType layout table to specify kerning.\n\t// https://www.microsoft.com/typography/OTSPEC/kern.htm\n\t\n\tfunction parseWindowsKernTable(p) {\n\t    var pairs = {};\n\t    // Skip nTables.\n\t    p.skip('uShort');\n\t    var subtableVersion = p.parseUShort();\n\t    check.argument(subtableVersion === 0, 'Unsupported kern sub-table version.');\n\t    // Skip subtableLength, subtableCoverage\n\t    p.skip('uShort', 2);\n\t    var nPairs = p.parseUShort();\n\t    // Skip searchRange, entrySelector, rangeShift.\n\t    p.skip('uShort', 3);\n\t    for (var i = 0; i < nPairs; i += 1) {\n\t        var leftIndex = p.parseUShort();\n\t        var rightIndex = p.parseUShort();\n\t        var value = p.parseShort();\n\t        pairs[leftIndex + ',' + rightIndex] = value;\n\t    }\n\t    return pairs;\n\t}\n\t\n\tfunction parseMacKernTable(p) {\n\t    var pairs = {};\n\t    // The Mac kern table stores the version as a fixed (32 bits) but we only loaded the first 16 bits.\n\t    // Skip the rest.\n\t    p.skip('uShort');\n\t    var nTables = p.parseULong();\n\t    //check.argument(nTables === 1, 'Only 1 subtable is supported (got ' + nTables + ').');\n\t    if (nTables > 1) {\n\t        console.warn('Only the first kern subtable is supported.');\n\t    }\n\t    p.skip('uLong');\n\t    var coverage = p.parseUShort();\n\t    var subtableVersion = coverage & 0xFF;\n\t    p.skip('uShort');\n\t    if (subtableVersion === 0) {\n\t        var nPairs = p.parseUShort();\n\t        // Skip searchRange, entrySelector, rangeShift.\n\t        p.skip('uShort', 3);\n\t        for (var i = 0; i < nPairs; i += 1) {\n\t            var leftIndex = p.parseUShort();\n\t            var rightIndex = p.parseUShort();\n\t            var value = p.parseShort();\n\t            pairs[leftIndex + ',' + rightIndex] = value;\n\t        }\n\t    }\n\t    return pairs;\n\t}\n\t\n\t// Parse the `kern` table which contains kerning pairs.\n\tfunction parseKernTable(data, start) {\n\t    var p = new parse.Parser(data, start);\n\t    var tableVersion = p.parseUShort();\n\t    if (tableVersion === 0) {\n\t        return parseWindowsKernTable(p);\n\t    } else if (tableVersion === 1) {\n\t        return parseMacKernTable(p);\n\t    } else {\n\t        throw new Error('Unsupported kern table version (' + tableVersion + ').');\n\t    }\n\t}\n\t\n\tvar kern = { parse: parseKernTable };\n\t\n\t// The `loca` table stores the offsets to the locations of the glyphs in the font.\n\t// https://www.microsoft.com/typography/OTSPEC/loca.htm\n\t\n\t// Parse the `loca` table. This table stores the offsets to the locations of the glyphs in the font,\n\t// relative to the beginning of the glyphData table.\n\t// The number of glyphs stored in the `loca` table is specified in the `maxp` table (under numGlyphs)\n\t// The loca table has two versions: a short version where offsets are stored as uShorts, and a long\n\t// version where offsets are stored as uLongs. The `head` table specifies which version to use\n\t// (under indexToLocFormat).\n\tfunction parseLocaTable(data, start, numGlyphs, shortVersion) {\n\t    var p = new parse.Parser(data, start);\n\t    var parseFn = shortVersion ? p.parseUShort : p.parseULong;\n\t    // There is an extra entry after the last index element to compute the length of the last glyph.\n\t    // That's why we use numGlyphs + 1.\n\t    var glyphOffsets = [];\n\t    for (var i = 0; i < numGlyphs + 1; i += 1) {\n\t        var glyphOffset = parseFn.call(p);\n\t        if (shortVersion) {\n\t            // The short table version stores the actual offset divided by 2.\n\t            glyphOffset *= 2;\n\t        }\n\t\n\t        glyphOffsets.push(glyphOffset);\n\t    }\n\t\n\t    return glyphOffsets;\n\t}\n\t\n\tvar loca = { parse: parseLocaTable };\n\t\n\t// opentype.js\n\t// https://github.com/nodebox/opentype.js\n\t// (c) 2015 Frederik De Bleser\n\t// opentype.js may be freely distributed under the MIT license.\n\t\n\t/* global DataView, Uint8Array, XMLHttpRequest  */\n\t\n\t/**\n\t * The opentype library.\n\t * @namespace opentype\n\t */\n\t\n\t// File loaders /////////////////////////////////////////////////////////\n\t/**\n\t * Loads a font from a file. The callback throws an error message as the first parameter if it fails\n\t * and the font as an ArrayBuffer in the second parameter if it succeeds.\n\t * @param  {string} path - The path of the file\n\t * @param  {Function} callback - The function to call when the font load completes\n\t */\n\tfunction loadFromFile(path, callback) {\n\t    var fs = __webpack_require__(3);\n\t    fs.readFile(path, function(err, buffer) {\n\t        if (err) {\n\t            return callback(err.message);\n\t        }\n\t\n\t        callback(null, nodeBufferToArrayBuffer(buffer));\n\t    });\n\t}\n\t/**\n\t * Loads a font from a URL. The callback throws an error message as the first parameter if it fails\n\t * and the font as an ArrayBuffer in the second parameter if it succeeds.\n\t * @param  {string} url - The URL of the font file.\n\t * @param  {Function} callback - The function to call when the font load completes\n\t */\n\tfunction loadFromUrl(url, callback) {\n\t    var request = new XMLHttpRequest();\n\t    request.open('GET', url, true);\n\t    request.responseType = 'arraybuffer';\n\t    request.onload = function() {\n\t        if (request.status !== 200) {\n\t            return callback('Font could not be loaded: ' + request.statusText);\n\t        }\n\t\n\t        return callback(null, request.response);\n\t    };\n\t\n\t    request.onerror = function () {\n\t        callback('Font could not be loaded');\n\t    };\n\t\n\t    request.send();\n\t}\n\t\n\t// Table Directory Entries //////////////////////////////////////////////\n\t/**\n\t * Parses OpenType table entries.\n\t * @param  {DataView}\n\t * @param  {Number}\n\t * @return {Object[]}\n\t */\n\tfunction parseOpenTypeTableEntries(data, numTables) {\n\t    var tableEntries = [];\n\t    var p = 12;\n\t    for (var i = 0; i < numTables; i += 1) {\n\t        var tag = parse.getTag(data, p);\n\t        var checksum = parse.getULong(data, p + 4);\n\t        var offset = parse.getULong(data, p + 8);\n\t        var length = parse.getULong(data, p + 12);\n\t        tableEntries.push({tag: tag, checksum: checksum, offset: offset, length: length, compression: false});\n\t        p += 16;\n\t    }\n\t\n\t    return tableEntries;\n\t}\n\t\n\t/**\n\t * Parses WOFF table entries.\n\t * @param  {DataView}\n\t * @param  {Number}\n\t * @return {Object[]}\n\t */\n\tfunction parseWOFFTableEntries(data, numTables) {\n\t    var tableEntries = [];\n\t    var p = 44; // offset to the first table directory entry.\n\t    for (var i = 0; i < numTables; i += 1) {\n\t        var tag = parse.getTag(data, p);\n\t        var offset = parse.getULong(data, p + 4);\n\t        var compLength = parse.getULong(data, p + 8);\n\t        var origLength = parse.getULong(data, p + 12);\n\t        var compression = (void 0);\n\t        if (compLength < origLength) {\n\t            compression = 'WOFF';\n\t        } else {\n\t            compression = false;\n\t        }\n\t\n\t        tableEntries.push({tag: tag, offset: offset, compression: compression,\n\t            compressedLength: compLength, length: origLength});\n\t        p += 20;\n\t    }\n\t\n\t    return tableEntries;\n\t}\n\t\n\t/**\n\t * @typedef TableData\n\t * @type Object\n\t * @property {DataView} data - The DataView\n\t * @property {number} offset - The data offset.\n\t */\n\t\n\t/**\n\t * @param  {DataView}\n\t * @param  {Object}\n\t * @return {TableData}\n\t */\n\tfunction uncompressTable(data, tableEntry) {\n\t    if (tableEntry.compression === 'WOFF') {\n\t        var inBuffer = new Uint8Array(data.buffer, tableEntry.offset + 2, tableEntry.compressedLength - 2);\n\t        var outBuffer = new Uint8Array(tableEntry.length);\n\t        index(inBuffer, outBuffer);\n\t        if (outBuffer.byteLength !== tableEntry.length) {\n\t            throw new Error('Decompression error: ' + tableEntry.tag + ' decompressed length doesn\\'t match recorded length');\n\t        }\n\t\n\t        var view = new DataView(outBuffer.buffer, 0);\n\t        return {data: view, offset: 0};\n\t    } else {\n\t        return {data: data, offset: tableEntry.offset};\n\t    }\n\t}\n\t\n\t// Public API ///////////////////////////////////////////////////////////\n\t\n\t/**\n\t * Parse the OpenType file data (as an ArrayBuffer) and return a Font object.\n\t * Throws an error if the font could not be parsed.\n\t * @param  {ArrayBuffer}\n\t * @return {opentype.Font}\n\t */\n\tfunction parseBuffer(buffer) {\n\t    var indexToLocFormat;\n\t    var ltagTable;\n\t\n\t    // Since the constructor can also be called to create new fonts from scratch, we indicate this\n\t    // should be an empty font that we'll fill with our own data.\n\t    var font = new Font({empty: true});\n\t\n\t    // OpenType fonts use big endian byte ordering.\n\t    // We can't rely on typed array view types, because they operate with the endianness of the host computer.\n\t    // Instead we use DataViews where we can specify endianness.\n\t    var data = new DataView(buffer, 0);\n\t    var numTables;\n\t    var tableEntries = [];\n\t    var signature = parse.getTag(data, 0);\n\t    if (signature === String.fromCharCode(0, 1, 0, 0) || signature === 'true' || signature === 'typ1') {\n\t        font.outlinesFormat = 'truetype';\n\t        numTables = parse.getUShort(data, 4);\n\t        tableEntries = parseOpenTypeTableEntries(data, numTables);\n\t    } else if (signature === 'OTTO') {\n\t        font.outlinesFormat = 'cff';\n\t        numTables = parse.getUShort(data, 4);\n\t        tableEntries = parseOpenTypeTableEntries(data, numTables);\n\t    } else if (signature === 'wOFF') {\n\t        var flavor = parse.getTag(data, 4);\n\t        if (flavor === String.fromCharCode(0, 1, 0, 0)) {\n\t            font.outlinesFormat = 'truetype';\n\t        } else if (flavor === 'OTTO') {\n\t            font.outlinesFormat = 'cff';\n\t        } else {\n\t            throw new Error('Unsupported OpenType flavor ' + signature);\n\t        }\n\t\n\t        numTables = parse.getUShort(data, 12);\n\t        tableEntries = parseWOFFTableEntries(data, numTables);\n\t    } else {\n\t        throw new Error('Unsupported OpenType signature ' + signature);\n\t    }\n\t\n\t    var cffTableEntry;\n\t    var fvarTableEntry;\n\t    var glyfTableEntry;\n\t    var gposTableEntry;\n\t    var gsubTableEntry;\n\t    var hmtxTableEntry;\n\t    var kernTableEntry;\n\t    var locaTableEntry;\n\t    var nameTableEntry;\n\t    var metaTableEntry;\n\t    var p;\n\t\n\t    for (var i = 0; i < numTables; i += 1) {\n\t        var tableEntry = tableEntries[i];\n\t        var table = (void 0);\n\t        switch (tableEntry.tag) {\n\t            case 'cmap':\n\t                table = uncompressTable(data, tableEntry);\n\t                font.tables.cmap = cmap.parse(table.data, table.offset);\n\t                font.encoding = new CmapEncoding(font.tables.cmap);\n\t                break;\n\t            case 'cvt ' :\n\t                table = uncompressTable(data, tableEntry);\n\t                p = new parse.Parser(table.data, table.offset);\n\t                font.tables.cvt = p.parseShortList(tableEntry.length / 2);\n\t                break;\n\t            case 'fvar':\n\t                fvarTableEntry = tableEntry;\n\t                break;\n\t            case 'fpgm' :\n\t                table = uncompressTable(data, tableEntry);\n\t                p = new parse.Parser(table.data, table.offset);\n\t                font.tables.fpgm = p.parseByteList(tableEntry.length);\n\t                break;\n\t            case 'head':\n\t                table = uncompressTable(data, tableEntry);\n\t                font.tables.head = head.parse(table.data, table.offset);\n\t                font.unitsPerEm = font.tables.head.unitsPerEm;\n\t                indexToLocFormat = font.tables.head.indexToLocFormat;\n\t                break;\n\t            case 'hhea':\n\t                table = uncompressTable(data, tableEntry);\n\t                font.tables.hhea = hhea.parse(table.data, table.offset);\n\t                font.ascender = font.tables.hhea.ascender;\n\t                font.descender = font.tables.hhea.descender;\n\t                font.numberOfHMetrics = font.tables.hhea.numberOfHMetrics;\n\t                break;\n\t            case 'hmtx':\n\t                hmtxTableEntry = tableEntry;\n\t                break;\n\t            case 'ltag':\n\t                table = uncompressTable(data, tableEntry);\n\t                ltagTable = ltag.parse(table.data, table.offset);\n\t                break;\n\t            case 'maxp':\n\t                table = uncompressTable(data, tableEntry);\n\t                font.tables.maxp = maxp.parse(table.data, table.offset);\n\t                font.numGlyphs = font.tables.maxp.numGlyphs;\n\t                break;\n\t            case 'name':\n\t                nameTableEntry = tableEntry;\n\t                break;\n\t            case 'OS/2':\n\t                table = uncompressTable(data, tableEntry);\n\t                font.tables.os2 = os2.parse(table.data, table.offset);\n\t                break;\n\t            case 'post':\n\t                table = uncompressTable(data, tableEntry);\n\t                font.tables.post = post.parse(table.data, table.offset);\n\t                font.glyphNames = new GlyphNames(font.tables.post);\n\t                break;\n\t            case 'prep' :\n\t                table = uncompressTable(data, tableEntry);\n\t                p = new parse.Parser(table.data, table.offset);\n\t                font.tables.prep = p.parseByteList(tableEntry.length);\n\t                break;\n\t            case 'glyf':\n\t                glyfTableEntry = tableEntry;\n\t                break;\n\t            case 'loca':\n\t                locaTableEntry = tableEntry;\n\t                break;\n\t            case 'CFF ':\n\t                cffTableEntry = tableEntry;\n\t                break;\n\t            case 'kern':\n\t                kernTableEntry = tableEntry;\n\t                break;\n\t            case 'GPOS':\n\t                gposTableEntry = tableEntry;\n\t                break;\n\t            case 'GSUB':\n\t                gsubTableEntry = tableEntry;\n\t                break;\n\t            case 'meta':\n\t                metaTableEntry = tableEntry;\n\t                break;\n\t        }\n\t    }\n\t\n\t    var nameTable = uncompressTable(data, nameTableEntry);\n\t    font.tables.name = _name.parse(nameTable.data, nameTable.offset, ltagTable);\n\t    font.names = font.tables.name;\n\t\n\t    if (glyfTableEntry && locaTableEntry) {\n\t        var shortVersion = indexToLocFormat === 0;\n\t        var locaTable = uncompressTable(data, locaTableEntry);\n\t        var locaOffsets = loca.parse(locaTable.data, locaTable.offset, font.numGlyphs, shortVersion);\n\t        var glyfTable = uncompressTable(data, glyfTableEntry);\n\t        font.glyphs = glyf.parse(glyfTable.data, glyfTable.offset, locaOffsets, font);\n\t    } else if (cffTableEntry) {\n\t        var cffTable = uncompressTable(data, cffTableEntry);\n\t        cff.parse(cffTable.data, cffTable.offset, font);\n\t    } else {\n\t        throw new Error('Font doesn\\'t contain TrueType or CFF outlines.');\n\t    }\n\t\n\t    var hmtxTable = uncompressTable(data, hmtxTableEntry);\n\t    hmtx.parse(hmtxTable.data, hmtxTable.offset, font.numberOfHMetrics, font.numGlyphs, font.glyphs);\n\t    addGlyphNames(font);\n\t\n\t    if (kernTableEntry) {\n\t        var kernTable = uncompressTable(data, kernTableEntry);\n\t        font.kerningPairs = kern.parse(kernTable.data, kernTable.offset);\n\t    } else {\n\t        font.kerningPairs = {};\n\t    }\n\t\n\t    if (gposTableEntry) {\n\t        var gposTable = uncompressTable(data, gposTableEntry);\n\t        gpos.parse(gposTable.data, gposTable.offset, font);\n\t    }\n\t\n\t    if (gsubTableEntry) {\n\t        var gsubTable = uncompressTable(data, gsubTableEntry);\n\t        font.tables.gsub = gsub.parse(gsubTable.data, gsubTable.offset);\n\t    }\n\t\n\t    if (fvarTableEntry) {\n\t        var fvarTable = uncompressTable(data, fvarTableEntry);\n\t        font.tables.fvar = fvar.parse(fvarTable.data, fvarTable.offset, font.names);\n\t    }\n\t\n\t    if (metaTableEntry) {\n\t        var metaTable = uncompressTable(data, metaTableEntry);\n\t        font.tables.meta = meta.parse(metaTable.data, metaTable.offset);\n\t        font.metas = font.tables.meta;\n\t    }\n\t\n\t    return font;\n\t}\n\t\n\t/**\n\t * Asynchronously load the font from a URL or a filesystem. When done, call the callback\n\t * with two arguments `(err, font)`. The `err` will be null on success,\n\t * the `font` is a Font object.\n\t * We use the node.js callback convention so that\n\t * opentype.js can integrate with frameworks like async.js.\n\t * @alias opentype.load\n\t * @param  {string} url - The URL of the font to load.\n\t * @param  {Function} callback - The callback.\n\t */\n\tfunction load(url, callback) {\n\t    var isNode$$1 = typeof window === 'undefined';\n\t    var loadFn = isNode$$1 ? loadFromFile : loadFromUrl;\n\t    loadFn(url, function(err, arrayBuffer) {\n\t        if (err) {\n\t            return callback(err);\n\t        }\n\t        var font;\n\t        try {\n\t            font = parseBuffer(arrayBuffer);\n\t        } catch (e) {\n\t            return callback(e, null);\n\t        }\n\t        return callback(null, font);\n\t    });\n\t}\n\t\n\t/**\n\t * Synchronously load the font from a URL or file.\n\t * When done, returns the font object or throws an error.\n\t * @alias opentype.loadSync\n\t * @param  {string} url - The URL of the font to load.\n\t * @return {opentype.Font}\n\t */\n\tfunction loadSync(url) {\n\t    var fs = __webpack_require__(3);\n\t    var buffer = fs.readFileSync(url);\n\t    return parseBuffer(nodeBufferToArrayBuffer(buffer));\n\t}\n\t\n\texports.Font = Font;\n\texports.Glyph = Glyph;\n\texports.Path = Path;\n\texports.BoundingBox = BoundingBox;\n\texports._parse = parse;\n\texports.parse = parseBuffer;\n\texports.load = load;\n\texports.loadSync = loadSync;\n\t\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\t\n\t})));\n\t//# sourceMappingURL=opentype.js.map\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t * Paper.js v0.11.4 - The Swiss Army Knife of Vector Graphics Scripting.\n\t * http://paperjs.org/\n\t *\n\t * Copyright (c) 2011 - 2016, Juerg Lehni & Jonathan Puckey\n\t * http://scratchdisk.com/ & http://jonathanpuckey.com/\n\t *\n\t * Distributed under the MIT license. See LICENSE file for details.\n\t *\n\t * All rights reserved.\n\t *\n\t * Date: Wed Jun 7 16:56:44 2017 +0200\n\t *\n\t ***\n\t *\n\t * Straps.js - Class inheritance library with support for bean-style accessors\n\t *\n\t * Copyright (c) 2006 - 2016 Juerg Lehni\n\t * http://scratchdisk.com/\n\t *\n\t * Distributed under the MIT license.\n\t *\n\t ***\n\t *\n\t * Acorn.js\n\t * http://marijnhaverbeke.nl/acorn/\n\t *\n\t * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n\t * created by Marijn Haverbeke and released under an MIT license.\n\t *\n\t */\n\t\n\tvar paper = function(self, undefined) {\n\t\n\tself = self || __webpack_require__(5);\n\tvar window = self.window,\n\t\tdocument = self.document;\n\t\n\tvar Base = new function() {\n\t\tvar hidden = /^(statics|enumerable|beans|preserve)$/,\n\t\t\tarray = [],\n\t\t\tslice = array.slice,\n\t\t\tcreate = Object.create,\n\t\t\tdescribe = Object.getOwnPropertyDescriptor,\n\t\t\tdefine = Object.defineProperty,\n\t\n\t\t\tforEach = array.forEach || function(iter, bind) {\n\t\t\t\tfor (var i = 0, l = this.length; i < l; i++) {\n\t\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tforIn = function(iter, bind) {\n\t\t\t\tfor (var i in this) {\n\t\t\t\t\tif (this.hasOwnProperty(i))\n\t\t\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tset = Object.assign || function(dst) {\n\t\t\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\t\t\tvar src = arguments[i];\n\t\t\t\t\tfor (var key in src) {\n\t\t\t\t\t\tif (src.hasOwnProperty(key))\n\t\t\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn dst;\n\t\t\t},\n\t\n\t\t\teach = function(obj, iter, bind) {\n\t\t\t\tif (obj) {\n\t\t\t\t\tvar desc = describe(obj, 'length');\n\t\t\t\t\t(desc && typeof desc.value === 'number' ? forEach : forIn)\n\t\t\t\t\t\t.call(obj, iter, bind = bind || obj);\n\t\t\t\t}\n\t\t\t\treturn bind;\n\t\t\t};\n\t\n\t\tfunction inject(dest, src, enumerable, beans, preserve) {\n\t\t\tvar beansNames = {};\n\t\n\t\t\tfunction field(name, val) {\n\t\t\t\tval = val || (val = describe(src, name))\n\t\t\t\t\t\t&& (val.get ? val : val.value);\n\t\t\t\tif (typeof val === 'string' && val[0] === '#')\n\t\t\t\t\tval = dest[val.substring(1)] || val;\n\t\t\t\tvar isFunc = typeof val === 'function',\n\t\t\t\t\tres = val,\n\t\t\t\t\tprev = preserve || isFunc && !val.base\n\t\t\t\t\t\t\t? (val && val.get ? name in dest : dest[name])\n\t\t\t\t\t\t\t: null,\n\t\t\t\t\tbean;\n\t\t\t\tif (!preserve || !prev) {\n\t\t\t\t\tif (isFunc && prev)\n\t\t\t\t\t\tval.base = prev;\n\t\t\t\t\tif (isFunc && beans !== false\n\t\t\t\t\t\t\t&& (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/)))\n\t\t\t\t\t\tbeansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\t\t\t\t\tif (!res || isFunc || !res.get || typeof res.get !== 'function'\n\t\t\t\t\t\t\t|| !Base.isPlainObject(res)) {\n\t\t\t\t\t\tres = { value: res, writable: true };\n\t\t\t\t\t}\n\t\t\t\t\tif ((describe(dest, name)\n\t\t\t\t\t\t\t|| { configurable: true }).configurable) {\n\t\t\t\t\t\tres.configurable = true;\n\t\t\t\t\t\tres.enumerable = enumerable != null ? enumerable : !bean;\n\t\t\t\t\t}\n\t\t\t\t\tdefine(dest, name, res);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (src) {\n\t\t\t\tfor (var name in src) {\n\t\t\t\t\tif (src.hasOwnProperty(name) && !hidden.test(name))\n\t\t\t\t\t\tfield(name);\n\t\t\t\t}\n\t\t\t\tfor (var name in beansNames) {\n\t\t\t\t\tvar part = beansNames[name],\n\t\t\t\t\t\tset = dest['set' + part],\n\t\t\t\t\t\tget = dest['get' + part] || set && dest['is' + part];\n\t\t\t\t\tif (get && (beans === true || get.length === 0))\n\t\t\t\t\t\tfield(name, { get: get, set: set });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dest;\n\t\t}\n\t\n\t\tfunction Base() {\n\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tif (src)\n\t\t\t\t\tset(this, src);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\n\t\treturn inject(Base, {\n\t\t\tinject: function(src) {\n\t\t\t\tif (src) {\n\t\t\t\t\tvar statics = src.statics === true ? src : src.statics,\n\t\t\t\t\t\tbeans = src.beans,\n\t\t\t\t\t\tpreserve = src.preserve;\n\t\t\t\t\tif (statics !== src)\n\t\t\t\t\t\tinject(this.prototype, src, src.enumerable, beans, preserve);\n\t\t\t\t\tinject(this, statics, null, beans, preserve);\n\t\t\t\t}\n\t\t\t\tfor (var i = 1, l = arguments.length; i < l; i++)\n\t\t\t\t\tthis.inject(arguments[i]);\n\t\t\t\treturn this;\n\t\t\t},\n\t\n\t\t\textend: function() {\n\t\t\t\tvar base = this,\n\t\t\t\t\tctor,\n\t\t\t\t\tproto;\n\t\t\t\tfor (var i = 0, obj, l = arguments.length;\n\t\t\t\t\t\ti < l && !(ctor && proto); i++) {\n\t\t\t\t\tobj = arguments[i];\n\t\t\t\t\tctor = ctor || obj.initialize;\n\t\t\t\t\tproto = proto || obj.prototype;\n\t\t\t\t}\n\t\t\t\tctor = ctor || function() {\n\t\t\t\t\tbase.apply(this, arguments);\n\t\t\t\t};\n\t\t\t\tproto = ctor.prototype = proto || create(this.prototype);\n\t\t\t\tdefine(proto, 'constructor',\n\t\t\t\t\t\t{ value: ctor, writable: true, configurable: true });\n\t\t\t\tinject(ctor, this);\n\t\t\t\tif (arguments.length)\n\t\t\t\t\tthis.inject.apply(ctor, arguments);\n\t\t\t\tctor.base = base;\n\t\t\t\treturn ctor;\n\t\t\t}\n\t\t}).inject({\n\t\t\tenumerable: false,\n\t\n\t\t\tinitialize: Base,\n\t\n\t\t\tset: Base,\n\t\n\t\t\tinject: function() {\n\t\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\t\tvar src = arguments[i];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tinject(this, src, src.enumerable, src.beans, src.preserve);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\n\t\t\textend: function() {\n\t\t\t\tvar res = create(this);\n\t\t\t\treturn res.inject.apply(res, arguments);\n\t\t\t},\n\t\n\t\t\teach: function(iter, bind) {\n\t\t\t\treturn each(this, iter, bind);\n\t\t\t},\n\t\n\t\t\tclone: function() {\n\t\t\t\treturn new this.constructor(this);\n\t\t\t},\n\t\n\t\t\tstatics: {\n\t\t\t\tset: set,\n\t\t\t\teach: each,\n\t\t\t\tcreate: create,\n\t\t\t\tdefine: define,\n\t\t\t\tdescribe: describe,\n\t\n\t\t\t\tclone: function(obj) {\n\t\t\t\t\treturn set(new obj.constructor(), obj);\n\t\t\t\t},\n\t\n\t\t\t\tisPlainObject: function(obj) {\n\t\t\t\t\tvar ctor = obj != null && obj.constructor;\n\t\t\t\t\treturn ctor && (ctor === Object || ctor === Base\n\t\t\t\t\t\t\t|| ctor.name === 'Object');\n\t\t\t\t},\n\t\n\t\t\t\tpick: function(a, b) {\n\t\t\t\t\treturn a !== undefined ? a : b;\n\t\t\t\t},\n\t\n\t\t\t\tslice: function(list, begin, end) {\n\t\t\t\t\treturn slice.call(list, begin, end);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t\n\tif (true)\n\t\tmodule.exports = Base;\n\t\n\tBase.inject({\n\t\tenumerable: false,\n\t\n\t\ttoString: function() {\n\t\t\treturn this._id != null\n\t\t\t\t?  (this._class || 'Object') + (this._name\n\t\t\t\t\t? \" '\" + this._name + \"'\"\n\t\t\t\t\t: ' @' + this._id)\n\t\t\t\t: '{ ' + Base.each(this, function(value, key) {\n\t\t\t\t\tif (!/^_/.test(key)) {\n\t\t\t\t\t\tvar type = typeof value;\n\t\t\t\t\t\tthis.push(key + ': ' + (type === 'number'\n\t\t\t\t\t\t\t\t? Formatter.instance.number(value)\n\t\t\t\t\t\t\t\t: type === 'string' ? \"'\" + value + \"'\" : value));\n\t\t\t\t\t}\n\t\t\t\t}, []).join(', ') + ' }';\n\t\t},\n\t\n\t\tgetClassName: function() {\n\t\t\treturn this._class || '';\n\t\t},\n\t\n\t\timportJSON: function(json) {\n\t\t\treturn Base.importJSON(json, this);\n\t\t},\n\t\n\t\texportJSON: function(options) {\n\t\t\treturn Base.exportJSON(this, options);\n\t\t},\n\t\n\t\ttoJSON: function() {\n\t\t\treturn Base.serialize(this);\n\t\t},\n\t\n\t\tset: function(props, exclude) {\n\t\t\tif (props)\n\t\t\t\tBase.filter(this, props, exclude, this._prioritize);\n\t\t\treturn this;\n\t\t}\n\t}, {\n\t\n\tbeans: false,\n\tstatics: {\n\t\texports: {},\n\t\n\t\textend: function extend() {\n\t\t\tvar res = extend.base.apply(this, arguments),\n\t\t\t\tname = res.prototype._class;\n\t\t\tif (name && !Base.exports[name])\n\t\t\t\tBase.exports[name] = res;\n\t\t\treturn res;\n\t\t},\n\t\n\t\tequals: function(obj1, obj2) {\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tif (obj1 && obj1.equals)\n\t\t\t\treturn obj1.equals(obj2);\n\t\t\tif (obj2 && obj2.equals)\n\t\t\t\treturn obj2.equals(obj1);\n\t\t\tif (obj1 && obj2\n\t\t\t\t\t&& typeof obj1 === 'object' && typeof obj2 === 'object') {\n\t\t\t\tif (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\t\t\t\tvar length = obj1.length;\n\t\t\t\t\tif (length !== obj2.length)\n\t\t\t\t\t\treturn false;\n\t\t\t\t\twhile (length--) {\n\t\t\t\t\t\tif (!Base.equals(obj1[length], obj2[length]))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar keys = Object.keys(obj1),\n\t\t\t\t\t\tlength = keys.length;\n\t\t\t\t\tif (length !== Object.keys(obj2).length)\n\t\t\t\t\t\treturn false;\n\t\t\t\t\twhile (length--) {\n\t\t\t\t\t\tvar key = keys[length];\n\t\t\t\t\t\tif (!(obj2.hasOwnProperty(key)\n\t\t\t\t\t\t\t\t&& Base.equals(obj1[key], obj2[key])))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\n\t\tread: function(list, start, options, amount) {\n\t\t\tif (this === Base) {\n\t\t\t\tvar value = this.peek(list, start);\n\t\t\t\tlist.__index++;\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tvar proto = this.prototype,\n\t\t\t\treadIndex = proto._readIndex,\n\t\t\t\tbegin = start || readIndex && list.__index || 0,\n\t\t\t\tlength = list.length,\n\t\t\t\tobj = list[begin];\n\t\t\tamount = amount || length - begin;\n\t\t\tif (obj instanceof this\n\t\t\t\t|| options && options.readNull && obj == null && amount <= 1) {\n\t\t\t\tif (readIndex)\n\t\t\t\t\tlist.__index = begin + 1;\n\t\t\t\treturn obj && options && options.clone ? obj.clone() : obj;\n\t\t\t}\n\t\t\tobj = Base.create(proto);\n\t\t\tif (readIndex)\n\t\t\t\tobj.__read = true;\n\t\t\tobj = obj.initialize.apply(obj, begin > 0 || begin + amount < length\n\t\t\t\t\t? Base.slice(list, begin, begin + amount)\n\t\t\t\t\t: list) || obj;\n\t\t\tif (readIndex) {\n\t\t\t\tlist.__index = begin + obj.__read;\n\t\t\t\tvar filtered = obj.__filtered;\n\t\t\t\tif (filtered) {\n\t\t\t\t\tlist.__filtered = filtered;\n\t\t\t\t\tobj.__filtered = undefined;\n\t\t\t\t}\n\t\t\t\tobj.__read = undefined;\n\t\t\t}\n\t\t\treturn obj;\n\t\t},\n\t\n\t\tpeek: function(list, start) {\n\t\t\treturn list[list.__index = start || list.__index || 0];\n\t\t},\n\t\n\t\tremain: function(list) {\n\t\t\treturn list.length - (list.__index || 0);\n\t\t},\n\t\n\t\treadList: function(list, start, options, amount) {\n\t\t\tvar res = [],\n\t\t\t\tentry,\n\t\t\t\tbegin = start || 0,\n\t\t\t\tend = amount ? begin + amount : list.length;\n\t\t\tfor (var i = begin; i < end; i++) {\n\t\t\t\tres.push(Array.isArray(entry = list[i])\n\t\t\t\t\t\t? this.read(entry, 0, options)\n\t\t\t\t\t\t: this.read(list, i, options, 1));\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\n\t\treadNamed: function(list, name, start, options, amount) {\n\t\t\tvar value = this.getNamed(list, name),\n\t\t\t\thasObject = value !== undefined;\n\t\t\tif (hasObject) {\n\t\t\t\tvar filtered = list.__filtered;\n\t\t\t\tif (!filtered) {\n\t\t\t\t\tfiltered = list.__filtered = Base.create(list[0]);\n\t\t\t\t\tfiltered.__unfiltered = list[0];\n\t\t\t\t}\n\t\t\t\tfiltered[name] = undefined;\n\t\t\t}\n\t\t\tvar l = hasObject ? [value] : list,\n\t\t\t\tres = this.read(l, start, options, amount);\n\t\t\treturn res;\n\t\t},\n\t\n\t\tgetNamed: function(list, name) {\n\t\t\tvar arg = list[0];\n\t\t\tif (list._hasObject === undefined)\n\t\t\t\tlist._hasObject = list.length === 1 && Base.isPlainObject(arg);\n\t\t\tif (list._hasObject)\n\t\t\t\treturn name ? arg[name] : list.__filtered || arg;\n\t\t},\n\t\n\t\thasNamed: function(list, name) {\n\t\t\treturn !!this.getNamed(list, name);\n\t\t},\n\t\n\t\tfilter: function(dest, source, exclude, prioritize) {\n\t\t\tvar processed;\n\t\n\t\t\tfunction handleKey(key) {\n\t\t\t\tif (!(exclude && key in exclude) &&\n\t\t\t\t\t!(processed && key in processed)) {\n\t\t\t\t\tvar value = source[key];\n\t\t\t\t\tif (value !== undefined)\n\t\t\t\t\t\tdest[key] = value;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (prioritize) {\n\t\t\t\tvar keys = {};\n\t\t\t\tfor (var i = 0, key, l = prioritize.length; i < l; i++) {\n\t\t\t\t\tif ((key = prioritize[i]) in source) {\n\t\t\t\t\t\thandleKey(key);\n\t\t\t\t\t\tkeys[key] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprocessed = keys;\n\t\t\t}\n\t\n\t\t\tObject.keys(source.__unfiltered || source).forEach(handleKey);\n\t\t\treturn dest;\n\t\t},\n\t\n\t\tisPlainValue: function(obj, asString) {\n\t\t\treturn Base.isPlainObject(obj) || Array.isArray(obj)\n\t\t\t\t\t|| asString && typeof obj === 'string';\n\t\t},\n\t\n\t\tserialize: function(obj, options, compact, dictionary) {\n\t\t\toptions = options || {};\n\t\n\t\t\tvar isRoot = !dictionary,\n\t\t\t\tres;\n\t\t\tif (isRoot) {\n\t\t\t\toptions.formatter = new Formatter(options.precision);\n\t\t\t\tdictionary = {\n\t\t\t\t\tlength: 0,\n\t\t\t\t\tdefinitions: {},\n\t\t\t\t\treferences: {},\n\t\t\t\t\tadd: function(item, create) {\n\t\t\t\t\t\tvar id = '#' + item._id,\n\t\t\t\t\t\t\tref = this.references[id];\n\t\t\t\t\t\tif (!ref) {\n\t\t\t\t\t\t\tthis.length++;\n\t\t\t\t\t\t\tvar res = create.call(item),\n\t\t\t\t\t\t\t\tname = item._class;\n\t\t\t\t\t\t\tif (name && res[0] !== name)\n\t\t\t\t\t\t\t\tres.unshift(name);\n\t\t\t\t\t\t\tthis.definitions[id] = res;\n\t\t\t\t\t\t\tref = this.references[id] = [id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn ref;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (obj && obj._serialize) {\n\t\t\t\tres = obj._serialize(options, dictionary);\n\t\t\t\tvar name = obj._class;\n\t\t\t\tif (name && !obj._compactSerialize && (isRoot || !compact)\n\t\t\t\t\t\t&& res[0] !== name) {\n\t\t\t\t\tres.unshift(name);\n\t\t\t\t}\n\t\t\t} else if (Array.isArray(obj)) {\n\t\t\t\tres = [];\n\t\t\t\tfor (var i = 0, l = obj.length; i < l; i++)\n\t\t\t\t\tres[i] = Base.serialize(obj[i], options, compact, dictionary);\n\t\t\t} else if (Base.isPlainObject(obj)) {\n\t\t\t\tres = {};\n\t\t\t\tvar keys = Object.keys(obj);\n\t\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\t\t\tvar key = keys[i];\n\t\t\t\t\tres[key] = Base.serialize(obj[key], options, compact,\n\t\t\t\t\t\t\tdictionary);\n\t\t\t\t}\n\t\t\t} else if (typeof obj === 'number') {\n\t\t\t\tres = options.formatter.number(obj, options.precision);\n\t\t\t} else {\n\t\t\t\tres = obj;\n\t\t\t}\n\t\t\treturn isRoot && dictionary.length > 0\n\t\t\t\t\t? [['dictionary', dictionary.definitions], res]\n\t\t\t\t\t: res;\n\t\t},\n\t\n\t\tdeserialize: function(json, create, _data, _setDictionary, _isRoot) {\n\t\t\tvar res = json,\n\t\t\t\tisFirst = !_data,\n\t\t\t\thasDictionary = isFirst && json && json.length\n\t\t\t\t\t&& json[0][0] === 'dictionary';\n\t\t\t_data = _data || {};\n\t\t\tif (Array.isArray(json)) {\n\t\t\t\tvar type = json[0],\n\t\t\t\t\tisDictionary = type === 'dictionary';\n\t\t\t\tif (json.length == 1 && /^#/.test(type)) {\n\t\t\t\t\treturn _data.dictionary[type];\n\t\t\t\t}\n\t\t\t\ttype = Base.exports[type];\n\t\t\t\tres = [];\n\t\t\t\tfor (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n\t\t\t\t\tres.push(Base.deserialize(json[i], create, _data,\n\t\t\t\t\t\t\tisDictionary, hasDictionary));\n\t\t\t\t}\n\t\t\t\tif (type) {\n\t\t\t\t\tvar args = res;\n\t\t\t\t\tif (create) {\n\t\t\t\t\t\tres = create(type, args, isFirst || _isRoot);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres = Base.create(type.prototype);\n\t\t\t\t\t\ttype.apply(res, args);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (Base.isPlainObject(json)) {\n\t\t\t\tres = {};\n\t\t\t\tif (_setDictionary)\n\t\t\t\t\t_data.dictionary = res;\n\t\t\t\tfor (var key in json)\n\t\t\t\t\tres[key] = Base.deserialize(json[key], create, _data);\n\t\t\t}\n\t\t\treturn hasDictionary ? res[1] : res;\n\t\t},\n\t\n\t\texportJSON: function(obj, options) {\n\t\t\tvar json = Base.serialize(obj, options);\n\t\t\treturn options && options.asString == false\n\t\t\t\t\t? json\n\t\t\t\t\t: JSON.stringify(json);\n\t\t},\n\t\n\t\timportJSON: function(json, target) {\n\t\t\treturn Base.deserialize(\n\t\t\t\t\ttypeof json === 'string' ? JSON.parse(json) : json,\n\t\t\t\t\tfunction(ctor, args, isRoot) {\n\t\t\t\t\t\tvar useTarget = isRoot && target\n\t\t\t\t\t\t\t\t&& target.constructor === ctor,\n\t\t\t\t\t\t\tobj = useTarget ? target\n\t\t\t\t\t\t\t\t: Base.create(ctor.prototype);\n\t\t\t\t\t\tif (args.length === 1 && obj instanceof Item\n\t\t\t\t\t\t\t\t&& (useTarget || !(obj instanceof Layer))) {\n\t\t\t\t\t\t\tvar arg = args[0];\n\t\t\t\t\t\t\tif (Base.isPlainObject(arg))\n\t\t\t\t\t\t\t\targ.insert = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t(useTarget ? obj.set : ctor).apply(obj, args);\n\t\t\t\t\t\tif (useTarget)\n\t\t\t\t\t\t\ttarget = null;\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t});\n\t\t},\n\t\n\t\tsplice: function(list, items, index, remove) {\n\t\t\tvar amount = items && items.length,\n\t\t\t\tappend = index === undefined;\n\t\t\tindex = append ? list.length : index;\n\t\t\tif (index > list.length)\n\t\t\t\tindex = list.length;\n\t\t\tfor (var i = 0; i < amount; i++)\n\t\t\t\titems[i]._index = index + i;\n\t\t\tif (append) {\n\t\t\t\tlist.push.apply(list, items);\n\t\t\t\treturn [];\n\t\t\t} else {\n\t\t\t\tvar args = [index, remove];\n\t\t\t\tif (items)\n\t\t\t\t\targs.push.apply(args, items);\n\t\t\t\tvar removed = list.splice.apply(list, args);\n\t\t\t\tfor (var i = 0, l = removed.length; i < l; i++)\n\t\t\t\t\tremoved[i]._index = undefined;\n\t\t\t\tfor (var i = index + amount, l = list.length; i < l; i++)\n\t\t\t\t\tlist[i]._index = i;\n\t\t\t\treturn removed;\n\t\t\t}\n\t\t},\n\t\n\t\tcapitalize: function(str) {\n\t\t\treturn str.replace(/\\b[a-z]/g, function(match) {\n\t\t\t\treturn match.toUpperCase();\n\t\t\t});\n\t\t},\n\t\n\t\tcamelize: function(str) {\n\t\t\treturn str.replace(/-(.)/g, function(match, chr) {\n\t\t\t\treturn chr.toUpperCase();\n\t\t\t});\n\t\t},\n\t\n\t\thyphenate: function(str) {\n\t\t\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t\t}\n\t}});\n\t\n\tvar Emitter = {\n\t\ton: function(type, func) {\n\t\t\tif (typeof type !== 'string') {\n\t\t\t\tBase.each(type, function(value, key) {\n\t\t\t\t\tthis.on(key, value);\n\t\t\t\t}, this);\n\t\t\t} else {\n\t\t\t\tvar types = this._eventTypes,\n\t\t\t\t\tentry = types && types[type],\n\t\t\t\t\thandlers = this._callbacks = this._callbacks || {};\n\t\t\t\thandlers = handlers[type] = handlers[type] || [];\n\t\t\t\tif (handlers.indexOf(func) === -1) {\n\t\t\t\t\thandlers.push(func);\n\t\t\t\t\tif (entry && entry.install && handlers.length === 1)\n\t\t\t\t\t\tentry.install.call(this, type);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\n\t\toff: function(type, func) {\n\t\t\tif (typeof type !== 'string') {\n\t\t\t\tBase.each(type, function(value, key) {\n\t\t\t\t\tthis.off(key, value);\n\t\t\t\t}, this);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar types = this._eventTypes,\n\t\t\t\tentry = types && types[type],\n\t\t\t\thandlers = this._callbacks && this._callbacks[type],\n\t\t\t\tindex;\n\t\t\tif (handlers) {\n\t\t\t\tif (!func || (index = handlers.indexOf(func)) !== -1\n\t\t\t\t\t\t&& handlers.length === 1) {\n\t\t\t\t\tif (entry && entry.uninstall)\n\t\t\t\t\t\tentry.uninstall.call(this, type);\n\t\t\t\t\tdelete this._callbacks[type];\n\t\t\t\t} else if (index !== -1) {\n\t\t\t\t\thandlers.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\n\t\tonce: function(type, func) {\n\t\t\treturn this.on(type, function() {\n\t\t\t\tfunc.apply(this, arguments);\n\t\t\t\tthis.off(type, func);\n\t\t\t});\n\t\t},\n\t\n\t\temit: function(type, event) {\n\t\t\tvar handlers = this._callbacks && this._callbacks[type];\n\t\t\tif (!handlers)\n\t\t\t\treturn false;\n\t\t\tvar args = Base.slice(arguments, 1),\n\t\t\t\tsetTarget = event && event.target && !event.currentTarget;\n\t\t\thandlers = handlers.slice();\n\t\t\tif (setTarget)\n\t\t\t\tevent.currentTarget = this;\n\t\t\tfor (var i = 0, l = handlers.length; i < l; i++) {\n\t\t\t\tif (handlers[i].apply(this, args) == false) {\n\t\t\t\t\tif (event && event.stop)\n\t\t\t\t\t\tevent.stop();\n\t\t\t\t\tbreak;\n\t\t\t   }\n\t\t\t}\n\t\t\tif (setTarget)\n\t\t\t\tdelete event.currentTarget;\n\t\t\treturn true;\n\t\t},\n\t\n\t\tresponds: function(type) {\n\t\t\treturn !!(this._callbacks && this._callbacks[type]);\n\t\t},\n\t\n\t\tattach: '#on',\n\t\tdetach: '#off',\n\t\tfire: '#emit',\n\t\n\t\t_installEvents: function(install) {\n\t\t\tvar types = this._eventTypes,\n\t\t\t\thandlers = this._callbacks,\n\t\t\t\tkey = install ? 'install' : 'uninstall';\n\t\t\tif (types) {\n\t\t\t\tfor (var type in handlers) {\n\t\t\t\t\tif (handlers[type].length > 0) {\n\t\t\t\t\t\tvar entry = types[type],\n\t\t\t\t\t\t\tfunc = entry && entry[key];\n\t\t\t\t\t\tif (func)\n\t\t\t\t\t\t\tfunc.call(this, type);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tstatics: {\n\t\t\tinject: function inject(src) {\n\t\t\t\tvar events = src._events;\n\t\t\t\tif (events) {\n\t\t\t\t\tvar types = {};\n\t\t\t\t\tBase.each(events, function(entry, key) {\n\t\t\t\t\t\tvar isString = typeof entry === 'string',\n\t\t\t\t\t\t\tname = isString ? entry : key,\n\t\t\t\t\t\t\tpart = Base.capitalize(name),\n\t\t\t\t\t\t\ttype = name.substring(2).toLowerCase();\n\t\t\t\t\t\ttypes[type] = isString ? {} : entry;\n\t\t\t\t\t\tname = '_' + name;\n\t\t\t\t\t\tsrc['get' + part] = function() {\n\t\t\t\t\t\t\treturn this[name];\n\t\t\t\t\t\t};\n\t\t\t\t\t\tsrc['set' + part] = function(func) {\n\t\t\t\t\t\t\tvar prev = this[name];\n\t\t\t\t\t\t\tif (prev)\n\t\t\t\t\t\t\t\tthis.off(type, prev);\n\t\t\t\t\t\t\tif (func)\n\t\t\t\t\t\t\t\tthis.on(type, func);\n\t\t\t\t\t\t\tthis[name] = func;\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tsrc._eventTypes = types;\n\t\t\t\t}\n\t\t\t\treturn inject.base.apply(this, arguments);\n\t\t\t}\n\t\t}\n\t};\n\t\n\tvar PaperScope = Base.extend({\n\t\t_class: 'PaperScope',\n\t\n\t\tinitialize: function PaperScope() {\n\t\t\tpaper = this;\n\t\t\tthis.settings = new Base({\n\t\t\t\tapplyMatrix: true,\n\t\t\t\tinsertItems: true,\n\t\t\t\thandleSize: 4,\n\t\t\t\thitTolerance: 0\n\t\t\t});\n\t\t\tthis.project = null;\n\t\t\tthis.projects = [];\n\t\t\tthis.tools = [];\n\t\t\tthis._id = PaperScope._id++;\n\t\t\tPaperScope._scopes[this._id] = this;\n\t\t\tvar proto = PaperScope.prototype;\n\t\t\tif (!this.support) {\n\t\t\t\tvar ctx = CanvasProvider.getContext(1, 1) || {};\n\t\t\t\tproto.support = {\n\t\t\t\t\tnativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n\t\t\t\t\tnativeBlendModes: BlendMode.nativeModes\n\t\t\t\t};\n\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t}\n\t\t\tif (!this.agent) {\n\t\t\t\tvar user = self.navigator.userAgent.toLowerCase(),\n\t\t\t\t\tos = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user)||[])[0],\n\t\t\t\t\tplatform = os === 'darwin' ? 'mac' : os,\n\t\t\t\t\tagent = proto.agent = proto.browser = { platform: platform };\n\t\t\t\tif (platform)\n\t\t\t\t\tagent[platform] = true;\n\t\t\t\tuser.replace(\n\t\t\t\t\t/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g,\n\t\t\t\t\tfunction(match, n, v1, v2, rv) {\n\t\t\t\t\t\tif (!agent.chrome) {\n\t\t\t\t\t\t\tvar v = n === 'opera' ? v2 :\n\t\t\t\t\t\t\t\t\t/^(node|trident)$/.test(n) ? rv : v1;\n\t\t\t\t\t\t\tagent.version = v;\n\t\t\t\t\t\t\tagent.versionNumber = parseFloat(v);\n\t\t\t\t\t\t\tn = n === 'trident' ? 'msie' : n;\n\t\t\t\t\t\t\tagent.name = n;\n\t\t\t\t\t\t\tagent[n] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tif (agent.chrome)\n\t\t\t\t\tdelete agent.webkit;\n\t\t\t\tif (agent.atom)\n\t\t\t\t\tdelete agent.chrome;\n\t\t\t}\n\t\t},\n\t\n\t\tversion: \"0.11.4\",\n\t\n\t\tgetView: function() {\n\t\t\tvar project = this.project;\n\t\t\treturn project && project._view;\n\t\t},\n\t\n\t\tgetPaper: function() {\n\t\t\treturn this;\n\t\t},\n\t\n\t\texecute: function(code, options) {\n\t\t\tpaper.PaperScript.execute(code, this, options);\n\t\t\tView.updateFocus();\n\t\t},\n\t\n\t\tinstall: function(scope) {\n\t\t\tvar that = this;\n\t\t\tBase.each(['project', 'view', 'tool'], function(key) {\n\t\t\t\tBase.define(scope, key, {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn that[key];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tfor (var key in this)\n\t\t\t\tif (!/^_/.test(key) && this[key])\n\t\t\t\t\tscope[key] = this[key];\n\t\t},\n\t\n\t\tsetup: function(element) {\n\t\t\tpaper = this;\n\t\t\tthis.project = new Project(element);\n\t\t\treturn this;\n\t\t},\n\t\n\t\tcreateCanvas: function(width, height) {\n\t\t\treturn CanvasProvider.getCanvas(width, height);\n\t\t},\n\t\n\t\tactivate: function() {\n\t\t\tpaper = this;\n\t\t},\n\t\n\t\tclear: function() {\n\t\t\tvar projects = this.projects,\n\t\t\t\ttools = this.tools;\n\t\t\tfor (var i = projects.length - 1; i >= 0; i--)\n\t\t\t\tprojects[i].remove();\n\t\t\tfor (var i = tools.length - 1; i >= 0; i--)\n\t\t\t\ttools[i].remove();\n\t\t},\n\t\n\t\tremove: function() {\n\t\t\tthis.clear();\n\t\t\tdelete PaperScope._scopes[this._id];\n\t\t},\n\t\n\t\tstatics: new function() {\n\t\t\tfunction handleAttribute(name) {\n\t\t\t\tname += 'Attribute';\n\t\t\t\treturn function(el, attr) {\n\t\t\t\t\treturn el[name](attr) || el[name]('data-paper-' + attr);\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\t_scopes: {},\n\t\t\t\t_id: 0,\n\t\n\t\t\t\tget: function(id) {\n\t\t\t\t\treturn this._scopes[id] || null;\n\t\t\t\t},\n\t\n\t\t\t\tgetAttribute: handleAttribute('get'),\n\t\t\t\thasAttribute: handleAttribute('has')\n\t\t\t};\n\t\t}\n\t});\n\t\n\tvar PaperScopeItem = Base.extend(Emitter, {\n\t\n\t\tinitialize: function(activate) {\n\t\t\tthis._scope = paper;\n\t\t\tthis._index = this._scope[this._list].push(this) - 1;\n\t\t\tif (activate || !this._scope[this._reference])\n\t\t\t\tthis.activate();\n\t\t},\n\t\n\t\tactivate: function() {\n\t\t\tif (!this._scope)\n\t\t\t\treturn false;\n\t\t\tvar prev = this._scope[this._reference];\n\t\t\tif (prev && prev !== this)\n\t\t\t\tprev.emit('deactivate');\n\t\t\tthis._scope[this._reference] = this;\n\t\t\tthis.emit('activate', prev);\n\t\t\treturn true;\n\t\t},\n\t\n\t\tisActive: function() {\n\t\t\treturn this._scope[this._reference] === this;\n\t\t},\n\t\n\t\tremove: function() {\n\t\t\tif (this._index == null)\n\t\t\t\treturn false;\n\t\t\tBase.splice(this._scope[this._list], null, this._index, 1);\n\t\t\tif (this._scope[this._reference] == this)\n\t\t\t\tthis._scope[this._reference] = null;\n\t\t\tthis._scope = null;\n\t\t\treturn true;\n\t\t},\n\t\n\t\tgetView: function() {\n\t\t\treturn this._scope.getView();\n\t\t}\n\t});\n\t\n\tvar Formatter = Base.extend({\n\t\tinitialize: function(precision) {\n\t\t\tthis.precision = Base.pick(precision, 5);\n\t\t\tthis.multiplier = Math.pow(10, this.precision);\n\t\t},\n\t\n\t\tnumber: function(val) {\n\t\t\treturn this.precision < 16\n\t\t\t\t\t? Math.round(val * this.multiplier) / this.multiplier : val;\n\t\t},\n\t\n\t\tpair: function(val1, val2, separator) {\n\t\t\treturn this.number(val1) + (separator || ',') + this.number(val2);\n\t\t},\n\t\n\t\tpoint: function(val, separator) {\n\t\t\treturn this.number(val.x) + (separator || ',') + this.number(val.y);\n\t\t},\n\t\n\t\tsize: function(val, separator) {\n\t\t\treturn this.number(val.width) + (separator || ',')\n\t\t\t\t\t+ this.number(val.height);\n\t\t},\n\t\n\t\trectangle: function(val, separator) {\n\t\t\treturn this.point(val, separator) + (separator || ',')\n\t\t\t\t\t+ this.size(val, separator);\n\t\t}\n\t});\n\t\n\tFormatter.instance = new Formatter();\n\t\n\tvar Numerical = new function() {\n\t\n\t\tvar abscissas = [\n\t\t\t[  0.5773502691896257645091488],\n\t\t\t[0,0.7745966692414833770358531],\n\t\t\t[  0.3399810435848562648026658,0.8611363115940525752239465],\n\t\t\t[0,0.5384693101056830910363144,0.9061798459386639927976269],\n\t\t\t[  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\n\t\t\t[0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\n\t\t\t[  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\n\t\t\t[0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\n\t\t\t[  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\n\t\t\t[0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\n\t\t\t[  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\n\t\t\t[0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\n\t\t\t[  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\n\t\t\t[0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\n\t\t\t[  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\n\t\t];\n\t\n\t\tvar weights = [\n\t\t\t[1],\n\t\t\t[0.8888888888888888888888889,0.5555555555555555555555556],\n\t\t\t[0.6521451548625461426269361,0.3478548451374538573730639],\n\t\t\t[0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\n\t\t\t[0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\n\t\t\t[0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\n\t\t\t[0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\n\t\t\t[0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\n\t\t\t[0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\n\t\t\t[0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\n\t\t\t[0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\n\t\t\t[0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\n\t\t\t[0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\n\t\t\t[0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\n\t\t\t[0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\n\t\t];\n\t\n\t\tvar abs = Math.abs,\n\t\t\tsqrt = Math.sqrt,\n\t\t\tpow = Math.pow,\n\t\t\tlog2 = Math.log2 || function(x) {\n\t\t\t\treturn Math.log(x) * Math.LOG2E;\n\t\t\t},\n\t\t\tEPSILON = 1e-12,\n\t\t\tMACHINE_EPSILON = 1.12e-16;\n\t\n\t\tfunction clamp(value, min, max) {\n\t\t\treturn value < min ? min : value > max ? max : value;\n\t\t}\n\t\n\t\tfunction getDiscriminant(a, b, c) {\n\t\t\tfunction split(v) {\n\t\t\t\tvar x = v * 134217729,\n\t\t\t\t\ty = v - x,\n\t\t\t\t\thi = y + x,\n\t\t\t\t\tlo = v - hi;\n\t\t\t\treturn [hi, lo];\n\t\t\t}\n\t\n\t\t\tvar D = b * b - a * c,\n\t\t\t\tE = b * b + a * c;\n\t\t\tif (abs(D) * 3 < E) {\n\t\t\t\tvar ad = split(a),\n\t\t\t\t\tbd = split(b),\n\t\t\t\t\tcd = split(c),\n\t\t\t\t\tp = b * b,\n\t\t\t\t\tdp = (bd[0] * bd[0] - p + 2 * bd[0] * bd[1]) + bd[1] * bd[1],\n\t\t\t\t\tq = a * c,\n\t\t\t\t\tdq = (ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0])\n\t\t\t\t\t\t\t+ ad[1] * cd[1];\n\t\t\t\tD = (p - q) + (dp - dq);\n\t\t\t}\n\t\t\treturn D;\n\t\t}\n\t\n\t\tfunction getNormalizationFactor() {\n\t\t\tvar norm = Math.max.apply(Math, arguments);\n\t\t\treturn norm && (norm < 1e-8 || norm > 1e8)\n\t\t\t\t\t? pow(2, -Math.round(log2(norm)))\n\t\t\t\t\t: 0;\n\t\t}\n\t\n\t\treturn {\n\t\t\tEPSILON: EPSILON,\n\t\t\tMACHINE_EPSILON: MACHINE_EPSILON,\n\t\t\tCURVETIME_EPSILON: 1e-8,\n\t\t\tGEOMETRIC_EPSILON: 1e-7,\n\t\t\tTRIGONOMETRIC_EPSILON: 1e-8,\n\t\t\tKAPPA: 4 * (sqrt(2) - 1) / 3,\n\t\n\t\t\tisZero: function(val) {\n\t\t\t\treturn val >= -EPSILON && val <= EPSILON;\n\t\t\t},\n\t\n\t\t\tclamp: clamp,\n\t\n\t\t\tintegrate: function(f, a, b, n) {\n\t\t\t\tvar x = abscissas[n - 2],\n\t\t\t\t\tw = weights[n - 2],\n\t\t\t\t\tA = (b - a) * 0.5,\n\t\t\t\t\tB = A + a,\n\t\t\t\t\ti = 0,\n\t\t\t\t\tm = (n + 1) >> 1,\n\t\t\t\t\tsum = n & 1 ? w[i++] * f(B) : 0;\n\t\t\t\twhile (i < m) {\n\t\t\t\t\tvar Ax = A * x[i];\n\t\t\t\t\tsum += w[i++] * (f(B + Ax) + f(B - Ax));\n\t\t\t\t}\n\t\t\t\treturn A * sum;\n\t\t\t},\n\t\n\t\t\tfindRoot: function(f, df, x, a, b, n, tolerance) {\n\t\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\t\tvar fx = f(x),\n\t\t\t\t\t\tdx = fx / df(x),\n\t\t\t\t\t\tnx = x - dx;\n\t\t\t\t\tif (abs(dx) < tolerance) {\n\t\t\t\t\t\tx = nx;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (fx > 0) {\n\t\t\t\t\t\tb = x;\n\t\t\t\t\t\tx = nx <= a ? (a + b) * 0.5 : nx;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ta = x;\n\t\t\t\t\t\tx = nx >= b ? (a + b) * 0.5 : nx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn clamp(x, a, b);\n\t\t\t},\n\t\n\t\t\tsolveQuadratic: function(a, b, c, roots, min, max) {\n\t\t\t\tvar x1, x2 = Infinity;\n\t\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\t\tif (abs(b) < EPSILON)\n\t\t\t\t\t\treturn abs(c) < EPSILON ? -1 : 0;\n\t\t\t\t\tx1 = -c / b;\n\t\t\t\t} else {\n\t\t\t\t\tb *= -0.5;\n\t\t\t\t\tvar D = getDiscriminant(a, b, c);\n\t\t\t\t\tif (D && abs(D) < MACHINE_EPSILON) {\n\t\t\t\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\t\t\t\t\t\tif (f) {\n\t\t\t\t\t\t\ta *= f;\n\t\t\t\t\t\t\tb *= f;\n\t\t\t\t\t\t\tc *= f;\n\t\t\t\t\t\t\tD = getDiscriminant(a, b, c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (D >= -MACHINE_EPSILON) {\n\t\t\t\t\t\tvar Q = D < 0 ? 0 : sqrt(D),\n\t\t\t\t\t\t\tR = b + (b < 0 ? -Q : Q);\n\t\t\t\t\t\tif (R === 0) {\n\t\t\t\t\t\t\tx1 = c / a;\n\t\t\t\t\t\t\tx2 = -x1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tx1 = R / a;\n\t\t\t\t\t\t\tx2 = c / R;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar count = 0,\n\t\t\t\t\tboundless = min == null,\n\t\t\t\t\tminB = min - EPSILON,\n\t\t\t\t\tmaxB = max + EPSILON;\n\t\t\t\tif (isFinite(x1) && (boundless || x1 > minB && x1 < maxB))\n\t\t\t\t\troots[count++] = boundless ? x1 : clamp(x1, min, max);\n\t\t\t\tif (x2 !== x1\n\t\t\t\t\t\t&& isFinite(x2) && (boundless || x2 > minB && x2 < maxB))\n\t\t\t\t\troots[count++] = boundless ? x2 : clamp(x2, min, max);\n\t\t\t\treturn count;\n\t\t\t},\n\t\n\t\t\tsolveCubic: function(a, b, c, d, roots, min, max) {\n\t\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n\t\t\t\t\tx, b1, c2, qd, q;\n\t\t\t\tif (f) {\n\t\t\t\t\ta *= f;\n\t\t\t\t\tb *= f;\n\t\t\t\t\tc *= f;\n\t\t\t\t\td *= f;\n\t\t\t\t}\n\t\n\t\t\t\tfunction evaluate(x0) {\n\t\t\t\t\tx = x0;\n\t\t\t\t\tvar tmp = a * x;\n\t\t\t\t\tb1 = tmp + b;\n\t\t\t\t\tc2 = b1 * x + c;\n\t\t\t\t\tqd = (tmp + b1) * x + c2;\n\t\t\t\t\tq = c2 * x + d;\n\t\t\t\t}\n\t\n\t\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\t\ta = b;\n\t\t\t\t\tb1 = c;\n\t\t\t\t\tc2 = d;\n\t\t\t\t\tx = Infinity;\n\t\t\t\t} else if (abs(d) < EPSILON) {\n\t\t\t\t\tb1 = b;\n\t\t\t\t\tc2 = c;\n\t\t\t\t\tx = 0;\n\t\t\t\t} else {\n\t\t\t\t\tevaluate(-(b / a) / 3);\n\t\t\t\t\tvar t = q / a,\n\t\t\t\t\t\tr = pow(abs(t), 1/3),\n\t\t\t\t\t\ts = t < 0 ? -1 : 1,\n\t\t\t\t\t\ttd = -qd / a,\n\t\t\t\t\t\trd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n\t\t\t\t\t\tx0 = x - s * rd;\n\t\t\t\t\tif (x0 !== x) {\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tevaluate(x0);\n\t\t\t\t\t\t\tx0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n\t\t\t\t\t\t} while (s * x0 > s * x);\n\t\t\t\t\t\tif (abs(a) * x * x > abs(d / x)) {\n\t\t\t\t\t\t\tc2 = -d / x;\n\t\t\t\t\t\t\tb1 = (c2 - c) / x;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n\t\t\t\t\tboundless = min == null;\n\t\t\t\tif (isFinite(x) && (count === 0\n\t\t\t\t\t\t|| count > 0 && x !== roots[0] && x !== roots[1])\n\t\t\t\t\t\t&& (boundless || x > min - EPSILON && x < max + EPSILON))\n\t\t\t\t\troots[count++] = boundless ? x : clamp(x, min, max);\n\t\t\t\treturn count;\n\t\t\t}\n\t\t};\n\t};\n\t\n\tvar UID = {\n\t\t_id: 1,\n\t\t_pools: {},\n\t\n\t\tget: function(name) {\n\t\t\tif (name) {\n\t\t\t\tvar pool = this._pools[name];\n\t\t\t\tif (!pool)\n\t\t\t\t\tpool = this._pools[name] = { _id: 1 };\n\t\t\t\treturn pool._id++;\n\t\t\t} else {\n\t\t\t\treturn this._id++;\n\t\t\t}\n\t\t}\n\t};\n\t\n\tvar Point = Base.extend({\n\t\t_class: 'Point',\n\t\t_readIndex: true,\n\t\n\t\tinitialize: function Point(arg0, arg1) {\n\t\t\tvar type = typeof arg0,\n\t\t\t\treading = this.__read,\n\t\t\t\tread = 0;\n\t\t\tif (type === 'number') {\n\t\t\t\tvar hasY = typeof arg1 === 'number';\n\t\t\t\tthis._set(arg0, hasY ? arg1 : arg0);\n\t\t\t\tif (reading)\n\t\t\t\t\tread = hasY ? 2 : 1;\n\t\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tif (reading)\n\t\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t\t} else {\n\t\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\t\tread = 1;\n\t\t\t\tif (Array.isArray(obj)) {\n\t\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t\t} else if ('x' in obj) {\n\t\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t\t} else if ('width' in obj) {\n\t\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t\t} else if ('angle' in obj) {\n\t\t\t\t\tthis._set(obj.length || 0, 0);\n\t\t\t\t\tthis.setAngle(obj.angle || 0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._set(0, 0);\n\t\t\t\t\tread = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (reading)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\t\n\t\tset: '#initialize',\n\t\n\t\t_set: function(x, y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t},\n\t\n\t\tequals: function(point) {\n\t\t\treturn this === point || point\n\t\t\t\t\t&& (this.x === point.x && this.y === point.y\n\t\t\t\t\t\t|| Array.isArray(point)\n\t\t\t\t\t\t\t&& this.x === point[0] && this.y === point[1])\n\t\t\t\t\t|| false;\n\t\t},\n\t\n\t\tclone: function() {\n\t\t\treturn new Point(this.x, this.y);\n\t\t},\n\t\n\t\ttoString: function() {\n\t\t\tvar f = Formatter.instance;\n\t\t\treturn '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n\t\t},\n\t\n\t\t_serialize: function(options) {\n\t\t\tvar f = options.formatter;\n\t\t\treturn [f.number(this.x), f.number(this.y)];\n\t\t},\n\t\n\t\tgetLength: function() {\n\t\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t\t},\n\t\n\t\tsetLength: function(length) {\n\t\t\tif (this.isZero()) {\n\t\t\t\tvar angle = this._angle || 0;\n\t\t\t\tthis._set(\n\t\t\t\t\tMath.cos(angle) * length,\n\t\t\t\t\tMath.sin(angle) * length\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tvar scale = length / this.getLength();\n\t\t\t\tif (Numerical.isZero(scale))\n\t\t\t\t\tthis.getAngle();\n\t\t\t\tthis._set(\n\t\t\t\t\tthis.x * scale,\n\t\t\t\t\tthis.y * scale\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tgetAngle: function() {\n\t\t\treturn this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n\t\t},\n\t\n\t\tsetAngle: function(angle) {\n\t\t\tthis.setAngleInRadians.call(this, angle * Math.PI / 180);\n\t\t},\n\t\n\t\tgetAngleInDegrees: '#getAngle',\n\t\tsetAngleInDegrees: '#setAngle',\n\t\n\t\tgetAngleInRadians: function() {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this.isZero()\n\t\t\t\t\t\t? this._angle || 0\n\t\t\t\t\t\t: this._angle = Math.atan2(this.y, this.x);\n\t\t\t} else {\n\t\t\t\tvar point = Point.read(arguments),\n\t\t\t\t\tdiv = this.getLength() * point.getLength();\n\t\t\t\tif (Numerical.isZero(div)) {\n\t\t\t\t\treturn NaN;\n\t\t\t\t} else {\n\t\t\t\t\tvar a = this.dot(point) / div;\n\t\t\t\t\treturn Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tsetAngleInRadians: function(angle) {\n\t\t\tthis._angle = angle;\n\t\t\tif (!this.isZero()) {\n\t\t\t\tvar length = this.getLength();\n\t\t\t\tthis._set(\n\t\t\t\t\tMath.cos(angle) * length,\n\t\t\t\t\tMath.sin(angle) * length\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\n\t\tgetQuadrant: function() {\n\t\t\treturn this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n\t\t}\n\t}, {\n\t\tbeans: false,\n\t\n\t\tgetDirectedAngle: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\treturn Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n\t\t},\n\t\n\t\tgetDistance: function() {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tx = point.x - this.x,\n\t\t\t\ty = point.y - this.y,\n\t\t\t\td = x * x + y * y,\n\t\t\t\tsquared = Base.read(arguments);\n\t\t\treturn squared ? d : Math.sqrt(d);\n\t\t},\n\t\n\t\tnormalize: function(length) {\n\t\t\tif (length === undefined)\n\t\t\t\tlength = 1;\n\t\t\tvar current = this.getLength(),\n\t\t\t\tscale = current !== 0 ? length / current : 0,\n\t\t\t\tpoint = new Point(this.x * scale, this.y * scale);\n\t\t\tif (scale >= 0)\n\t\t\t\tpoint._angle = this._angle;\n\t\t\treturn point;\n\t\t},\n\t\n\t\trotate: function(angle, center) {\n\t\t\tif (angle === 0)\n\t\t\t\treturn this.clone();\n\t\t\tangle = angle * Math.PI / 180;\n\t\t\tvar point = center ? this.subtract(center) : this,\n\t\t\t\tsin = Math.sin(angle),\n\t\t\t\tcos = Math.cos(angle);\n\t\t\tpoint = new Point(\n\t\t\t\tpoint.x * cos - point.y * sin,\n\t\t\t\tpoint.x * sin + point.y * cos\n\t\t\t);\n\t\t\treturn center ? point.add(center) : point;\n\t\t},\n\t\n\t\ttransform: function(matrix) {\n\t\t\treturn matrix ? matrix._transformPoint(this) : this;\n\t\t},\n\t\n\t\tadd: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\treturn new Point(this.x + point.x, this.y + point.y);\n\t\t},\n\t\n\t\tsubtract: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\treturn new Point(this.x - point.x, this.y - point.y);\n\t\t},\n\t\n\t\tmultiply: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\treturn new Point(this.x * point.x, this.y * point.y);\n\t\t},\n\t\n\t\tdivide: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\treturn new Point(this.x / point.x, this.y / point.y);\n\t\t},\n\t\n\t\tmodulo: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\treturn new Point(this.x % point.x, this.y % point.y);\n\t\t},\n\t\n\t\tnegate: function() {\n\t\t\treturn new Point(-this.x, -this.y);\n\t\t},\n\t\n\t\tisInside: function() {\n\t\t\treturn Rectangle.read(arguments).contains(this);\n\t\t},\n\t\n\t\tisClose: function() {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\ttolerance = Base.read(arguments);\n\t\t\treturn this.getDistance(point) <= tolerance;\n\t\t},\n\t\n\t\tisCollinear: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\treturn Point.isCollinear(this.x, this.y, point.x, point.y);\n\t\t},\n\t\n\t\tisColinear: '#isCollinear',\n\t\n\t\tisOrthogonal: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\treturn Point.isOrthogonal(this.x, this.y, point.x, point.y);\n\t\t},\n\t\n\t\tisZero: function() {\n\t\t\tvar isZero = Numerical.isZero;\n\t\t\treturn isZero(this.x) && isZero(this.y);\n\t\t},\n\t\n\t\tisNaN: function() {\n\t\t\treturn isNaN(this.x) || isNaN(this.y);\n\t\t},\n\t\n\t\tisInQuadrant: function(q) {\n\t\t\treturn this.x * (q > 1 && q < 4 ? -1 : 1) >= 0\n\t\t\t\t&& this.y * (q > 2 ? -1 : 1) >= 0;\n\t\t},\n\t\n\t\tdot: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\treturn this.x * point.x + this.y * point.y;\n\t\t},\n\t\n\t\tcross: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\treturn this.x * point.y - this.y * point.x;\n\t\t},\n\t\n\t\tproject: function() {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tscale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n\t\t\treturn new Point(\n\t\t\t\tpoint.x * scale,\n\t\t\t\tpoint.y * scale\n\t\t\t);\n\t\t},\n\t\n\t\tstatics: {\n\t\t\tmin: function() {\n\t\t\t\tvar point1 = Point.read(arguments),\n\t\t\t\t\tpoint2 = Point.read(arguments);\n\t\t\t\treturn new Point(\n\t\t\t\t\tMath.min(point1.x, point2.x),\n\t\t\t\t\tMath.min(point1.y, point2.y)\n\t\t\t\t);\n\t\t\t},\n\t\n\t\t\tmax: function() {\n\t\t\t\tvar point1 = Point.read(arguments),\n\t\t\t\t\tpoint2 = Point.read(arguments);\n\t\t\t\treturn new Point(\n\t\t\t\t\tMath.max(point1.x, point2.x),\n\t\t\t\t\tMath.max(point1.y, point2.y)\n\t\t\t\t);\n\t\t\t},\n\t\n\t\t\trandom: function() {\n\t\t\t\treturn new Point(Math.random(), Math.random());\n\t\t\t},\n\t\n\t\t\tisCollinear: function(x1, y1, x2, y2) {\n\t\t\t\treturn Math.abs(x1 * y2 - y1 * x2)\n\t\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t\t* 1e-8;\n\t\t\t},\n\t\n\t\t\tisOrthogonal: function(x1, y1, x2, y2) {\n\t\t\t\treturn Math.abs(x1 * x2 + y1 * y2)\n\t\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t\t* 1e-8;\n\t\t\t}\n\t\t}\n\t}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\t\tvar op = Math[key];\n\t\tthis[key] = function() {\n\t\t\treturn new Point(op(this.x), op(this.y));\n\t\t};\n\t}, {}));\n\t\n\tvar LinkedPoint = Point.extend({\n\t\tinitialize: function Point(x, y, owner, setter) {\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._owner = owner;\n\t\t\tthis._setter = setter;\n\t\t},\n\t\n\t\t_set: function(x, y, _dontNotify) {\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\treturn this;\n\t\t},\n\t\n\t\tgetX: function() {\n\t\t\treturn this._x;\n\t\t},\n\t\n\t\tsetX: function(x) {\n\t\t\tthis._x = x;\n\t\t\tthis._owner[this._setter](this);\n\t\t},\n\t\n\t\tgetY: function() {\n\t\t\treturn this._y;\n\t\t},\n\t\n\t\tsetY: function(y) {\n\t\t\tthis._y = y;\n\t\t\tthis._owner[this._setter](this);\n\t\t},\n\t\n\t\tisSelected: function() {\n\t\t\treturn !!(this._owner._selection & this._getSelection());\n\t\t},\n\t\n\t\tsetSelected: function(selected) {\n\t\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t\t},\n\t\n\t\t_getSelection: function() {\n\t\t\treturn this._setter === 'setPosition' ? 4 : 0;\n\t\t}\n\t});\n\t\n\tvar Size = Base.extend({\n\t\t_class: 'Size',\n\t\t_readIndex: true,\n\t\n\t\tinitialize: function Size(arg0, arg1) {\n\t\t\tvar type = typeof arg0,\n\t\t\t\treading = this.__read,\n\t\t\t\tread = 0;\n\t\t\tif (type === 'number') {\n\t\t\t\tvar hasHeight = typeof arg1 === 'number';\n\t\t\t\tthis._set(arg0, hasHeight ? arg1 : arg0);\n\t\t\t\tif (reading)\n\t\t\t\t\tread = hasHeight ? 2 : 1;\n\t\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tif (reading)\n\t\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t\t} else {\n\t\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\t\tread = 1;\n\t\t\t\tif (Array.isArray(obj)) {\n\t\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t\t} else if ('width' in obj) {\n\t\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t\t} else if ('x' in obj) {\n\t\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._set(0, 0);\n\t\t\t\t\tread = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (reading)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\t\n\t\tset: '#initialize',\n\t\n\t\t_set: function(width, height) {\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\treturn this;\n\t\t},\n\t\n\t\tequals: function(size) {\n\t\t\treturn size === this || size && (this.width === size.width\n\t\t\t\t\t&& this.height === size.height\n\t\t\t\t\t|| Array.isArray(size) && this.width === size[0]\n\t\t\t\t\t\t&& this.height === size[1]) || false;\n\t\t},\n\t\n\t\tclone: function() {\n\t\t\treturn new Size(this.width, this.height);\n\t\t},\n\t\n\t\ttoString: function() {\n\t\t\tvar f = Formatter.instance;\n\t\t\treturn '{ width: ' + f.number(this.width)\n\t\t\t\t\t+ ', height: ' + f.number(this.height) + ' }';\n\t\t},\n\t\n\t\t_serialize: function(options) {\n\t\t\tvar f = options.formatter;\n\t\t\treturn [f.number(this.width),\n\t\t\t\t\tf.number(this.height)];\n\t\t},\n\t\n\t\tadd: function() {\n\t\t\tvar size = Size.read(arguments);\n\t\t\treturn new Size(this.width + size.width, this.height + size.height);\n\t\t},\n\t\n\t\tsubtract: function() {\n\t\t\tvar size = Size.read(arguments);\n\t\t\treturn new Size(this.width - size.width, this.height - size.height);\n\t\t},\n\t\n\t\tmultiply: function() {\n\t\t\tvar size = Size.read(arguments);\n\t\t\treturn new Size(this.width * size.width, this.height * size.height);\n\t\t},\n\t\n\t\tdivide: function() {\n\t\t\tvar size = Size.read(arguments);\n\t\t\treturn new Size(this.width / size.width, this.height / size.height);\n\t\t},\n\t\n\t\tmodulo: function() {\n\t\t\tvar size = Size.read(arguments);\n\t\t\treturn new Size(this.width % size.width, this.height % size.height);\n\t\t},\n\t\n\t\tnegate: function() {\n\t\t\treturn new Size(-this.width, -this.height);\n\t\t},\n\t\n\t\tisZero: function() {\n\t\t\tvar isZero = Numerical.isZero;\n\t\t\treturn isZero(this.width) && isZero(this.height);\n\t\t},\n\t\n\t\tisNaN: function() {\n\t\t\treturn isNaN(this.width) || isNaN(this.height);\n\t\t},\n\t\n\t\tstatics: {\n\t\t\tmin: function(size1, size2) {\n\t\t\t\treturn new Size(\n\t\t\t\t\tMath.min(size1.width, size2.width),\n\t\t\t\t\tMath.min(size1.height, size2.height));\n\t\t\t},\n\t\n\t\t\tmax: function(size1, size2) {\n\t\t\t\treturn new Size(\n\t\t\t\t\tMath.max(size1.width, size2.width),\n\t\t\t\t\tMath.max(size1.height, size2.height));\n\t\t\t},\n\t\n\t\t\trandom: function() {\n\t\t\t\treturn new Size(Math.random(), Math.random());\n\t\t\t}\n\t\t}\n\t}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\t\tvar op = Math[key];\n\t\tthis[key] = function() {\n\t\t\treturn new Size(op(this.width), op(this.height));\n\t\t};\n\t}, {}));\n\t\n\tvar LinkedSize = Size.extend({\n\t\tinitialize: function Size(width, height, owner, setter) {\n\t\t\tthis._width = width;\n\t\t\tthis._height = height;\n\t\t\tthis._owner = owner;\n\t\t\tthis._setter = setter;\n\t\t},\n\t\n\t\t_set: function(width, height, _dontNotify) {\n\t\t\tthis._width = width;\n\t\t\tthis._height = height;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\treturn this;\n\t\t},\n\t\n\t\tgetWidth: function() {\n\t\t\treturn this._width;\n\t\t},\n\t\n\t\tsetWidth: function(width) {\n\t\t\tthis._width = width;\n\t\t\tthis._owner[this._setter](this);\n\t\t},\n\t\n\t\tgetHeight: function() {\n\t\t\treturn this._height;\n\t\t},\n\t\n\t\tsetHeight: function(height) {\n\t\t\tthis._height = height;\n\t\t\tthis._owner[this._setter](this);\n\t\t}\n\t});\n\t\n\tvar Rectangle = Base.extend({\n\t\t_class: 'Rectangle',\n\t\t_readIndex: true,\n\t\tbeans: true,\n\t\n\t\tinitialize: function Rectangle(arg0, arg1, arg2, arg3) {\n\t\t\tvar type = typeof arg0,\n\t\t\t\tread;\n\t\t\tif (type === 'number') {\n\t\t\t\tthis._set(arg0, arg1, arg2, arg3);\n\t\t\t\tread = 4;\n\t\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\t\tthis._set(0, 0, 0, 0);\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t\t} else if (arguments.length === 1) {\n\t\t\t\tif (Array.isArray(arg0)) {\n\t\t\t\t\tthis._set.apply(this, arg0);\n\t\t\t\t\tread = 1;\n\t\t\t\t} else if (arg0.x !== undefined || arg0.width !== undefined) {\n\t\t\t\t\tthis._set(arg0.x || 0, arg0.y || 0,\n\t\t\t\t\t\t\targ0.width || 0, arg0.height || 0);\n\t\t\t\t\tread = 1;\n\t\t\t\t} else if (arg0.from === undefined && arg0.to === undefined) {\n\t\t\t\t\tthis._set(0, 0, 0, 0);\n\t\t\t\t\tBase.filter(this, arg0);\n\t\t\t\t\tread = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (read === undefined) {\n\t\t\t\tvar frm = Point.readNamed(arguments, 'from'),\n\t\t\t\t\tnext = Base.peek(arguments),\n\t\t\t\t\tx = frm.x,\n\t\t\t\t\ty = frm.y,\n\t\t\t\t\twidth,\n\t\t\t\t\theight;\n\t\t\t\tif (next && next.x !== undefined\n\t\t\t\t\t\t|| Base.hasNamed(arguments, 'to')) {\n\t\t\t\t\tvar to = Point.readNamed(arguments, 'to');\n\t\t\t\t\twidth = to.x - x;\n\t\t\t\t\theight = to.y - y;\n\t\t\t\t\tif (width < 0) {\n\t\t\t\t\t\tx = to.x;\n\t\t\t\t\t\twidth = -width;\n\t\t\t\t\t}\n\t\t\t\t\tif (height < 0) {\n\t\t\t\t\t\ty = to.y;\n\t\t\t\t\t\theight = -height;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar size = Size.read(arguments);\n\t\t\t\t\twidth = size.width;\n\t\t\t\t\theight = size.height;\n\t\t\t\t}\n\t\t\t\tthis._set(x, y, width, height);\n\t\t\t\tread = arguments.__index;\n\t\t\t\tvar filtered = arguments.__filtered;\n\t\t\t\tif (filtered)\n\t\t\t\t\tthis.__filtered = filtered;\n\t\t\t}\n\t\t\tif (this.__read)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\t\n\t\tset: '#initialize',\n\t\n\t\t_set: function(x, y, width, height) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\treturn this;\n\t\t},\n\t\n\t\tclone: function() {\n\t\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t\t},\n\t\n\t\tequals: function(rect) {\n\t\t\tvar rt = Base.isPlainValue(rect)\n\t\t\t\t\t? Rectangle.read(arguments)\n\t\t\t\t\t: rect;\n\t\t\treturn rt === this\n\t\t\t\t\t|| rt && this.x === rt.x && this.y === rt.y\n\t\t\t\t\t\t&& this.width === rt.width && this.height === rt.height\n\t\t\t\t\t|| false;\n\t\t},\n\t\n\t\ttoString: function() {\n\t\t\tvar f = Formatter.instance;\n\t\t\treturn '{ x: ' + f.number(this.x)\n\t\t\t\t\t+ ', y: ' + f.number(this.y)\n\t\t\t\t\t+ ', width: ' + f.number(this.width)\n\t\t\t\t\t+ ', height: ' + f.number(this.height)\n\t\t\t\t\t+ ' }';\n\t\t},\n\t\n\t\t_serialize: function(options) {\n\t\t\tvar f = options.formatter;\n\t\t\treturn [f.number(this.x),\n\t\t\t\t\tf.number(this.y),\n\t\t\t\t\tf.number(this.width),\n\t\t\t\t\tf.number(this.height)];\n\t\t},\n\t\n\t\tgetPoint: function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\treturn new ctor(this.x, this.y, this, 'setPoint');\n\t\t},\n\t\n\t\tsetPoint: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis.x = point.x;\n\t\t\tthis.y = point.y;\n\t\t},\n\t\n\t\tgetSize: function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Size : LinkedSize;\n\t\t\treturn new ctor(this.width, this.height, this, 'setSize');\n\t\t},\n\t\n\t\t_fw: 1,\n\t\t_fh: 1,\n\t\n\t\tsetSize: function() {\n\t\t\tvar size = Size.read(arguments),\n\t\t\t\tsx = this._sx,\n\t\t\t\tsy = this._sy,\n\t\t\t\tw = size.width,\n\t\t\t\th = size.height;\n\t\t\tif (sx) {\n\t\t\t\tthis.x += (this.width - w) * sx;\n\t\t\t}\n\t\t\tif (sy) {\n\t\t\t\tthis.y += (this.height - h) * sy;\n\t\t\t}\n\t\t\tthis.width = w;\n\t\t\tthis.height = h;\n\t\t\tthis._fw = this._fh = 1;\n\t\t},\n\t\n\t\tgetLeft: function() {\n\t\t\treturn this.x;\n\t\t},\n\t\n\t\tsetLeft: function(left) {\n\t\t\tif (!this._fw) {\n\t\t\t\tvar amount = left - this.x;\n\t\t\t\tthis.width -= this._sx === 0.5 ? amount * 2 : amount;\n\t\t\t}\n\t\t\tthis.x = left;\n\t\t\tthis._sx = this._fw = 0;\n\t\t},\n\t\n\t\tgetTop: function() {\n\t\t\treturn this.y;\n\t\t},\n\t\n\t\tsetTop: function(top) {\n\t\t\tif (!this._fh) {\n\t\t\t\tvar amount = top - this.y;\n\t\t\t\tthis.height -= this._sy === 0.5 ? amount * 2 : amount;\n\t\t\t}\n\t\t\tthis.y = top;\n\t\t\tthis._sy = this._fh = 0;\n\t\t},\n\t\n\t\tgetRight: function() {\n\t\t\treturn this.x + this.width;\n\t\t},\n\t\n\t\tsetRight: function(right) {\n\t\t\tif (!this._fw) {\n\t\t\t\tvar amount = right - this.x;\n\t\t\t\tthis.width = this._sx === 0.5 ? amount * 2 : amount;\n\t\t\t}\n\t\t\tthis.x = right - this.width;\n\t\t\tthis._sx = 1;\n\t\t\tthis._fw = 0;\n\t\t},\n\t\n\t\tgetBottom: function() {\n\t\t\treturn this.y + this.height;\n\t\t},\n\t\n\t\tsetBottom: function(bottom) {\n\t\t\tif (!this._fh) {\n\t\t\t\tvar amount = bottom - this.y;\n\t\t\t\tthis.height = this._sy === 0.5 ? amount * 2 : amount;\n\t\t\t}\n\t\t\tthis.y = bottom - this.height;\n\t\t\tthis._sy = 1;\n\t\t\tthis._fh = 0;\n\t\t},\n\t\n\t\tgetCenterX: function() {\n\t\t\treturn this.x + this.width / 2;\n\t\t},\n\t\n\t\tsetCenterX: function(x) {\n\t\t\tif (this._fw || this._sx === 0.5) {\n\t\t\t\tthis.x = x - this.width / 2;\n\t\t\t} else {\n\t\t\t\tif (this._sx) {\n\t\t\t\t\tthis.x += (x - this.x) * 2 * this._sx;\n\t\t\t\t}\n\t\t\t\tthis.width = (x - this.x) * 2;\n\t\t\t}\n\t\t\tthis._sx = 0.5;\n\t\t\tthis._fw = 0;\n\t\t},\n\t\n\t\tgetCenterY: function() {\n\t\t\treturn this.y + this.height / 2;\n\t\t},\n\t\n\t\tsetCenterY: function(y) {\n\t\t\tif (this._fh || this._sy === 0.5) {\n\t\t\t\tthis.y = y - this.height / 2;\n\t\t\t} else {\n\t\t\t\tif (this._sy) {\n\t\t\t\t\tthis.y += (y - this.y) * 2 * this._sy;\n\t\t\t\t}\n\t\t\t\tthis.height = (y - this.y) * 2;\n\t\t\t}\n\t\t\tthis._sy = 0.5;\n\t\t\tthis._fh = 0;\n\t\t},\n\t\n\t\tgetCenter: function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\treturn new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n\t\t},\n\t\n\t\tsetCenter: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis.setCenterX(point.x);\n\t\t\tthis.setCenterY(point.y);\n\t\t\treturn this;\n\t\t},\n\t\n\t\tgetArea: function() {\n\t\t\treturn this.width * this.height;\n\t\t},\n\t\n\t\tisEmpty: function() {\n\t\t\treturn this.width === 0 || this.height === 0;\n\t\t},\n\t\n\t\tcontains: function(arg) {\n\t\t\treturn arg && arg.width !== undefined\n\t\t\t\t\t|| (Array.isArray(arg) ? arg : arguments).length === 4\n\t\t\t\t\t? this._containsRectangle(Rectangle.read(arguments))\n\t\t\t\t\t: this._containsPoint(Point.read(arguments));\n\t\t},\n\t\n\t\t_containsPoint: function(point) {\n\t\t\tvar x = point.x,\n\t\t\t\ty = point.y;\n\t\t\treturn x >= this.x && y >= this.y\n\t\t\t\t\t&& x <= this.x + this.width\n\t\t\t\t\t&& y <= this.y + this.height;\n\t\t},\n\t\n\t\t_containsRectangle: function(rect) {\n\t\t\tvar x = rect.x,\n\t\t\t\ty = rect.y;\n\t\t\treturn x >= this.x && y >= this.y\n\t\t\t\t\t&& x + rect.width <= this.x + this.width\n\t\t\t\t\t&& y + rect.height <= this.y + this.height;\n\t\t},\n\t\n\t\tintersects: function() {\n\t\t\tvar rect = Rectangle.read(arguments),\n\t\t\t\tepsilon = Base.read(arguments) || 0;\n\t\t\treturn rect.x + rect.width > this.x - epsilon\n\t\t\t\t\t&& rect.y + rect.height > this.y - epsilon\n\t\t\t\t\t&& rect.x < this.x + this.width + epsilon\n\t\t\t\t\t&& rect.y < this.y + this.height + epsilon;\n\t\t},\n\t\n\t\tintersect: function() {\n\t\t\tvar rect = Rectangle.read(arguments),\n\t\t\t\tx1 = Math.max(this.x, rect.x),\n\t\t\t\ty1 = Math.max(this.y, rect.y),\n\t\t\t\tx2 = Math.min(this.x + this.width, rect.x + rect.width),\n\t\t\t\ty2 = Math.min(this.y + this.height, rect.y + rect.height);\n\t\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t\t},\n\t\n\t\tunite: function() {\n\t\t\tvar rect = Rectangle.read(arguments),\n\t\t\t\tx1 = Math.min(this.x, rect.x),\n\t\t\t\ty1 = Math.min(this.y, rect.y),\n\t\t\t\tx2 = Math.max(this.x + this.width, rect.x + rect.width),\n\t\t\t\ty2 = Math.max(this.y + this.height, rect.y + rect.height);\n\t\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t\t},\n\t\n\t\tinclude: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tvar x1 = Math.min(this.x, point.x),\n\t\t\t\ty1 = Math.min(this.y, point.y),\n\t\t\t\tx2 = Math.max(this.x + this.width, point.x),\n\t\t\t\ty2 = Math.max(this.y + this.height, point.y);\n\t\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t\t},\n\t\n\t\texpand: function() {\n\t\t\tvar amount = Size.read(arguments),\n\t\t\t\thor = amount.width,\n\t\t\t\tver = amount.height;\n\t\t\treturn new Rectangle(this.x - hor / 2, this.y - ver / 2,\n\t\t\t\t\tthis.width + hor, this.height + ver);\n\t\t},\n\t\n\t\tscale: function(hor, ver) {\n\t\t\treturn this.expand(this.width * hor - this.width,\n\t\t\t\t\tthis.height * (ver === undefined ? hor : ver) - this.height);\n\t\t}\n\t}, Base.each([\n\t\t\t['Top', 'Left'], ['Top', 'Right'],\n\t\t\t['Bottom', 'Left'], ['Bottom', 'Right'],\n\t\t\t['Left', 'Center'], ['Top', 'Center'],\n\t\t\t['Right', 'Center'], ['Bottom', 'Center']\n\t\t],\n\t\tfunction(parts, index) {\n\t\t\tvar part = parts.join(''),\n\t\t\t\txFirst = /^[RL]/.test(part);\n\t\t\tif (index >= 4)\n\t\t\t\tparts[1] += xFirst ? 'Y' : 'X';\n\t\t\tvar x = parts[xFirst ? 0 : 1],\n\t\t\t\ty = parts[xFirst ? 1 : 0],\n\t\t\t\tgetX = 'get' + x,\n\t\t\t\tgetY = 'get' + y,\n\t\t\t\tsetX = 'set' + x,\n\t\t\t\tsetY = 'set' + y,\n\t\t\t\tget = 'get' + part,\n\t\t\t\tset = 'set' + part;\n\t\t\tthis[get] = function(_dontLink) {\n\t\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\t\treturn new ctor(this[getX](), this[getY](), this, set);\n\t\t\t};\n\t\t\tthis[set] = function() {\n\t\t\t\tvar point = Point.read(arguments);\n\t\t\t\tthis[setX](point.x);\n\t\t\t\tthis[setY](point.y);\n\t\t\t};\n\t\t}, {\n\t\t\tbeans: true\n\t\t}\n\t));\n\t\n\tvar LinkedRectangle = Rectangle.extend({\n\t\tinitialize: function Rectangle(x, y, width, height, owner, setter) {\n\t\t\tthis._set(x, y, width, height, true);\n\t\t\tthis._owner = owner;\n\t\t\tthis._setter = setter;\n\t\t},\n\t\n\t\t_set: function(x, y, width, height, _dontNotify) {\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._width = width;\n\t\t\tthis._height = height;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\treturn this;\n\t\t}\n\t},\n\tnew function() {\n\t\tvar proto = Rectangle.prototype;\n\t\n\t\treturn Base.each(['x', 'y', 'width', 'height'], function(key) {\n\t\t\tvar part = Base.capitalize(key),\n\t\t\t\tinternal = '_' + key;\n\t\t\tthis['get' + part] = function() {\n\t\t\t\treturn this[internal];\n\t\t\t};\n\t\n\t\t\tthis['set' + part] = function(value) {\n\t\t\t\tthis[internal] = value;\n\t\t\t\tif (!this._dontNotify)\n\t\t\t\t\tthis._owner[this._setter](this);\n\t\t\t};\n\t\t}, Base.each(['Point', 'Size', 'Center',\n\t\t\t\t'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY',\n\t\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'],\n\t\t\tfunction(key) {\n\t\t\t\tvar name = 'set' + key;\n\t\t\t\tthis[name] = function() {\n\t\t\t\t\tthis._dontNotify = true;\n\t\t\t\t\tproto[name].apply(this, arguments);\n\t\t\t\t\tthis._dontNotify = false;\n\t\t\t\t\tthis._owner[this._setter](this);\n\t\t\t\t};\n\t\t\t}, {\n\t\t\t\tisSelected: function() {\n\t\t\t\t\treturn !!(this._owner._selection & 2);\n\t\t\t\t},\n\t\n\t\t\t\tsetSelected: function(selected) {\n\t\t\t\t\tvar owner = this._owner;\n\t\t\t\t\tif (owner._changeSelection) {\n\t\t\t\t\t\towner._changeSelection(2, selected);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t});\n\t\n\tvar Matrix = Base.extend({\n\t\t_class: 'Matrix',\n\t\n\t\tinitialize: function Matrix(arg, _dontNotify) {\n\t\t\tvar count = arguments.length,\n\t\t\t\tok = true;\n\t\t\tif (count >= 6) {\n\t\t\t\tthis._set.apply(this, arguments);\n\t\t\t} else if (count === 1 || count === 2) {\n\t\t\t\tif (arg instanceof Matrix) {\n\t\t\t\t\tthis._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty,\n\t\t\t\t\t\t\t_dontNotify);\n\t\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t\tthis._set.apply(this,\n\t\t\t\t\t\t\t_dontNotify ? arg.concat([_dontNotify]) : arg);\n\t\t\t\t} else {\n\t\t\t\t\tok = false;\n\t\t\t\t}\n\t\t\t} else if (!count) {\n\t\t\t\tthis.reset();\n\t\t\t} else {\n\t\t\t\tok = false;\n\t\t\t}\n\t\t\tif (!ok) {\n\t\t\t\tthrow new Error('Unsupported matrix parameters');\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\n\t\tset: '#initialize',\n\t\n\t\t_set: function(a, b, c, d, tx, ty, _dontNotify) {\n\t\t\tthis._a = a;\n\t\t\tthis._b = b;\n\t\t\tthis._c = c;\n\t\t\tthis._d = d;\n\t\t\tthis._tx = tx;\n\t\t\tthis._ty = ty;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t\treturn this;\n\t\t},\n\t\n\t\t_serialize: function(options, dictionary) {\n\t\t\treturn Base.serialize(this.getValues(), options, true, dictionary);\n\t\t},\n\t\n\t\t_changed: function() {\n\t\t\tvar owner = this._owner;\n\t\t\tif (owner) {\n\t\t\t\tif (owner._applyMatrix) {\n\t\t\t\t\towner.transform(null, true);\n\t\t\t\t} else {\n\t\t\t\t\towner._changed(9);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tclone: function() {\n\t\t\treturn new Matrix(this._a, this._b, this._c, this._d,\n\t\t\t\t\tthis._tx, this._ty);\n\t\t},\n\t\n\t\tequals: function(mx) {\n\t\t\treturn mx === this || mx && this._a === mx._a && this._b === mx._b\n\t\t\t\t\t&& this._c === mx._c && this._d === mx._d\n\t\t\t\t\t&& this._tx === mx._tx && this._ty === mx._ty;\n\t\t},\n\t\n\t\ttoString: function() {\n\t\t\tvar f = Formatter.instance;\n\t\t\treturn '[[' + [f.number(this._a), f.number(this._c),\n\t\t\t\t\t\tf.number(this._tx)].join(', ') + '], ['\n\t\t\t\t\t+ [f.number(this._b), f.number(this._d),\n\t\t\t\t\t\tf.number(this._ty)].join(', ') + ']]';\n\t\t},\n\t\n\t\treset: function(_dontNotify) {\n\t\t\tthis._a = this._d = 1;\n\t\t\tthis._b = this._c = this._tx = this._ty = 0;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t\treturn this;\n\t\t},\n\t\n\t\tapply: function(recursively, _setApplyMatrix) {\n\t\t\tvar owner = this._owner;\n\t\t\tif (owner) {\n\t\t\t\towner.transform(null, true, Base.pick(recursively, true),\n\t\t\t\t\t\t_setApplyMatrix);\n\t\t\t\treturn this.isIdentity();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\n\t\ttranslate: function() {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tx = point.x,\n\t\t\t\ty = point.y;\n\t\t\tthis._tx += x * this._a + y * this._c;\n\t\t\tthis._ty += x * this._b + y * this._d;\n\t\t\tthis._changed();\n\t\t\treturn this;\n\t\t},\n\t\n\t\tscale: function() {\n\t\t\tvar scale = Point.read(arguments),\n\t\t\t\tcenter = Point.read(arguments, 0, { readNull: true });\n\t\t\tif (center)\n\t\t\t\tthis.translate(center);\n\t\t\tthis._a *= scale.x;\n\t\t\tthis._b *= scale.x;\n\t\t\tthis._c *= scale.y;\n\t\t\tthis._d *= scale.y;\n\t\t\tif (center)\n\t\t\t\tthis.translate(center.negate());\n\t\t\tthis._changed();\n\t\t\treturn this;\n\t\t},\n\t\n\t\trotate: function(angle ) {\n\t\t\tangle *= Math.PI / 180;\n\t\t\tvar center = Point.read(arguments, 1),\n\t\t\t\tx = center.x,\n\t\t\t\ty = center.y,\n\t\t\t\tcos = Math.cos(angle),\n\t\t\t\tsin = Math.sin(angle),\n\t\t\t\ttx = x - x * cos + y * sin,\n\t\t\t\tty = y - x * sin - y * cos,\n\t\t\t\ta = this._a,\n\t\t\t\tb = this._b,\n\t\t\t\tc = this._c,\n\t\t\t\td = this._d;\n\t\t\tthis._a = cos * a + sin * c;\n\t\t\tthis._b = cos * b + sin * d;\n\t\t\tthis._c = -sin * a + cos * c;\n\t\t\tthis._d = -sin * b + cos * d;\n\t\t\tthis._tx += tx * a + ty * c;\n\t\t\tthis._ty += tx * b + ty * d;\n\t\t\tthis._changed();\n\t\t\treturn this;\n\t\t},\n\t\n\t\tshear: function() {\n\t\t\tvar shear = Point.read(arguments),\n\t\t\t\tcenter = Point.read(arguments, 0, { readNull: true });\n\t\t\tif (center)\n\t\t\t\tthis.translate(center);\n\t\t\tvar a = this._a,\n\t\t\t\tb = this._b;\n\t\t\tthis._a += shear.y * this._c;\n\t\t\tthis._b += shear.y * this._d;\n\t\t\tthis._c += shear.x * a;\n\t\t\tthis._d += shear.x * b;\n\t\t\tif (center)\n\t\t\t\tthis.translate(center.negate());\n\t\t\tthis._changed();\n\t\t\treturn this;\n\t\t},\n\t\n\t\tskew: function() {\n\t\t\tvar skew = Point.read(arguments),\n\t\t\t\tcenter = Point.read(arguments, 0, { readNull: true }),\n\t\t\t\ttoRadians = Math.PI / 180,\n\t\t\t\tshear = new Point(Math.tan(skew.x * toRadians),\n\t\t\t\t\tMath.tan(skew.y * toRadians));\n\t\t\treturn this.shear(shear, center);\n\t\t},\n\t\n\t\tappend: function(mx, _dontNotify) {\n\t\t\tif (mx) {\n\t\t\t\tvar a1 = this._a,\n\t\t\t\t\tb1 = this._b,\n\t\t\t\t\tc1 = this._c,\n\t\t\t\t\td1 = this._d,\n\t\t\t\t\ta2 = mx._a,\n\t\t\t\t\tb2 = mx._c,\n\t\t\t\t\tc2 = mx._b,\n\t\t\t\t\td2 = mx._d,\n\t\t\t\t\ttx2 = mx._tx,\n\t\t\t\t\tty2 = mx._ty;\n\t\t\t\tthis._a = a2 * a1 + c2 * c1;\n\t\t\t\tthis._c = b2 * a1 + d2 * c1;\n\t\t\t\tthis._b = a2 * b1 + c2 * d1;\n\t\t\t\tthis._d = b2 * b1 + d2 * d1;\n\t\t\t\tthis._tx += tx2 * a1 + ty2 * c1;\n\t\t\t\tthis._ty += tx2 * b1 + ty2 * d1;\n\t\t\t\tif (!_dontNotify)\n\t\t\t\t\tthis._changed();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\n\t\tprepend: function(mx, _dontNotify) {\n\t\t\tif (mx) {\n\t\t\t\tvar a1 = this._a,\n\t\t\t\t\tb1 = this._b,\n\t\t\t\t\tc1 = this._c,\n\t\t\t\t\td1 = this._d,\n\t\t\t\t\ttx1 = this._tx,\n\t\t\t\t\tty1 = this._ty,\n\t\t\t\t\ta2 = mx._a,\n\t\t\t\t\tb2 = mx._c,\n\t\t\t\t\tc2 = mx._b,\n\t\t\t\t\td2 = mx._d,\n\t\t\t\t\ttx2 = mx._tx,\n\t\t\t\t\tty2 = mx._ty;\n\t\t\t\tthis._a = a2 * a1 + b2 * b1;\n\t\t\t\tthis._c = a2 * c1 + b2 * d1;\n\t\t\t\tthis._b = c2 * a1 + d2 * b1;\n\t\t\t\tthis._d = c2 * c1 + d2 * d1;\n\t\t\t\tthis._tx = a2 * tx1 + b2 * ty1 + tx2;\n\t\t\t\tthis._ty = c2 * tx1 + d2 * ty1 + ty2;\n\t\t\t\tif (!_dontNotify)\n\t\t\t\t\tthis._changed();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\n\t\tappended: function(mx) {\n\t\t\treturn this.clone().append(mx);\n\t\t},\n\t\n\t\tprepended: function(mx) {\n\t\t\treturn this.clone().prepend(mx);\n\t\t},\n\t\n\t\tinvert: function() {\n\t\t\tvar a = this._a,\n\t\t\t\tb = this._b,\n\t\t\t\tc = this._c,\n\t\t\t\td = this._d,\n\t\t\t\ttx = this._tx,\n\t\t\t\tty = this._ty,\n\t\t\t\tdet = a * d - b * c,\n\t\t\t\tres = null;\n\t\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\t\tthis._a = d / det;\n\t\t\t\tthis._b = -b / det;\n\t\t\t\tthis._c = -c / det;\n\t\t\t\tthis._d = a / det;\n\t\t\t\tthis._tx = (c * ty - d * tx) / det;\n\t\t\t\tthis._ty = (b * tx - a * ty) / det;\n\t\t\t\tres = this;\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\n\t\tinverted: function() {\n\t\t\treturn this.clone().invert();\n\t\t},\n\t\n\t\tconcatenate: '#append',\n\t\tpreConcatenate: '#prepend',\n\t\tchain: '#appended',\n\t\n\t\t_shiftless: function() {\n\t\t\treturn new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n\t\t},\n\t\n\t\t_orNullIfIdentity: function() {\n\t\t\treturn this.isIdentity() ? null : this;\n\t\t},\n\t\n\t\tisIdentity: function() {\n\t\t\treturn this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1\n\t\t\t\t\t&& this._tx === 0 && this._ty === 0;\n\t\t},\n\t\n\t\tisInvertible: function() {\n\t\t\tvar det = this._a * this._d - this._c * this._b;\n\t\t\treturn det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n\t\t},\n\t\n\t\tisSingular: function() {\n\t\t\treturn !this.isInvertible();\n\t\t},\n\t\n\t\ttransform: function( src, dst, count) {\n\t\t\treturn arguments.length < 3\n\t\t\t\t? this._transformPoint(Point.read(arguments))\n\t\t\t\t: this._transformCoordinates(src, dst, count);\n\t\t},\n\t\n\t\t_transformPoint: function(point, dest, _dontNotify) {\n\t\t\tvar x = point.x,\n\t\t\t\ty = point.y;\n\t\t\tif (!dest)\n\t\t\t\tdest = new Point();\n\t\t\treturn dest._set(\n\t\t\t\t\tx * this._a + y * this._c + this._tx,\n\t\t\t\t\tx * this._b + y * this._d + this._ty,\n\t\t\t\t\t_dontNotify);\n\t\t},\n\t\n\t\t_transformCoordinates: function(src, dst, count) {\n\t\t\tfor (var i = 0, max = 2 * count; i < max; i += 2) {\n\t\t\t\tvar x = src[i],\n\t\t\t\t\ty = src[i + 1];\n\t\t\t\tdst[i] = x * this._a + y * this._c + this._tx;\n\t\t\t\tdst[i + 1] = x * this._b + y * this._d + this._ty;\n\t\t\t}\n\t\t\treturn dst;\n\t\t},\n\t\n\t\t_transformCorners: function(rect) {\n\t\t\tvar x1 = rect.x,\n\t\t\t\ty1 = rect.y,\n\t\t\t\tx2 = x1 + rect.width,\n\t\t\t\ty2 = y1 + rect.height,\n\t\t\t\tcoords = [ x1, y1, x2, y1, x2, y2, x1, y2 ];\n\t\t\treturn this._transformCoordinates(coords, coords, 4);\n\t\t},\n\t\n\t\t_transformBounds: function(bounds, dest, _dontNotify) {\n\t\t\tvar coords = this._transformCorners(bounds),\n\t\t\t\tmin = coords.slice(0, 2),\n\t\t\t\tmax = min.slice();\n\t\t\tfor (var i = 2; i < 8; i++) {\n\t\t\t\tvar val = coords[i],\n\t\t\t\t\tj = i & 1;\n\t\t\t\tif (val < min[j]) {\n\t\t\t\t\tmin[j] = val;\n\t\t\t\t} else if (val > max[j]) {\n\t\t\t\t\tmax[j] = val;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!dest)\n\t\t\t\tdest = new Rectangle();\n\t\t\treturn dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1],\n\t\t\t\t\t_dontNotify);\n\t\t},\n\t\n\t\tinverseTransform: function() {\n\t\t\treturn this._inverseTransform(Point.read(arguments));\n\t\t},\n\t\n\t\t_inverseTransform: function(point, dest, _dontNotify) {\n\t\t\tvar a = this._a,\n\t\t\t\tb = this._b,\n\t\t\t\tc = this._c,\n\t\t\t\td = this._d,\n\t\t\t\ttx = this._tx,\n\t\t\t\tty = this._ty,\n\t\t\t\tdet = a * d - b * c,\n\t\t\t\tres = null;\n\t\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\t\tvar x = point.x - this._tx,\n\t\t\t\t\ty = point.y - this._ty;\n\t\t\t\tif (!dest)\n\t\t\t\t\tdest = new Point();\n\t\t\t\tres = dest._set(\n\t\t\t\t\t\t(x * d - y * c) / det,\n\t\t\t\t\t\t(y * a - x * b) / det,\n\t\t\t\t\t\t_dontNotify);\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\n\t\tdecompose: function() {\n\t\t\tvar a = this._a,\n\t\t\t\tb = this._b,\n\t\t\t\tc = this._c,\n\t\t\t\td = this._d,\n\t\t\t\tdet = a * d - b * c,\n\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\tatan2 = Math.atan2,\n\t\t\t\tdegrees = 180 / Math.PI,\n\t\t\t\trotate,\n\t\t\t\tscale,\n\t\t\t\tskew;\n\t\t\tif (a !== 0 || b !== 0) {\n\t\t\t\tvar r = sqrt(a * a + b * b);\n\t\t\t\trotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n\t\t\t\tscale = [r, det / r];\n\t\t\t\tskew = [atan2(a * c + b * d, r * r), 0];\n\t\t\t} else if (c !== 0 || d !== 0) {\n\t\t\t\tvar s = sqrt(c * c + d * d);\n\t\t\t\trotate = Math.asin(c / s)  * (d > 0 ? 1 : -1);\n\t\t\t\tscale = [det / s, s];\n\t\t\t\tskew = [0, atan2(a * c + b * d, s * s)];\n\t\t\t} else {\n\t\t\t\trotate = 0;\n\t\t\t\tskew = scale = [0, 0];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttranslation: this.getTranslation(),\n\t\t\t\trotation: rotate * degrees,\n\t\t\t\tscaling: new Point(scale),\n\t\t\t\tskewing: new Point(skew[0] * degrees, skew[1] * degrees)\n\t\t\t};\n\t\t},\n\t\n\t\tgetValues: function() {\n\t\t\treturn [ this._a, this._b, this._c, this._d, this._tx, this._ty ];\n\t\t},\n\t\n\t\tgetTranslation: function() {\n\t\t\treturn new Point(this._tx, this._ty);\n\t\t},\n\t\n\t\tgetScaling: function() {\n\t\t\treturn (this.decompose() || {}).scaling;\n\t\t},\n\t\n\t\tgetRotation: function() {\n\t\t\treturn (this.decompose() || {}).rotation;\n\t\t},\n\t\n\t\tapplyToContext: function(ctx) {\n\t\t\tif (!this.isIdentity()) {\n\t\t\t\tctx.transform(this._a, this._b, this._c, this._d,\n\t\t\t\t\t\tthis._tx, this._ty);\n\t\t\t}\n\t\t}\n\t}, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function(key) {\n\t\tvar part = Base.capitalize(key),\n\t\t\tprop = '_' + key;\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[prop];\n\t\t};\n\t\tthis['set' + part] = function(value) {\n\t\t\tthis[prop] = value;\n\t\t\tthis._changed();\n\t\t};\n\t}, {}));\n\t\n\tvar Line = Base.extend({\n\t\t_class: 'Line',\n\t\n\t\tinitialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n\t\t\tvar asVector = false;\n\t\t\tif (arguments.length >= 4) {\n\t\t\t\tthis._px = arg0;\n\t\t\t\tthis._py = arg1;\n\t\t\t\tthis._vx = arg2;\n\t\t\t\tthis._vy = arg3;\n\t\t\t\tasVector = arg4;\n\t\t\t} else {\n\t\t\t\tthis._px = arg0.x;\n\t\t\t\tthis._py = arg0.y;\n\t\t\t\tthis._vx = arg1.x;\n\t\t\t\tthis._vy = arg1.y;\n\t\t\t\tasVector = arg2;\n\t\t\t}\n\t\t\tif (!asVector) {\n\t\t\t\tthis._vx -= this._px;\n\t\t\t\tthis._vy -= this._py;\n\t\t\t}\n\t\t},\n\t\n\t\tgetPoint: function() {\n\t\t\treturn new Point(this._px, this._py);\n\t\t},\n\t\n\t\tgetVector: function() {\n\t\t\treturn new Point(this._vx, this._vy);\n\t\t},\n\t\n\t\tgetLength: function() {\n\t\t\treturn this.getVector().getLength();\n\t\t},\n\t\n\t\tintersect: function(line, isInfinite) {\n\t\t\treturn Line.intersect(\n\t\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\t\tline._px, line._py, line._vx, line._vy,\n\t\t\t\t\ttrue, isInfinite);\n\t\t},\n\t\n\t\tgetSide: function(point, isInfinite) {\n\t\t\treturn Line.getSide(\n\t\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\t\tpoint.x, point.y, true, isInfinite);\n\t\t},\n\t\n\t\tgetDistance: function(point) {\n\t\t\treturn Math.abs(this.getSignedDistance(point));\n\t\t},\n\t\n\t\tgetSignedDistance: function(point) {\n\t\t\treturn Line.getSignedDistance(this._px, this._py, this._vx, this._vy,\n\t\t\t\t\tpoint.x, point.y, true);\n\t\t},\n\t\n\t\tisCollinear: function(line) {\n\t\t\treturn Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n\t\t},\n\t\n\t\tisOrthogonal: function(line) {\n\t\t\treturn Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n\t\t},\n\t\n\t\tstatics: {\n\t\t\tintersect: function(p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector,\n\t\t\t\t\tisInfinite) {\n\t\t\t\tif (!asVector) {\n\t\t\t\t\tv1x -= p1x;\n\t\t\t\t\tv1y -= p1y;\n\t\t\t\t\tv2x -= p2x;\n\t\t\t\t\tv2y -= p2y;\n\t\t\t\t}\n\t\t\t\tvar cross = v1x * v2y - v1y * v2x;\n\t\t\t\tif (!Numerical.isZero(cross)) {\n\t\t\t\t\tvar dx = p1x - p2x,\n\t\t\t\t\t\tdy = p1y - p2y,\n\t\t\t\t\t\tu1 = (v2x * dy - v2y * dx) / cross,\n\t\t\t\t\t\tu2 = (v1x * dy - v1y * dx) / cross,\n\t\t\t\t\t\tepsilon = 1e-12,\n\t\t\t\t\t\tuMin = -epsilon,\n\t\t\t\t\t\tuMax = 1 + epsilon;\n\t\t\t\t\tif (isInfinite\n\t\t\t\t\t\t\t|| uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n\t\t\t\t\t\tif (!isInfinite) {\n\t\t\t\t\t\t\tu1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn new Point(\n\t\t\t\t\t\t\t\tp1x + u1 * v1x,\n\t\t\t\t\t\t\t\tp1y + u1 * v1y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tgetSide: function(px, py, vx, vy, x, y, asVector, isInfinite) {\n\t\t\t\tif (!asVector) {\n\t\t\t\t\tvx -= px;\n\t\t\t\t\tvy -= py;\n\t\t\t\t}\n\t\t\t\tvar v2x = x - px,\n\t\t\t\t\tv2y = y - py,\n\t\t\t\t\tccw = v2x * vy - v2y * vx;\n\t\t\t\tif (!isInfinite && Numerical.isZero(ccw)) {\n\t\t\t\t\tccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n\t\t\t\t\tif (ccw >= 0 && ccw <= 1)\n\t\t\t\t\t\tccw = 0;\n\t\t\t\t}\n\t\t\t\treturn ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n\t\t\t},\n\t\n\t\t\tgetSignedDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\t\tif (!asVector) {\n\t\t\t\t\tvx -= px;\n\t\t\t\t\tvy -= py;\n\t\t\t\t}\n\t\t\t\treturn vx === 0 ? vy > 0 ? x - px : px - x\n\t\t\t\t\t : vy === 0 ? vx < 0 ? y - py : py - y\n\t\t\t\t\t : ((x-px) * vy - (y-py) * vx) / Math.sqrt(vx * vx + vy * vy);\n\t\t\t},\n\t\n\t\t\tgetDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\t\treturn Math.abs(\n\t\t\t\t\t\tLine.getSignedDistance(px, py, vx, vy, x, y, asVector));\n\t\t\t}\n\t\t}\n\t});\n\t\n\tvar Project = PaperScopeItem.extend({\n\t\t_class: 'Project',\n\t\t_list: 'projects',\n\t\t_reference: 'project',\n\t\t_compactSerialize: true,\n\t\n\t\tinitialize: function Project(element) {\n\t\t\tPaperScopeItem.call(this, true);\n\t\t\tthis._children = [];\n\t\t\tthis._namedChildren = {};\n\t\t\tthis._activeLayer = null;\n\t\t\tthis._currentStyle = new Style(null, null, this);\n\t\t\tthis._view = View.create(this,\n\t\t\t\t\telement || CanvasProvider.getCanvas(1, 1));\n\t\t\tthis._selectionItems = {};\n\t\t\tthis._selectionCount = 0;\n\t\t\tthis._updateVersion = 0;\n\t\t},\n\t\n\t\t_serialize: function(options, dictionary) {\n\t\t\treturn Base.serialize(this._children, options, true, dictionary);\n\t\t},\n\t\n\t\t_changed: function(flags, item) {\n\t\t\tif (flags & 1) {\n\t\t\t\tvar view = this._view;\n\t\t\t\tif (view) {\n\t\t\t\t\tview._needsUpdate = true;\n\t\t\t\t\tif (!view._requested && view._autoUpdate)\n\t\t\t\t\t\tview.requestUpdate();\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar changes = this._changes;\n\t\t\tif (changes && item) {\n\t\t\t\tvar changesById = this._changesById,\n\t\t\t\t\tid = item._id,\n\t\t\t\t\tentry = changesById[id];\n\t\t\t\tif (entry) {\n\t\t\t\t\tentry.flags |= flags;\n\t\t\t\t} else {\n\t\t\t\t\tchanges.push(changesById[id] = { item: item, flags: flags });\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tclear: function() {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = children.length - 1; i >= 0; i--)\n\t\t\t\tchildren[i].remove();\n\t\t},\n\t\n\t\tisEmpty: function() {\n\t\t\treturn !this._children.length;\n\t\t},\n\t\n\t\tremove: function remove() {\n\t\t\tif (!remove.base.call(this))\n\t\t\t\treturn false;\n\t\t\tif (this._view)\n\t\t\t\tthis._view.remove();\n\t\t\treturn true;\n\t\t},\n\t\n\t\tgetView: function() {\n\t\t\treturn this._view;\n\t\t},\n\t\n\t\tgetCurrentStyle: function() {\n\t\t\treturn this._currentStyle;\n\t\t},\n\t\n\t\tsetCurrentStyle: function(style) {\n\t\t\tthis._currentStyle.set(style);\n\t\t},\n\t\n\t\tgetIndex: function() {\n\t\t\treturn this._index;\n\t\t},\n\t\n\t\tgetOptions: function() {\n\t\t\treturn this._scope.settings;\n\t\t},\n\t\n\t\tgetLayers: function() {\n\t\t\treturn this._children;\n\t\t},\n\t\n\t\tgetActiveLayer: function() {\n\t\t\treturn this._activeLayer || new Layer({ project: this, insert: true });\n\t\t},\n\t\n\t\tgetSymbolDefinitions: function() {\n\t\t\tvar definitions = [],\n\t\t\t\tids = {};\n\t\t\tthis.getItems({\n\t\t\t\tclass: SymbolItem,\n\t\t\t\tmatch: function(item) {\n\t\t\t\t\tvar definition = item._definition,\n\t\t\t\t\t\tid = definition._id;\n\t\t\t\t\tif (!ids[id]) {\n\t\t\t\t\t\tids[id] = true;\n\t\t\t\t\t\tdefinitions.push(definition);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn definitions;\n\t\t},\n\t\n\t\tgetSymbols: 'getSymbolDefinitions',\n\t\n\t\tgetSelectedItems: function() {\n\t\t\tvar selectionItems = this._selectionItems,\n\t\t\t\titems = [];\n\t\t\tfor (var id in selectionItems) {\n\t\t\t\tvar item = selectionItems[id],\n\t\t\t\t\tselection = item._selection;\n\t\t\t\tif ((selection & 1) && item.isInserted()) {\n\t\t\t\t\titems.push(item);\n\t\t\t\t} else if (!selection) {\n\t\t\t\t\tthis._updateSelection(item);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn items;\n\t\t},\n\t\n\t\t_updateSelection: function(item) {\n\t\t\tvar id = item._id,\n\t\t\t\tselectionItems = this._selectionItems;\n\t\t\tif (item._selection) {\n\t\t\t\tif (selectionItems[id] !== item) {\n\t\t\t\t\tthis._selectionCount++;\n\t\t\t\t\tselectionItems[id] = item;\n\t\t\t\t}\n\t\t\t} else if (selectionItems[id] === item) {\n\t\t\t\tthis._selectionCount--;\n\t\t\t\tdelete selectionItems[id];\n\t\t\t}\n\t\t},\n\t\n\t\tselectAll: function() {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setFullySelected(true);\n\t\t},\n\t\n\t\tdeselectAll: function() {\n\t\t\tvar selectionItems = this._selectionItems;\n\t\t\tfor (var i in selectionItems)\n\t\t\t\tselectionItems[i].setFullySelected(false);\n\t\t},\n\t\n\t\taddLayer: function(layer) {\n\t\t\treturn this.insertLayer(undefined, layer);\n\t\t},\n\t\n\t\tinsertLayer: function(index, layer) {\n\t\t\tif (layer instanceof Layer) {\n\t\t\t\tlayer._remove(false, true);\n\t\t\t\tBase.splice(this._children, [layer], index, 0);\n\t\t\t\tlayer._setProject(this, true);\n\t\t\t\tvar name = layer._name;\n\t\t\t\tif (name)\n\t\t\t\t\tlayer.setName(name);\n\t\t\t\tif (this._changes)\n\t\t\t\t\tlayer._changed(5);\n\t\t\t\tif (!this._activeLayer)\n\t\t\t\t\tthis._activeLayer = layer;\n\t\t\t} else {\n\t\t\t\tlayer = null;\n\t\t\t}\n\t\t\treturn layer;\n\t\t},\n\t\n\t\t_insertItem: function(index, item, _created) {\n\t\t\titem = this.insertLayer(index, item)\n\t\t\t\t\t|| (this._activeLayer || this._insertItem(undefined,\n\t\t\t\t\t\t\tnew Layer(Item.NO_INSERT), true))\n\t\t\t\t\t\t\t.insertChild(index, item);\n\t\t\tif (_created && item.activate)\n\t\t\t\titem.activate();\n\t\t\treturn item;\n\t\t},\n\t\n\t\tgetItems: function(options) {\n\t\t\treturn Item._getItems(this, options);\n\t\t},\n\t\n\t\tgetItem: function(options) {\n\t\t\treturn Item._getItems(this, options, null, null, true)[0] || null;\n\t\t},\n\t\n\t\timportJSON: function(json) {\n\t\t\tthis.activate();\n\t\t\tvar layer = this._activeLayer;\n\t\t\treturn Base.importJSON(json, layer && layer.isEmpty() && layer);\n\t\t},\n\t\n\t\tremoveOn: function(type) {\n\t\t\tvar sets = this._removeSets;\n\t\t\tif (sets) {\n\t\t\t\tif (type === 'mouseup')\n\t\t\t\t\tsets.mousedrag = null;\n\t\t\t\tvar set = sets[type];\n\t\t\t\tif (set) {\n\t\t\t\t\tfor (var id in set) {\n\t\t\t\t\t\tvar item = set[id];\n\t\t\t\t\t\tfor (var key in sets) {\n\t\t\t\t\t\t\tvar other = sets[key];\n\t\t\t\t\t\t\tif (other && other != set)\n\t\t\t\t\t\t\t\tdelete other[item._id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.remove();\n\t\t\t\t\t}\n\t\t\t\t\tsets[type] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tdraw: function(ctx, matrix, pixelRatio) {\n\t\t\tthis._updateVersion++;\n\t\t\tctx.save();\n\t\t\tmatrix.applyToContext(ctx);\n\t\t\tvar children = this._children,\n\t\t\t\tparam = new Base({\n\t\t\t\t\toffset: new Point(0, 0),\n\t\t\t\t\tpixelRatio: pixelRatio,\n\t\t\t\t\tviewMatrix: matrix.isIdentity() ? null : matrix,\n\t\t\t\t\tmatrices: [new Matrix()],\n\t\t\t\t\tupdateMatrix: true\n\t\t\t\t});\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].draw(ctx, param);\n\t\t\t}\n\t\t\tctx.restore();\n\t\n\t\t\tif (this._selectionCount > 0) {\n\t\t\t\tctx.save();\n\t\t\t\tctx.strokeWidth = 1;\n\t\t\t\tvar items = this._selectionItems,\n\t\t\t\t\tsize = this._scope.settings.handleSize,\n\t\t\t\t\tversion = this._updateVersion;\n\t\t\t\tfor (var id in items) {\n\t\t\t\t\titems[id]._drawSelection(ctx, matrix, size, items, version);\n\t\t\t\t}\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tvar Item = Base.extend(Emitter, {\n\t\tstatics: {\n\t\t\textend: function extend(src) {\n\t\t\t\tif (src._serializeFields)\n\t\t\t\t\tsrc._serializeFields = Base.set({},\n\t\t\t\t\t\tthis.prototype._serializeFields, src._serializeFields);\n\t\t\t\treturn extend.base.apply(this, arguments);\n\t\t\t},\n\t\n\t\t\tNO_INSERT: { insert: false }\n\t\t},\n\t\n\t\t_class: 'Item',\n\t\t_name: null,\n\t\t_applyMatrix: true,\n\t\t_canApplyMatrix: true,\n\t\t_canScaleStroke: false,\n\t\t_pivot: null,\n\t\t_visible: true,\n\t\t_blendMode: 'normal',\n\t\t_opacity: 1,\n\t\t_locked: false,\n\t\t_guide: false,\n\t\t_clipMask: false,\n\t\t_selection: 0,\n\t\t_selectBounds: true,\n\t\t_selectChildren: false,\n\t\t_serializeFields: {\n\t\t\tname: null,\n\t\t\tapplyMatrix: null,\n\t\t\tmatrix: new Matrix(),\n\t\t\tpivot: null,\n\t\t\tvisible: true,\n\t\t\tblendMode: 'normal',\n\t\t\topacity: 1,\n\t\t\tlocked: false,\n\t\t\tguide: false,\n\t\t\tclipMask: false,\n\t\t\tselected: false,\n\t\t\tdata: {}\n\t\t},\n\t\t_prioritize: ['applyMatrix']\n\t},\n\tnew function() {\n\t\tvar handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick',\n\t\t\t\t'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n\t\treturn Base.each(handlers,\n\t\t\tfunction(name) {\n\t\t\t\tthis._events[name] = {\n\t\t\t\t\tinstall: function(type) {\n\t\t\t\t\t\tthis.getView()._countItemEvent(type, 1);\n\t\t\t\t\t},\n\t\n\t\t\t\t\tuninstall: function(type) {\n\t\t\t\t\t\tthis.getView()._countItemEvent(type, -1);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}, {\n\t\t\t\t_events: {\n\t\t\t\t\tonFrame: {\n\t\t\t\t\t\tinstall: function() {\n\t\t\t\t\t\t\tthis.getView()._animateItem(this, true);\n\t\t\t\t\t\t},\n\t\n\t\t\t\t\t\tuninstall: function() {\n\t\t\t\t\t\t\tthis.getView()._animateItem(this, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\n\t\t\t\t\tonLoad: {},\n\t\t\t\t\tonError: {}\n\t\t\t\t},\n\t\t\t\tstatics: {\n\t\t\t\t\t_itemHandlers: handlers\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}, {\n\t\tinitialize: function Item() {\n\t\t},\n\t\n\t\t_initialize: function(props, point) {\n\t\t\tvar hasProps = props && Base.isPlainObject(props),\n\t\t\t\tinternal = hasProps && props.internal === true,\n\t\t\t\tmatrix = this._matrix = new Matrix(),\n\t\t\t\tproject = hasProps && props.project || paper.project,\n\t\t\t\tsettings = paper.settings;\n\t\t\tthis._id = internal ? null : UID.get();\n\t\t\tthis._parent = this._index = null;\n\t\t\tthis._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n\t\t\tif (point)\n\t\t\t\tmatrix.translate(point);\n\t\t\tmatrix._owner = this;\n\t\t\tthis._style = new Style(project._currentStyle, this, project);\n\t\t\tif (internal || hasProps && props.insert == false\n\t\t\t\t|| !settings.insertItems && !(hasProps && props.insert === true)) {\n\t\t\t\tthis._setProject(project);\n\t\t\t} else {\n\t\t\t\t(hasProps && props.parent || project)\n\t\t\t\t\t\t._insertItem(undefined, this, true);\n\t\t\t}\n\t\t\tif (hasProps && props !== Item.NO_INSERT) {\n\t\t\t\tthis.set(props, {\n\t\t\t\t\tinternal: true, insert: true, project: true, parent: true\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn hasProps;\n\t\t},\n\t\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar props = {},\n\t\t\t\tthat = this;\n\t\n\t\t\tfunction serialize(fields) {\n\t\t\t\tfor (var key in fields) {\n\t\t\t\t\tvar value = that[key];\n\t\t\t\t\tif (!Base.equals(value, key === 'leading'\n\t\t\t\t\t\t\t? fields.fontSize * 1.2 : fields[key])) {\n\t\t\t\t\t\tprops[key] = Base.serialize(value, options,\n\t\t\t\t\t\t\t\tkey !== 'data', dictionary);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tserialize(this._serializeFields);\n\t\t\tif (!(this instanceof Group))\n\t\t\t\tserialize(this._style._defaults);\n\t\t\treturn [ this._class, props ];\n\t\t},\n\t\n\t\t_changed: function(flags) {\n\t\t\tvar symbol = this._symbol,\n\t\t\t\tcacheParent = this._parent || symbol,\n\t\t\t\tproject = this._project;\n\t\t\tif (flags & 8) {\n\t\t\t\tthis._bounds = this._position = this._decomposed =\n\t\t\t\t\t\tthis._globalMatrix = undefined;\n\t\t\t}\n\t\t\tif (cacheParent\n\t\t\t\t\t&& (flags & 40)) {\n\t\t\t\tItem._clearBoundsCache(cacheParent);\n\t\t\t}\n\t\t\tif (flags & 2) {\n\t\t\t\tItem._clearBoundsCache(this);\n\t\t\t}\n\t\t\tif (project)\n\t\t\t\tproject._changed(flags, this);\n\t\t\tif (symbol)\n\t\t\t\tsymbol._changed(flags);\n\t\t},\n\t\n\t\tgetId: function() {\n\t\t\treturn this._id;\n\t\t},\n\t\n\t\tgetName: function() {\n\t\t\treturn this._name;\n\t\t},\n\t\n\t\tsetName: function(name) {\n\t\n\t\t\tif (this._name)\n\t\t\t\tthis._removeNamed();\n\t\t\tif (name === (+name) + '')\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Names consisting only of numbers are not supported.');\n\t\t\tvar owner = this._getOwner();\n\t\t\tif (name && owner) {\n\t\t\t\tvar children = owner._children,\n\t\t\t\t\tnamedChildren = owner._namedChildren;\n\t\t\t\t(namedChildren[name] = namedChildren[name] || []).push(this);\n\t\t\t\tif (!(name in children))\n\t\t\t\t\tchildren[name] = this;\n\t\t\t}\n\t\t\tthis._name = name || undefined;\n\t\t\tthis._changed(128);\n\t\t},\n\t\n\t\tgetStyle: function() {\n\t\t\treturn this._style;\n\t\t},\n\t\n\t\tsetStyle: function(style) {\n\t\t\tthis.getStyle().set(style);\n\t\t}\n\t}, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'],\n\t\tfunction(name) {\n\t\t\tvar part = Base.capitalize(name),\n\t\t\t\tkey = '_' + name,\n\t\t\t\tflags = {\n\t\t\t\t\tlocked: 128,\n\t\t\t\t\tvisible: 137\n\t\t\t\t};\n\t\t\tthis['get' + part] = function() {\n\t\t\t\treturn this[key];\n\t\t\t};\n\t\t\tthis['set' + part] = function(value) {\n\t\t\t\tif (value != this[key]) {\n\t\t\t\t\tthis[key] = value;\n\t\t\t\t\tthis._changed(flags[name] || 129);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t{}), {\n\t\tbeans: true,\n\t\n\t\tgetSelection: function() {\n\t\t\treturn this._selection;\n\t\t},\n\t\n\t\tsetSelection: function(selection) {\n\t\t\tif (selection !== this._selection) {\n\t\t\t\tthis._selection = selection;\n\t\t\t\tvar project = this._project;\n\t\t\t\tif (project) {\n\t\t\t\t\tproject._updateSelection(this);\n\t\t\t\t\tthis._changed(129);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t_changeSelection: function(flag, selected) {\n\t\t\tvar selection = this._selection;\n\t\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t\t},\n\t\n\t\tisSelected: function() {\n\t\t\tif (this._selectChildren) {\n\t\t\t\tvar children = this._children;\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tif (children[i].isSelected())\n\t\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn !!(this._selection & 1);\n\t\t},\n\t\n\t\tsetSelected: function(selected) {\n\t\t\tif (this._selectChildren) {\n\t\t\t\tvar children = this._children;\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i].setSelected(selected);\n\t\t\t}\n\t\t\tthis._changeSelection(1, selected);\n\t\t},\n\t\n\t\tisFullySelected: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tselected = !!(this._selection & 1);\n\t\t\tif (children && selected) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tif (!children[i].isFullySelected())\n\t\t\t\t\t\treturn false;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn selected;\n\t\t},\n\t\n\t\tsetFullySelected: function(selected) {\n\t\t\tvar children = this._children;\n\t\t\tif (children) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i].setFullySelected(selected);\n\t\t\t}\n\t\t\tthis._changeSelection(1, selected);\n\t\t},\n\t\n\t\tisClipMask: function() {\n\t\t\treturn this._clipMask;\n\t\t},\n\t\n\t\tsetClipMask: function(clipMask) {\n\t\t\tif (this._clipMask != (clipMask = !!clipMask)) {\n\t\t\t\tthis._clipMask = clipMask;\n\t\t\t\tif (clipMask) {\n\t\t\t\t\tthis.setFillColor(null);\n\t\t\t\t\tthis.setStrokeColor(null);\n\t\t\t\t}\n\t\t\t\tthis._changed(129);\n\t\t\t\tif (this._parent)\n\t\t\t\t\tthis._parent._changed(1024);\n\t\t\t}\n\t\t},\n\t\n\t\tgetData: function() {\n\t\t\tif (!this._data)\n\t\t\t\tthis._data = {};\n\t\t\treturn this._data;\n\t\t},\n\t\n\t\tsetData: function(data) {\n\t\t\tthis._data = data;\n\t\t},\n\t\n\t\tgetPosition: function(_dontLink) {\n\t\t\tvar position = this._position,\n\t\t\t\tctor = _dontLink ? Point : LinkedPoint;\n\t\t\tif (!position) {\n\t\t\t\tvar pivot = this._pivot;\n\t\t\t\tposition = this._position = pivot\n\t\t\t\t\t\t? this._matrix._transformPoint(pivot)\n\t\t\t\t\t\t: this.getBounds().getCenter(true);\n\t\t\t}\n\t\t\treturn new ctor(position.x, position.y, this, 'setPosition');\n\t\t},\n\t\n\t\tsetPosition: function() {\n\t\t\tthis.translate(Point.read(arguments).subtract(this.getPosition(true)));\n\t\t},\n\t\n\t\tgetPivot: function() {\n\t\t\tvar pivot = this._pivot;\n\t\t\treturn pivot\n\t\t\t\t\t? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot')\n\t\t\t\t\t: null;\n\t\t},\n\t\n\t\tsetPivot: function() {\n\t\t\tthis._pivot = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\t\tthis._position = undefined;\n\t\t}\n\t}, Base.each({\n\t\t\tgetStrokeBounds: { stroke: true },\n\t\t\tgetHandleBounds: { handle: true },\n\t\t\tgetInternalBounds: { internal: true }\n\t\t},\n\t\tfunction(options, key) {\n\t\t\tthis[key] = function(matrix) {\n\t\t\t\treturn this.getBounds(matrix, options);\n\t\t\t};\n\t\t},\n\t{\n\t\tbeans: true,\n\t\n\t\tgetBounds: function(matrix, options) {\n\t\t\tvar hasMatrix = options || matrix instanceof Matrix,\n\t\t\t\topts = Base.set({}, hasMatrix ? options : matrix,\n\t\t\t\t\t\tthis._boundsOptions);\n\t\t\tif (!opts.stroke || this.getStrokeScaling())\n\t\t\t\topts.cacheItem = this;\n\t\t\tvar rect = this._getCachedBounds(hasMatrix && matrix, opts).rect;\n\t\t\treturn !arguments.length\n\t\t\t\t\t? new LinkedRectangle(rect.x, rect.y, rect.width, rect.height,\n\t\t\t\t\t\tthis, 'setBounds')\n\t\t\t\t\t: rect;\n\t\t},\n\t\n\t\tsetBounds: function() {\n\t\t\tvar rect = Rectangle.read(arguments),\n\t\t\t\tbounds = this.getBounds(),\n\t\t\t\t_matrix = this._matrix,\n\t\t\t\tmatrix = new Matrix(),\n\t\t\t\tcenter = rect.getCenter();\n\t\t\tmatrix.translate(center);\n\t\t\tif (rect.width != bounds.width || rect.height != bounds.height) {\n\t\t\t\tif (!_matrix.isInvertible()) {\n\t\t\t\t\t_matrix.set(_matrix._backup\n\t\t\t\t\t\t\t|| new Matrix().translate(_matrix.getTranslation()));\n\t\t\t\t\tbounds = this.getBounds();\n\t\t\t\t}\n\t\t\t\tmatrix.scale(\n\t\t\t\t\t\tbounds.width !== 0 ? rect.width / bounds.width : 0,\n\t\t\t\t\t\tbounds.height !== 0 ? rect.height / bounds.height : 0);\n\t\t\t}\n\t\t\tcenter = bounds.getCenter();\n\t\t\tmatrix.translate(-center.x, -center.y);\n\t\t\tthis.transform(matrix);\n\t\t},\n\t\n\t\t_getBounds: function(matrix, options) {\n\t\t\tvar children = this._children;\n\t\t\tif (!children || !children.length)\n\t\t\t\treturn new Rectangle();\n\t\t\tItem._updateBoundsCache(this, options.cacheItem);\n\t\t\treturn Item._getBounds(children, matrix, options);\n\t\t},\n\t\n\t\t_getBoundsCacheKey: function(options, internal) {\n\t\t\treturn [\n\t\t\t\toptions.stroke ? 1 : 0,\n\t\t\t\toptions.handle ? 1 : 0,\n\t\t\t\tinternal ? 1 : 0\n\t\t\t].join('');\n\t\t},\n\t\n\t\t_getCachedBounds: function(matrix, options, noInternal) {\n\t\t\tmatrix = matrix && matrix._orNullIfIdentity();\n\t\t\tvar internal = options.internal && !noInternal,\n\t\t\t\tcacheItem = options.cacheItem,\n\t\t\t\t_matrix = internal ? null : this._matrix._orNullIfIdentity(),\n\t\t\t\tcacheKey = cacheItem && (!matrix || matrix.equals(_matrix))\n\t\t\t\t\t&& this._getBoundsCacheKey(options, internal),\n\t\t\t\tbounds = this._bounds;\n\t\t\tItem._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\t\t\tif (cacheKey && bounds && cacheKey in bounds) {\n\t\t\t\tvar cached = bounds[cacheKey];\n\t\t\t\treturn {\n\t\t\t\t\trect: cached.rect.clone(),\n\t\t\t\t\tnonscaling: cached.nonscaling\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar res = this._getBounds(matrix || _matrix, options),\n\t\t\t\trect = res.rect || res,\n\t\t\t\tstyle = this._style,\n\t\t\t\tnonscaling = res.nonscaling || style.hasStroke()\n\t\t\t\t\t&& !style.getStrokeScaling();\n\t\t\tif (cacheKey) {\n\t\t\t\tif (!bounds) {\n\t\t\t\t\tthis._bounds = bounds = {};\n\t\t\t\t}\n\t\t\t\tvar cached = bounds[cacheKey] = {\n\t\t\t\t\trect: rect.clone(),\n\t\t\t\t\tnonscaling: nonscaling,\n\t\t\t\t\tinternal: internal\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\trect: rect,\n\t\t\t\tnonscaling: nonscaling\n\t\t\t};\n\t\t},\n\t\n\t\t_getStrokeMatrix: function(matrix, options) {\n\t\t\tvar parent = this.getStrokeScaling() ? null\n\t\t\t\t\t: options && options.internal ? this\n\t\t\t\t\t\t: this._parent || this._symbol && this._symbol._item,\n\t\t\t\tmx = parent ? parent.getViewMatrix().invert() : matrix;\n\t\t\treturn mx && mx._shiftless();\n\t\t},\n\t\n\t\tstatics: {\n\t\t\t_updateBoundsCache: function(parent, item) {\n\t\t\t\tif (parent && item) {\n\t\t\t\t\tvar id = item._id,\n\t\t\t\t\t\tref = parent._boundsCache = parent._boundsCache || {\n\t\t\t\t\t\t\tids: {},\n\t\t\t\t\t\t\tlist: []\n\t\t\t\t\t\t};\n\t\t\t\t\tif (!ref.ids[id]) {\n\t\t\t\t\t\tref.list.push(item);\n\t\t\t\t\t\tref.ids[id] = item;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t_clearBoundsCache: function(item) {\n\t\t\t\tvar cache = item._boundsCache;\n\t\t\t\tif (cache) {\n\t\t\t\t\titem._bounds = item._position = item._boundsCache = undefined;\n\t\t\t\t\tfor (var i = 0, list = cache.list, l = list.length; i < l; i++){\n\t\t\t\t\t\tvar other = list[i];\n\t\t\t\t\t\tif (other !== item) {\n\t\t\t\t\t\t\tother._bounds = other._position = undefined;\n\t\t\t\t\t\t\tif (other._boundsCache)\n\t\t\t\t\t\t\t\tItem._clearBoundsCache(other);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t_getBounds: function(items, matrix, options) {\n\t\t\t\tvar x1 = Infinity,\n\t\t\t\t\tx2 = -x1,\n\t\t\t\t\ty1 = x1,\n\t\t\t\t\ty2 = x2,\n\t\t\t\t\tnonscaling = false;\n\t\t\t\toptions = options || {};\n\t\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\t\tvar item = items[i];\n\t\t\t\t\tif (item._visible && !item.isEmpty()) {\n\t\t\t\t\t\tvar bounds = item._getCachedBounds(\n\t\t\t\t\t\t\tmatrix && matrix.appended(item._matrix), options, true),\n\t\t\t\t\t\t\trect = bounds.rect;\n\t\t\t\t\t\tx1 = Math.min(rect.x, x1);\n\t\t\t\t\t\ty1 = Math.min(rect.y, y1);\n\t\t\t\t\t\tx2 = Math.max(rect.x + rect.width, x2);\n\t\t\t\t\t\ty2 = Math.max(rect.y + rect.height, y2);\n\t\t\t\t\t\tif (bounds.nonscaling)\n\t\t\t\t\t\t\tnonscaling = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\trect: isFinite(x1)\n\t\t\t\t\t\t? new Rectangle(x1, y1, x2 - x1, y2 - y1)\n\t\t\t\t\t\t: new Rectangle(),\n\t\t\t\t\tnonscaling: nonscaling\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\n\t}), {\n\t\tbeans: true,\n\t\n\t\t_decompose: function() {\n\t\t\treturn this._applyMatrix\n\t\t\t\t? null\n\t\t\t\t: this._decomposed || (this._decomposed = this._matrix.decompose());\n\t\t},\n\t\n\t\tgetRotation: function() {\n\t\t\tvar decomposed = this._decompose();\n\t\t\treturn decomposed ? decomposed.rotation : 0;\n\t\t},\n\t\n\t\tsetRotation: function(rotation) {\n\t\t\tvar current = this.getRotation();\n\t\t\tif (current != null && rotation != null) {\n\t\t\t\tvar decomposed = this._decomposed;\n\t\t\t\tthis.rotate(rotation - current);\n\t\t\t\tif (decomposed) {\n\t\t\t\t\tdecomposed.rotation = rotation;\n\t\t\t\t\tthis._decomposed = decomposed;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tgetScaling: function() {\n\t\t\tvar decomposed = this._decompose(),\n\t\t\t\ts = decomposed && decomposed.scaling;\n\t\t\treturn new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n\t\t},\n\t\n\t\tsetScaling: function() {\n\t\t\tvar current = this.getScaling(),\n\t\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\t\tif (current && scaling && !current.equals(scaling)) {\n\t\t\t\tvar rotation = this.getRotation(),\n\t\t\t\t\tdecomposed = this._decomposed,\n\t\t\t\t\tmatrix = new Matrix(),\n\t\t\t\t\tcenter = this.getPosition(true);\n\t\t\t\tmatrix.translate(center);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\tmatrix.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(-rotation);\n\t\t\t\tmatrix.translate(center.negate());\n\t\t\t\tthis.transform(matrix);\n\t\t\t\tif (decomposed) {\n\t\t\t\t\tdecomposed.scaling = scaling;\n\t\t\t\t\tthis._decomposed = decomposed;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tgetMatrix: function() {\n\t\t\treturn this._matrix;\n\t\t},\n\t\n\t\tsetMatrix: function() {\n\t\t\tvar matrix = this._matrix;\n\t\t\tmatrix.initialize.apply(matrix, arguments);\n\t\t},\n\t\n\t\tgetGlobalMatrix: function(_dontClone) {\n\t\t\tvar matrix = this._globalMatrix,\n\t\t\t\tupdateVersion = this._project._updateVersion;\n\t\t\tif (matrix && matrix._updateVersion !== updateVersion)\n\t\t\t\tmatrix = null;\n\t\t\tif (!matrix) {\n\t\t\t\tmatrix = this._globalMatrix = this._matrix.clone();\n\t\t\t\tvar parent = this._parent;\n\t\t\t\tif (parent)\n\t\t\t\t\tmatrix.prepend(parent.getGlobalMatrix(true));\n\t\t\t\tmatrix._updateVersion = updateVersion;\n\t\t\t}\n\t\t\treturn _dontClone ? matrix : matrix.clone();\n\t\t},\n\t\n\t\tgetViewMatrix: function() {\n\t\t\treturn this.getGlobalMatrix().prepend(this.getView()._matrix);\n\t\t},\n\t\n\t\tgetApplyMatrix: function() {\n\t\t\treturn this._applyMatrix;\n\t\t},\n\t\n\t\tsetApplyMatrix: function(apply) {\n\t\t\tif (this._applyMatrix = this._canApplyMatrix && !!apply)\n\t\t\t\tthis.transform(null, true);\n\t\t},\n\t\n\t\tgetTransformContent: '#getApplyMatrix',\n\t\tsetTransformContent: '#setApplyMatrix',\n\t}, {\n\t\tgetProject: function() {\n\t\t\treturn this._project;\n\t\t},\n\t\n\t\t_setProject: function(project, installEvents) {\n\t\t\tif (this._project !== project) {\n\t\t\t\tif (this._project)\n\t\t\t\t\tthis._installEvents(false);\n\t\t\t\tthis._project = project;\n\t\t\t\tvar children = this._children;\n\t\t\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\t\t\tchildren[i]._setProject(project);\n\t\t\t\tinstallEvents = true;\n\t\t\t}\n\t\t\tif (installEvents)\n\t\t\t\tthis._installEvents(true);\n\t\t},\n\t\n\t\tgetView: function() {\n\t\t\treturn this._project._view;\n\t\t},\n\t\n\t\t_installEvents: function _installEvents(install) {\n\t\t\t_installEvents.base.call(this, install);\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\t\tchildren[i]._installEvents(install);\n\t\t},\n\t\n\t\tgetLayer: function() {\n\t\t\tvar parent = this;\n\t\t\twhile (parent = parent._parent) {\n\t\t\t\tif (parent instanceof Layer)\n\t\t\t\t\treturn parent;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\n\t\tgetParent: function() {\n\t\t\treturn this._parent;\n\t\t},\n\t\n\t\tsetParent: function(item) {\n\t\t\treturn item.addChild(this);\n\t\t},\n\t\n\t\t_getOwner: '#getParent',\n\t\n\t\tgetChildren: function() {\n\t\t\treturn this._children;\n\t\t},\n\t\n\t\tsetChildren: function(items) {\n\t\t\tthis.removeChildren();\n\t\t\tthis.addChildren(items);\n\t\t},\n\t\n\t\tgetFirstChild: function() {\n\t\t\treturn this._children && this._children[0] || null;\n\t\t},\n\t\n\t\tgetLastChild: function() {\n\t\t\treturn this._children && this._children[this._children.length - 1]\n\t\t\t\t\t|| null;\n\t\t},\n\t\n\t\tgetNextSibling: function() {\n\t\t\tvar owner = this._getOwner();\n\t\t\treturn owner && owner._children[this._index + 1] || null;\n\t\t},\n\t\n\t\tgetPreviousSibling: function() {\n\t\t\tvar owner = this._getOwner();\n\t\t\treturn owner && owner._children[this._index - 1] || null;\n\t\t},\n\t\n\t\tgetIndex: function() {\n\t\t\treturn this._index;\n\t\t},\n\t\n\t\tequals: function(item) {\n\t\t\treturn item === this || item && this._class === item._class\n\t\t\t\t\t&& this._style.equals(item._style)\n\t\t\t\t\t&& this._matrix.equals(item._matrix)\n\t\t\t\t\t&& this._locked === item._locked\n\t\t\t\t\t&& this._visible === item._visible\n\t\t\t\t\t&& this._blendMode === item._blendMode\n\t\t\t\t\t&& this._opacity === item._opacity\n\t\t\t\t\t&& this._clipMask === item._clipMask\n\t\t\t\t\t&& this._guide === item._guide\n\t\t\t\t\t&& this._equals(item)\n\t\t\t\t\t|| false;\n\t\t},\n\t\n\t\t_equals: function(item) {\n\t\t\treturn Base.equals(this._children, item._children);\n\t\t},\n\t\n\t\tclone: function(options) {\n\t\t\tvar copy = new this.constructor(Item.NO_INSERT),\n\t\t\t\tchildren = this._children,\n\t\t\t\tinsert = Base.pick(options ? options.insert : undefined,\n\t\t\t\t\t\toptions === undefined || options === true),\n\t\t\t\tdeep = Base.pick(options ? options.deep : undefined, true);\n\t\t\tif (children)\n\t\t\t\tcopy.copyAttributes(this);\n\t\t\tif (!children || deep)\n\t\t\t\tcopy.copyContent(this);\n\t\t\tif (!children)\n\t\t\t\tcopy.copyAttributes(this);\n\t\t\tif (insert)\n\t\t\t\tcopy.insertAbove(this);\n\t\t\tvar name = this._name,\n\t\t\t\tparent = this._parent;\n\t\t\tif (name && parent) {\n\t\t\t\tvar children = parent._children,\n\t\t\t\t\torig = name,\n\t\t\t\t\ti = 1;\n\t\t\t\twhile (children[name])\n\t\t\t\t\tname = orig + ' ' + (i++);\n\t\t\t\tif (name !== orig)\n\t\t\t\t\tcopy.setName(name);\n\t\t\t}\n\t\t\treturn copy;\n\t\t},\n\t\n\t\tcopyContent: function(source) {\n\t\t\tvar children = source._children;\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\t\tthis.addChild(children[i].clone(false), true);\n\t\t\t}\n\t\t},\n\t\n\t\tcopyAttributes: function(source, excludeMatrix) {\n\t\t\tthis.setStyle(source._style);\n\t\t\tvar keys = ['_locked', '_visible', '_blendMode', '_opacity',\n\t\t\t\t\t'_clipMask', '_guide'];\n\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\t\tthis[key] = source[key];\n\t\t\t}\n\t\t\tif (!excludeMatrix)\n\t\t\t\tthis._matrix.set(source._matrix, true);\n\t\t\tthis.setApplyMatrix(source._applyMatrix);\n\t\t\tthis.setPivot(source._pivot);\n\t\t\tthis.setSelection(source._selection);\n\t\t\tvar data = source._data,\n\t\t\t\tname = source._name;\n\t\t\tthis._data = data ? Base.clone(data) : null;\n\t\t\tif (name)\n\t\t\t\tthis.setName(name);\n\t\t},\n\t\n\t\trasterize: function(resolution, insert) {\n\t\t\tvar bounds = this.getStrokeBounds(),\n\t\t\t\tscale = (resolution || this.getView().getResolution()) / 72,\n\t\t\t\ttopLeft = bounds.getTopLeft().floor(),\n\t\t\t\tbottomRight = bounds.getBottomRight().ceil(),\n\t\t\t\tsize = new Size(bottomRight.subtract(topLeft)),\n\t\t\t\traster = new Raster(Item.NO_INSERT);\n\t\t\tif (!size.isZero()) {\n\t\t\t\tvar canvas = CanvasProvider.getCanvas(size.multiply(scale)),\n\t\t\t\t\tctx = canvas.getContext('2d'),\n\t\t\t\t\tmatrix = new Matrix().scale(scale).translate(topLeft.negate());\n\t\t\t\tctx.save();\n\t\t\t\tmatrix.applyToContext(ctx);\n\t\t\t\tthis.draw(ctx, new Base({ matrices: [matrix] }));\n\t\t\t\tctx.restore();\n\t\t\t\traster.setCanvas(canvas);\n\t\t\t}\n\t\t\traster.transform(new Matrix().translate(topLeft.add(size.divide(2)))\n\t\t\t\t\t.scale(1 / scale));\n\t\t\tif (insert === undefined || insert)\n\t\t\t\traster.insertAbove(this);\n\t\t\treturn raster;\n\t\t},\n\t\n\t\tcontains: function() {\n\t\t\treturn !!this._contains(\n\t\t\t\t\tthis._matrix._inverseTransform(Point.read(arguments)));\n\t\t},\n\t\n\t\t_contains: function(point) {\n\t\t\tvar children = this._children;\n\t\t\tif (children) {\n\t\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (children[i].contains(point))\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn point.isInside(this.getInternalBounds());\n\t\t},\n\t\n\t\tisInside: function() {\n\t\t\treturn Rectangle.read(arguments).contains(this.getBounds());\n\t\t},\n\t\n\t\t_asPathItem: function() {\n\t\t\treturn new Path.Rectangle({\n\t\t\t\trectangle: this.getInternalBounds(),\n\t\t\t\tmatrix: this._matrix,\n\t\t\t\tinsert: false,\n\t\t\t});\n\t\t},\n\t\n\t\tintersects: function(item, _matrix) {\n\t\t\tif (!(item instanceof Item))\n\t\t\t\treturn false;\n\t\t\treturn this._asPathItem().getIntersections(item._asPathItem(), null,\n\t\t\t\t\t_matrix, true).length > 0;\n\t\t}\n\t},\n\tnew function() {\n\t\tfunction hitTest() {\n\t\t\treturn this._hitTest(\n\t\t\t\t\tPoint.read(arguments),\n\t\t\t\t\tHitResult.getOptions(arguments));\n\t\t}\n\t\n\t\tfunction hitTestAll() {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\toptions = HitResult.getOptions(arguments),\n\t\t\t\tall = [];\n\t\t\tthis._hitTest(point, Base.set({ all: all }, options));\n\t\t\treturn all;\n\t\t}\n\t\n\t\tfunction hitTestChildren(point, options, viewMatrix, _exclude) {\n\t\t\tvar children = this._children;\n\t\t\tif (children) {\n\t\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar child = children[i];\n\t\t\t\t\tvar res = child !== _exclude && child._hitTest(point, options,\n\t\t\t\t\t\t\tviewMatrix);\n\t\t\t\t\tif (res && !options.all)\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\n\t\tProject.inject({\n\t\t\thitTest: hitTest,\n\t\t\thitTestAll: hitTestAll,\n\t\t\t_hitTest: hitTestChildren\n\t\t});\n\t\n\t\treturn {\n\t\t\thitTest: hitTest,\n\t\t\thitTestAll: hitTestAll,\n\t\t\t_hitTestChildren: hitTestChildren,\n\t\t};\n\t}, {\n\t\n\t\t_hitTest: function(point, options, parentViewMatrix) {\n\t\t\tif (this._locked || !this._visible || this._guide && !options.guides\n\t\t\t\t\t|| this.isEmpty()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\tvar matrix = this._matrix,\n\t\t\t\tviewMatrix = parentViewMatrix\n\t\t\t\t\t\t? parentViewMatrix.appended(matrix)\n\t\t\t\t\t\t: this.getGlobalMatrix().prepend(this.getView()._matrix),\n\t\t\t\ttolerance = Math.max(options.tolerance, 1e-12),\n\t\t\t\ttolerancePadding = options._tolerancePadding = new Size(\n\t\t\t\t\t\tPath._getStrokePadding(tolerance,\n\t\t\t\t\t\t\tmatrix._shiftless().invert()));\n\t\t\tpoint = matrix._inverseTransform(point);\n\t\t\tif (!point || !this._children &&\n\t\t\t\t!this.getBounds({ internal: true, stroke: true, handle: true })\n\t\t\t\t\t.expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\tvar checkSelf = !(options.guides && !this._guide\n\t\t\t\t\t|| options.selected && !this.isSelected()\n\t\t\t\t\t|| options.type && options.type !== Base.hyphenate(this._class)\n\t\t\t\t\t|| options.class && !(this instanceof options.class)),\n\t\t\t\tmatch = options.match,\n\t\t\t\tthat = this,\n\t\t\t\tbounds,\n\t\t\t\tres;\n\t\n\t\t\tfunction filter(hit) {\n\t\t\t\tif (hit && match && !match(hit))\n\t\t\t\t\thit = null;\n\t\t\t\tif (hit && options.all)\n\t\t\t\t\toptions.all.push(hit);\n\t\t\t\treturn hit;\n\t\t\t}\n\t\n\t\t\tfunction checkPoint(type, part) {\n\t\t\t\tvar pt = part ? bounds['get' + part]() : that.getPosition();\n\t\t\t\tif (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n\t\t\t\t\treturn new HitResult(type, that, {\n\t\t\t\t\t\tname: part ? Base.hyphenate(part) : type,\n\t\t\t\t\t\tpoint: pt\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tvar checkPosition = options.position,\n\t\t\t\tcheckCenter = options.center,\n\t\t\t\tcheckBounds = options.bounds;\n\t\t\tif (checkSelf && this._parent\n\t\t\t\t\t&& (checkPosition || checkCenter || checkBounds)) {\n\t\t\t\tif (checkCenter || checkBounds) {\n\t\t\t\t\tbounds = this.getInternalBounds();\n\t\t\t\t}\n\t\t\t\tres = checkPosition && checkPoint('position') ||\n\t\t\t\t\t\tcheckCenter && checkPoint('center', 'Center');\n\t\t\t\tif (!res && checkBounds) {\n\t\t\t\t\tvar points = [\n\t\t\t\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'\n\t\t\t\t\t];\n\t\t\t\t\tfor (var i = 0; i < 8 && !res; i++) {\n\t\t\t\t\t\tres = checkPoint('bounds', points[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tres = filter(res);\n\t\t\t}\n\t\n\t\t\tif (!res) {\n\t\t\t\tres = this._hitTestChildren(point, options, viewMatrix)\n\t\t\t\t\t|| checkSelf\n\t\t\t\t\t\t&& filter(this._hitTestSelf(point, options, viewMatrix,\n\t\t\t\t\t\t\tthis.getStrokeScaling() ? null\n\t\t\t\t\t\t\t\t: viewMatrix._shiftless().invert()))\n\t\t\t\t\t|| null;\n\t\t\t}\n\t\t\tif (res && res.point) {\n\t\t\t\tres.point = matrix.transform(res.point);\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\n\t\t_hitTestSelf: function(point, options) {\n\t\t\tif (options.fill && this.hasFill() && this._contains(point))\n\t\t\t\treturn new HitResult('fill', this);\n\t\t},\n\t\n\t\tmatches: function(name, compare) {\n\t\t\tfunction matchObject(obj1, obj2) {\n\t\t\t\tfor (var i in obj1) {\n\t\t\t\t\tif (obj1.hasOwnProperty(i)) {\n\t\t\t\t\t\tvar val1 = obj1[i],\n\t\t\t\t\t\t\tval2 = obj2[i];\n\t\t\t\t\t\tif (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n\t\t\t\t\t\t\tif (!matchObject(val1, val2))\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else if (!Base.equals(val1, val2)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar type = typeof name;\n\t\t\tif (type === 'object') {\n\t\t\t\tfor (var key in name) {\n\t\t\t\t\tif (name.hasOwnProperty(key) && !this.matches(key, name[key]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} else if (type === 'function') {\n\t\t\t\treturn name(this);\n\t\t\t} else if (name === 'match') {\n\t\t\t\treturn compare(this);\n\t\t\t} else {\n\t\t\t\tvar value = /^(empty|editable)$/.test(name)\n\t\t\t\t\t\t? this['is' + Base.capitalize(name)]()\n\t\t\t\t\t\t: name === 'type'\n\t\t\t\t\t\t\t? Base.hyphenate(this._class)\n\t\t\t\t\t\t\t: this[name];\n\t\t\t\tif (name === 'class') {\n\t\t\t\t\tif (typeof compare === 'function')\n\t\t\t\t\t\treturn this instanceof compare;\n\t\t\t\t\tvalue = this._class;\n\t\t\t\t}\n\t\t\t\tif (typeof compare === 'function') {\n\t\t\t\t\treturn !!compare(value);\n\t\t\t\t} else if (compare) {\n\t\t\t\t\tif (compare.test) {\n\t\t\t\t\t\treturn compare.test(value);\n\t\t\t\t\t} else if (Base.isPlainObject(compare)) {\n\t\t\t\t\t\treturn matchObject(compare, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn Base.equals(value, compare);\n\t\t\t}\n\t\t},\n\t\n\t\tgetItems: function(options) {\n\t\t\treturn Item._getItems(this, options, this._matrix);\n\t\t},\n\t\n\t\tgetItem: function(options) {\n\t\t\treturn Item._getItems(this, options, this._matrix, null, true)[0]\n\t\t\t\t\t|| null;\n\t\t},\n\t\n\t\tstatics: {\n\t\t\t_getItems: function _getItems(item, options, matrix, param, firstOnly) {\n\t\t\t\tif (!param) {\n\t\t\t\t\tvar obj = typeof options === 'object' && options,\n\t\t\t\t\t\toverlapping = obj && obj.overlapping,\n\t\t\t\t\t\tinside = obj && obj.inside,\n\t\t\t\t\t\tbounds = overlapping || inside,\n\t\t\t\t\t\trect = bounds && Rectangle.read([bounds]);\n\t\t\t\t\tparam = {\n\t\t\t\t\t\titems: [],\n\t\t\t\t\t\trecursive: obj && obj.recursive !== false,\n\t\t\t\t\t\tinside: !!inside,\n\t\t\t\t\t\toverlapping: !!overlapping,\n\t\t\t\t\t\trect: rect,\n\t\t\t\t\t\tpath: overlapping && new Path.Rectangle({\n\t\t\t\t\t\t\trectangle: rect,\n\t\t\t\t\t\t\tinsert: false\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t\tif (obj) {\n\t\t\t\t\t\toptions = Base.filter({}, options, {\n\t\t\t\t\t\t\trecursive: true, inside: true, overlapping: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar children = item._children,\n\t\t\t\t\titems = param.items,\n\t\t\t\t\trect = param.rect;\n\t\t\t\tmatrix = rect && (matrix || new Matrix());\n\t\t\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\t\t\tvar child = children[i],\n\t\t\t\t\t\tchildMatrix = matrix && matrix.appended(child._matrix),\n\t\t\t\t\t\tadd = true;\n\t\t\t\t\tif (rect) {\n\t\t\t\t\t\tvar bounds = child.getBounds(childMatrix);\n\t\t\t\t\t\tif (!rect.intersects(bounds))\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tif (!(rect.contains(bounds)\n\t\t\t\t\t\t\t\t|| param.overlapping && (bounds.contains(rect)\n\t\t\t\t\t\t\t\t\t|| param.path.intersects(child, childMatrix))))\n\t\t\t\t\t\t\tadd = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (add && child.matches(options)) {\n\t\t\t\t\t\titems.push(child);\n\t\t\t\t\t\tif (firstOnly)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (param.recursive !== false) {\n\t\t\t\t\t\t_getItems(child, options, childMatrix, param, firstOnly);\n\t\t\t\t\t}\n\t\t\t\t\tif (firstOnly && items.length > 0)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn items;\n\t\t\t}\n\t\t}\n\t}, {\n\t\n\t\timportJSON: function(json) {\n\t\t\tvar res = Base.importJSON(json, this);\n\t\t\treturn res !== this ? this.addChild(res) : res;\n\t\t},\n\t\n\t\taddChild: function(item) {\n\t\t\treturn this.insertChild(undefined, item);\n\t\t},\n\t\n\t\tinsertChild: function(index, item) {\n\t\t\tvar res = item ? this.insertChildren(index, [item]) : null;\n\t\t\treturn res && res[0];\n\t\t},\n\t\n\t\taddChildren: function(items) {\n\t\t\treturn this.insertChildren(this._children.length, items);\n\t\t},\n\t\n\t\tinsertChildren: function(index, items) {\n\t\t\tvar children = this._children;\n\t\t\tif (children && items && items.length > 0) {\n\t\t\t\titems = Base.slice(items);\n\t\t\t\tvar inserted = {};\n\t\t\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar item = items[i],\n\t\t\t\t\t\tid = item && item._id;\n\t\t\t\t\tif (!item || inserted[id]) {\n\t\t\t\t\t\titems.splice(i, 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem._remove(false, true);\n\t\t\t\t\t\tinserted[id] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tBase.splice(children, items, index, 0);\n\t\t\t\tvar project = this._project,\n\t\t\t\t\tnotifySelf = project._changes;\n\t\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\t\tvar item = items[i],\n\t\t\t\t\t\tname = item._name;\n\t\t\t\t\titem._parent = this;\n\t\t\t\t\titem._setProject(project, true);\n\t\t\t\t\tif (name)\n\t\t\t\t\t\titem.setName(name);\n\t\t\t\t\tif (notifySelf)\n\t\t\t\t\t\titem._changed(5);\n\t\t\t\t}\n\t\t\t\tthis._changed(11);\n\t\t\t} else {\n\t\t\t\titems = null;\n\t\t\t}\n\t\t\treturn items;\n\t\t},\n\t\n\t\t_insertItem: '#insertChild',\n\t\n\t\t_insertAt: function(item, offset) {\n\t\t\tvar owner = item && item._getOwner(),\n\t\t\t\tres = item !== this && owner ? this : null;\n\t\t\tif (res) {\n\t\t\t\tres._remove(false, true);\n\t\t\t\towner._insertItem(item._index + offset, res);\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\n\t\tinsertAbove: function(item) {\n\t\t\treturn this._insertAt(item, 1);\n\t\t},\n\t\n\t\tinsertBelow: function(item) {\n\t\t\treturn this._insertAt(item, 0);\n\t\t},\n\t\n\t\tsendToBack: function() {\n\t\t\tvar owner = this._getOwner();\n\t\t\treturn owner ? owner._insertItem(0, this) : null;\n\t\t},\n\t\n\t\tbringToFront: function() {\n\t\t\tvar owner = this._getOwner();\n\t\t\treturn owner ? owner._insertItem(undefined, this) : null;\n\t\t},\n\t\n\t\tappendTop: '#addChild',\n\t\n\t\tappendBottom: function(item) {\n\t\t\treturn this.insertChild(0, item);\n\t\t},\n\t\n\t\tmoveAbove: '#insertAbove',\n\t\n\t\tmoveBelow: '#insertBelow',\n\t\n\t\taddTo: function(owner) {\n\t\t\treturn owner._insertItem(undefined, this);\n\t\t},\n\t\n\t\tcopyTo: function(owner) {\n\t\t\treturn this.clone(false).addTo(owner);\n\t\t},\n\t\n\t\treduce: function(options) {\n\t\t\tvar children = this._children;\n\t\t\tif (children && children.length === 1) {\n\t\t\t\tvar child = children[0].reduce(options);\n\t\t\t\tif (this._parent) {\n\t\t\t\t\tchild.insertAbove(this);\n\t\t\t\t\tthis.remove();\n\t\t\t\t} else {\n\t\t\t\t\tchild.remove();\n\t\t\t\t}\n\t\t\t\treturn child;\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\n\t\t_removeNamed: function() {\n\t\t\tvar owner = this._getOwner();\n\t\t\tif (owner) {\n\t\t\t\tvar children = owner._children,\n\t\t\t\t\tnamedChildren = owner._namedChildren,\n\t\t\t\t\tname = this._name,\n\t\t\t\t\tnamedArray = namedChildren[name],\n\t\t\t\t\tindex = namedArray ? namedArray.indexOf(this) : -1;\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tif (children[name] == this)\n\t\t\t\t\t\tdelete children[name];\n\t\t\t\t\tnamedArray.splice(index, 1);\n\t\t\t\t\tif (namedArray.length) {\n\t\t\t\t\t\tchildren[name] = namedArray[0];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelete namedChildren[name];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t_remove: function(notifySelf, notifyParent) {\n\t\t\tvar owner = this._getOwner(),\n\t\t\t\tproject = this._project,\n\t\t\t\tindex = this._index;\n\t\t\tif (owner) {\n\t\t\t\tif (this._name)\n\t\t\t\t\tthis._removeNamed();\n\t\t\t\tif (index != null) {\n\t\t\t\t\tif (project._activeLayer === this)\n\t\t\t\t\t\tproject._activeLayer = this.getNextSibling()\n\t\t\t\t\t\t\t\t|| this.getPreviousSibling();\n\t\t\t\t\tBase.splice(owner._children, null, index, 1);\n\t\t\t\t}\n\t\t\t\tthis._installEvents(false);\n\t\t\t\tif (notifySelf && project._changes)\n\t\t\t\t\tthis._changed(5);\n\t\t\t\tif (notifyParent)\n\t\t\t\t\towner._changed(11, this);\n\t\t\t\tthis._parent = null;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\n\t\tremove: function() {\n\t\t\treturn this._remove(true, true);\n\t\t},\n\t\n\t\treplaceWith: function(item) {\n\t\t\tvar ok = item && item.insertBelow(this);\n\t\t\tif (ok)\n\t\t\t\tthis.remove();\n\t\t\treturn ok;\n\t\t},\n\t\n\t\tremoveChildren: function(start, end) {\n\t\t\tif (!this._children)\n\t\t\t\treturn null;\n\t\t\tstart = start || 0;\n\t\t\tend = Base.pick(end, this._children.length);\n\t\t\tvar removed = Base.splice(this._children, null, start, end - start);\n\t\t\tfor (var i = removed.length - 1; i >= 0; i--) {\n\t\t\t\tremoved[i]._remove(true, false);\n\t\t\t}\n\t\t\tif (removed.length > 0)\n\t\t\t\tthis._changed(11);\n\t\t\treturn removed;\n\t\t},\n\t\n\t\tclear: '#removeChildren',\n\t\n\t\treverseChildren: function() {\n\t\t\tif (this._children) {\n\t\t\t\tthis._children.reverse();\n\t\t\t\tfor (var i = 0, l = this._children.length; i < l; i++)\n\t\t\t\t\tthis._children[i]._index = i;\n\t\t\t\tthis._changed(11);\n\t\t\t}\n\t\t},\n\t\n\t\tisEmpty: function() {\n\t\t\tvar children = this._children;\n\t\t\treturn !children || !children.length;\n\t\t},\n\t\n\t\tisEditable: function() {\n\t\t\tvar item = this;\n\t\t\twhile (item) {\n\t\t\t\tif (!item._visible || item._locked)\n\t\t\t\t\treturn false;\n\t\t\t\titem = item._parent;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\n\t\thasFill: function() {\n\t\t\treturn this.getStyle().hasFill();\n\t\t},\n\t\n\t\thasStroke: function() {\n\t\t\treturn this.getStyle().hasStroke();\n\t\t},\n\t\n\t\thasShadow: function() {\n\t\t\treturn this.getStyle().hasShadow();\n\t\t},\n\t\n\t\t_getOrder: function(item) {\n\t\t\tfunction getList(item) {\n\t\t\t\tvar list = [];\n\t\t\t\tdo {\n\t\t\t\t\tlist.unshift(item);\n\t\t\t\t} while (item = item._parent);\n\t\t\t\treturn list;\n\t\t\t}\n\t\t\tvar list1 = getList(this),\n\t\t\t\tlist2 = getList(item);\n\t\t\tfor (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n\t\t\t\tif (list1[i] != list2[i]) {\n\t\t\t\t\treturn list1[i]._index < list2[i]._index ? 1 : -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\t\n\t\thasChildren: function() {\n\t\t\treturn this._children && this._children.length > 0;\n\t\t},\n\t\n\t\tisInserted: function() {\n\t\t\treturn this._parent ? this._parent.isInserted() : false;\n\t\t},\n\t\n\t\tisAbove: function(item) {\n\t\t\treturn this._getOrder(item) === -1;\n\t\t},\n\t\n\t\tisBelow: function(item) {\n\t\t\treturn this._getOrder(item) === 1;\n\t\t},\n\t\n\t\tisParent: function(item) {\n\t\t\treturn this._parent === item;\n\t\t},\n\t\n\t\tisChild: function(item) {\n\t\t\treturn item && item._parent === this;\n\t\t},\n\t\n\t\tisDescendant: function(item) {\n\t\t\tvar parent = this;\n\t\t\twhile (parent = parent._parent) {\n\t\t\t\tif (parent === item)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\n\t\tisAncestor: function(item) {\n\t\t\treturn item ? item.isDescendant(this) : false;\n\t\t},\n\t\n\t\tisSibling: function(item) {\n\t\t\treturn this._parent === item._parent;\n\t\t},\n\t\n\t\tisGroupedWith: function(item) {\n\t\t\tvar parent = this._parent;\n\t\t\twhile (parent) {\n\t\t\t\tif (parent._parent\n\t\t\t\t\t&& /^(Group|Layer|CompoundPath)$/.test(parent._class)\n\t\t\t\t\t&& item.isDescendant(parent))\n\t\t\t\t\t\treturn true;\n\t\t\t\tparent = parent._parent;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\n\t}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\t\tvar rotate = key === 'rotate';\n\t\tthis[key] = function() {\n\t\t\tvar value = (rotate ? Base : Point).read(arguments),\n\t\t\t\tcenter = Point.read(arguments, 0, { readNull: true });\n\t\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\t\tcenter || this.getPosition(true)));\n\t\t};\n\t}, {\n\t\ttranslate: function() {\n\t\t\tvar mx = new Matrix();\n\t\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t\t},\n\t\n\t\ttransform: function(matrix, _applyMatrix, _applyRecursively,\n\t\t\t\t_setApplyMatrix) {\n\t\t\tvar _matrix = this._matrix,\n\t\t\t\ttransform = matrix && !matrix.isIdentity(),\n\t\t\t\tapplyMatrix = (_applyMatrix || this._applyMatrix)\n\t\t\t\t\t\t&& ((!_matrix.isIdentity() || transform)\n\t\t\t\t\t\t\t|| _applyMatrix && _applyRecursively && this._children);\n\t\t\tif (!transform && !applyMatrix)\n\t\t\t\treturn this;\n\t\t\tif (transform) {\n\t\t\t\tif (!matrix.isInvertible() && _matrix.isInvertible())\n\t\t\t\t\t_matrix._backup = _matrix.getValues();\n\t\t\t\t_matrix.prepend(matrix, true);\n\t\t\t\tvar style = this._style,\n\t\t\t\t\tfillColor = style.getFillColor(true),\n\t\t\t\t\tstrokeColor = style.getStrokeColor(true);\n\t\t\t\tif (fillColor)\n\t\t\t\t\tfillColor.transform(matrix);\n\t\t\t\tif (strokeColor)\n\t\t\t\t\tstrokeColor.transform(matrix);\n\t\t\t}\n\t\t\tif (applyMatrix && (applyMatrix = this._transformContent(_matrix,\n\t\t\t\t\t_applyRecursively, _setApplyMatrix))) {\n\t\t\t\tvar pivot = this._pivot;\n\t\t\t\tif (pivot)\n\t\t\t\t\t_matrix._transformPoint(pivot, pivot, true);\n\t\t\t\t_matrix.reset(true);\n\t\t\t\tif (_setApplyMatrix && this._canApplyMatrix)\n\t\t\t\t\tthis._applyMatrix = true;\n\t\t\t}\n\t\t\tvar bounds = this._bounds,\n\t\t\t\tposition = this._position;\n\t\t\tif (transform || applyMatrix) {\n\t\t\t\tthis._changed(9);\n\t\t\t}\n\t\t\tvar decomp = transform && bounds && matrix.decompose();\n\t\t\tif (decomp && decomp.skewing.isZero() && decomp.rotation % 90 === 0) {\n\t\t\t\tfor (var key in bounds) {\n\t\t\t\t\tvar cache = bounds[key];\n\t\t\t\t\tif (cache.nonscaling) {\n\t\t\t\t\t\tdelete bounds[key];\n\t\t\t\t\t} else if (applyMatrix || !cache.internal) {\n\t\t\t\t\t\tvar rect = cache.rect;\n\t\t\t\t\t\tmatrix._transformBounds(rect, rect);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._bounds = bounds;\n\t\t\t\tvar cached = bounds[this._getBoundsCacheKey(\n\t\t\t\t\t\tthis._boundsOptions || {})];\n\t\t\t\tif (cached) {\n\t\t\t\t\tthis._position = cached.rect.getCenter(true);\n\t\t\t\t}\n\t\t\t} else if (transform && position && this._pivot) {\n\t\t\t\tthis._position = matrix._transformPoint(position, position);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\n\t\t_transformContent: function(matrix, applyRecursively, setApplyMatrix) {\n\t\t\tvar children = this._children;\n\t\t\tif (children) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i].transform(matrix, true, applyRecursively,\n\t\t\t\t\t\t\tsetApplyMatrix);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t},\n\t\n\t\tglobalToLocal: function() {\n\t\t\treturn this.getGlobalMatrix(true)._inverseTransform(\n\t\t\t\t\tPoint.read(arguments));\n\t\t},\n\t\n\t\tlocalToGlobal: function() {\n\t\t\treturn this.getGlobalMatrix(true)._transformPoint(\n\t\t\t\t\tPoint.read(arguments));\n\t\t},\n\t\n\t\tparentToLocal: function() {\n\t\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t\t},\n\t\n\t\tlocalToParent: function() {\n\t\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t\t},\n\t\n\t\tfitBounds: function(rectangle, fill) {\n\t\t\trectangle = Rectangle.read(arguments);\n\t\t\tvar bounds = this.getBounds(),\n\t\t\t\titemRatio = bounds.height / bounds.width,\n\t\t\t\trectRatio = rectangle.height / rectangle.width,\n\t\t\t\tscale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio)\n\t\t\t\t\t\t? rectangle.width / bounds.width\n\t\t\t\t\t\t: rectangle.height / bounds.height,\n\t\t\t\tnewBounds = new Rectangle(new Point(),\n\t\t\t\t\t\tnew Size(bounds.width * scale, bounds.height * scale));\n\t\t\tnewBounds.setCenter(rectangle.getCenter());\n\t\t\tthis.setBounds(newBounds);\n\t\t}\n\t}), {\n\t\n\t\t_setStyles: function(ctx, param, viewMatrix) {\n\t\t\tvar style = this._style,\n\t\t\t\tmatrix = this._matrix;\n\t\t\tif (style.hasFill()) {\n\t\t\t\tctx.fillStyle = style.getFillColor().toCanvasStyle(ctx, matrix);\n\t\t\t}\n\t\t\tif (style.hasStroke()) {\n\t\t\t\tctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx, matrix);\n\t\t\t\tctx.lineWidth = style.getStrokeWidth();\n\t\t\t\tvar strokeJoin = style.getStrokeJoin(),\n\t\t\t\t\tstrokeCap = style.getStrokeCap(),\n\t\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\t\tif (strokeJoin)\n\t\t\t\t\tctx.lineJoin = strokeJoin;\n\t\t\t\tif (strokeCap)\n\t\t\t\t\tctx.lineCap = strokeCap;\n\t\t\t\tif (miterLimit)\n\t\t\t\t\tctx.miterLimit = miterLimit;\n\t\t\t\tif (paper.support.nativeDash) {\n\t\t\t\t\tvar dashArray = style.getDashArray(),\n\t\t\t\t\t\tdashOffset = style.getDashOffset();\n\t\t\t\t\tif (dashArray && dashArray.length) {\n\t\t\t\t\t\tif ('setLineDash' in ctx) {\n\t\t\t\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\t\t\t\tctx.lineDashOffset = dashOffset;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.mozDash = dashArray;\n\t\t\t\t\t\t\tctx.mozDashOffset = dashOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (style.hasShadow()) {\n\t\t\t\tvar pixelRatio = param.pixelRatio || 1,\n\t\t\t\t\tmx = viewMatrix._shiftless().prepend(\n\t\t\t\t\t\tnew Matrix().scale(pixelRatio, pixelRatio)),\n\t\t\t\t\tblur = mx.transform(new Point(style.getShadowBlur(), 0)),\n\t\t\t\t\toffset = mx.transform(this.getShadowOffset());\n\t\t\t\tctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n\t\t\t\tctx.shadowBlur = blur.getLength();\n\t\t\t\tctx.shadowOffsetX = offset.x;\n\t\t\t\tctx.shadowOffsetY = offset.y;\n\t\t\t}\n\t\t},\n\t\n\t\tdraw: function(ctx, param, parentStrokeMatrix) {\n\t\t\tvar updateVersion = this._updateVersion = this._project._updateVersion;\n\t\t\tif (!this._visible || this._opacity === 0)\n\t\t\t\treturn;\n\t\t\tvar matrices = param.matrices,\n\t\t\t\tviewMatrix = param.viewMatrix,\n\t\t\t\tmatrix = this._matrix,\n\t\t\t\tglobalMatrix = matrices[matrices.length - 1].appended(matrix);\n\t\t\tif (!globalMatrix.isInvertible())\n\t\t\t\treturn;\n\t\n\t\t\tviewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix)\n\t\t\t\t\t: globalMatrix;\n\t\n\t\t\tmatrices.push(globalMatrix);\n\t\t\tif (param.updateMatrix) {\n\t\t\t\tglobalMatrix._updateVersion = updateVersion;\n\t\t\t\tthis._globalMatrix = globalMatrix;\n\t\t\t}\n\t\n\t\t\tvar blendMode = this._blendMode,\n\t\t\t\topacity = this._opacity,\n\t\t\t\tnormalBlend = blendMode === 'normal',\n\t\t\t\tnativeBlend = BlendMode.nativeModes[blendMode],\n\t\t\t\tdirect = normalBlend && opacity === 1\n\t\t\t\t\t\t|| param.dontStart\n\t\t\t\t\t\t|| param.clip\n\t\t\t\t\t\t|| (nativeBlend || normalBlend && opacity < 1)\n\t\t\t\t\t\t\t&& this._canComposite(),\n\t\t\t\tpixelRatio = param.pixelRatio || 1,\n\t\t\t\tmainCtx, itemOffset, prevOffset;\n\t\t\tif (!direct) {\n\t\t\t\tvar bounds = this.getStrokeBounds(viewMatrix);\n\t\t\t\tif (!bounds.width || !bounds.height)\n\t\t\t\t\treturn;\n\t\t\t\tprevOffset = param.offset;\n\t\t\t\titemOffset = param.offset = bounds.getTopLeft().floor();\n\t\t\t\tmainCtx = ctx;\n\t\t\t\tctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1)\n\t\t\t\t\t\t.multiply(pixelRatio));\n\t\t\t\tif (pixelRatio !== 1)\n\t\t\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t\t}\n\t\t\tctx.save();\n\t\t\tvar strokeMatrix = parentStrokeMatrix\n\t\t\t\t\t? parentStrokeMatrix.appended(matrix)\n\t\t\t\t\t: this._canScaleStroke && !this.getStrokeScaling(true)\n\t\t\t\t\t\t&& viewMatrix,\n\t\t\t\tclip = !direct && param.clipItem,\n\t\t\t\ttransform = !strokeMatrix || clip;\n\t\t\tif (direct) {\n\t\t\t\tctx.globalAlpha = opacity;\n\t\t\t\tif (nativeBlend)\n\t\t\t\t\tctx.globalCompositeOperation = blendMode;\n\t\t\t} else if (transform) {\n\t\t\t\tctx.translate(-itemOffset.x, -itemOffset.y);\n\t\t\t}\n\t\t\tif (transform) {\n\t\t\t\t(direct ? matrix : viewMatrix).applyToContext(ctx);\n\t\t\t}\n\t\t\tif (clip) {\n\t\t\t\tparam.clipItem.draw(ctx, param.extend({ clip: true }));\n\t\t\t}\n\t\t\tif (strokeMatrix) {\n\t\t\t\tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\t\t\t\tvar offset = param.offset;\n\t\t\t\tif (offset)\n\t\t\t\t\tctx.translate(-offset.x, -offset.y);\n\t\t\t}\n\t\t\tthis._draw(ctx, param, viewMatrix, strokeMatrix);\n\t\t\tctx.restore();\n\t\t\tmatrices.pop();\n\t\t\tif (param.clip && !param.dontFinish)\n\t\t\t\tctx.clip();\n\t\t\tif (!direct) {\n\t\t\t\tBlendMode.process(blendMode, ctx, mainCtx, opacity,\n\t\t\t\t\t\titemOffset.subtract(prevOffset).multiply(pixelRatio));\n\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t\tparam.offset = prevOffset;\n\t\t\t}\n\t\t},\n\t\n\t\t_isUpdated: function(updateVersion) {\n\t\t\tvar parent = this._parent;\n\t\t\tif (parent instanceof CompoundPath)\n\t\t\t\treturn parent._isUpdated(updateVersion);\n\t\t\tvar updated = this._updateVersion === updateVersion;\n\t\t\tif (!updated && parent && parent._visible\n\t\t\t\t\t&& parent._isUpdated(updateVersion)) {\n\t\t\t\tthis._updateVersion = updateVersion;\n\t\t\t\tupdated = true;\n\t\t\t}\n\t\t\treturn updated;\n\t\t},\n\t\n\t\t_drawSelection: function(ctx, matrix, size, selectionItems, updateVersion) {\n\t\t\tvar selection = this._selection,\n\t\t\t\titemSelected = selection & 1,\n\t\t\t\tboundsSelected = selection & 2\n\t\t\t\t\t\t|| itemSelected && this._selectBounds,\n\t\t\t\tpositionSelected = selection & 4;\n\t\t\tif (!this._drawSelected)\n\t\t\t\titemSelected = false;\n\t\t\tif ((itemSelected || boundsSelected || positionSelected)\n\t\t\t\t\t&& this._isUpdated(updateVersion)) {\n\t\t\t\tvar layer,\n\t\t\t\t\tcolor = this.getSelectedColor(true) || (layer = this.getLayer())\n\t\t\t\t\t\t&& layer.getSelectedColor(true),\n\t\t\t\t\tmx = matrix.appended(this.getGlobalMatrix(true)),\n\t\t\t\t\thalf = size / 2;\n\t\t\t\tctx.strokeStyle = ctx.fillStyle = color\n\t\t\t\t\t\t? color.toCanvasStyle(ctx) : '#009dec';\n\t\t\t\tif (itemSelected)\n\t\t\t\t\tthis._drawSelected(ctx, mx, selectionItems);\n\t\t\t\tif (positionSelected) {\n\t\t\t\t\tvar point = this.getPosition(true),\n\t\t\t\t\t\tx = point.x,\n\t\t\t\t\t\ty = point.y;\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(x, y, half, 0, Math.PI * 2, true);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t\tvar deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n\t\t\t\t\t\tstart = half,\n\t\t\t\t\t\tend = size + 1;\n\t\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\t\tvar delta = deltas[i],\n\t\t\t\t\t\t\tdx = delta[0],\n\t\t\t\t\t\t\tdy = delta[1];\n\t\t\t\t\t\tctx.moveTo(x + dx * start, y + dy * start);\n\t\t\t\t\t\tctx.lineTo(x + dx * end, y + dy * end);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (boundsSelected) {\n\t\t\t\t\tvar coords = mx._transformCorners(this.getInternalBounds());\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\t\tctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n\t\t\t\t\t}\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.stroke();\n\t\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\t\tctx.fillRect(coords[i] - half, coords[++i] - half,\n\t\t\t\t\t\t\t\tsize, size);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t_canComposite: function() {\n\t\t\treturn false;\n\t\t}\n\t}, Base.each(['down', 'drag', 'up', 'move'], function(key) {\n\t\tthis['removeOn' + Base.capitalize(key)] = function() {\n\t\t\tvar hash = {};\n\t\t\thash[key] = true;\n\t\t\treturn this.removeOn(hash);\n\t\t};\n\t}, {\n\t\n\t\tremoveOn: function(obj) {\n\t\t\tfor (var name in obj) {\n\t\t\t\tif (obj[name]) {\n\t\t\t\t\tvar key = 'mouse' + name,\n\t\t\t\t\t\tproject = this._project,\n\t\t\t\t\t\tsets = project._removeSets = project._removeSets || {};\n\t\t\t\t\tsets[key] = sets[key] || {};\n\t\t\t\t\tsets[key][this._id] = this;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t}));\n\t\n\tvar Group = Item.extend({\n\t\t_class: 'Group',\n\t\t_selectBounds: false,\n\t\t_selectChildren: true,\n\t\t_serializeFields: {\n\t\t\tchildren: []\n\t\t},\n\t\n\t\tinitialize: function Group(arg) {\n\t\t\tthis._children = [];\n\t\t\tthis._namedChildren = {};\n\t\t\tif (!this._initialize(arg))\n\t\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t\t},\n\t\n\t\t_changed: function _changed(flags) {\n\t\t\t_changed.base.call(this, flags);\n\t\t\tif (flags & 1026) {\n\t\t\t\tthis._clipItem = undefined;\n\t\t\t}\n\t\t},\n\t\n\t\t_getClipItem: function() {\n\t\t\tvar clipItem = this._clipItem;\n\t\t\tif (clipItem === undefined) {\n\t\t\t\tclipItem = null;\n\t\t\t\tvar children = this._children;\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tif (children[i]._clipMask) {\n\t\t\t\t\t\tclipItem = children[i];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._clipItem = clipItem;\n\t\t\t}\n\t\t\treturn clipItem;\n\t\t},\n\t\n\t\tisClipped: function() {\n\t\t\treturn !!this._getClipItem();\n\t\t},\n\t\n\t\tsetClipped: function(clipped) {\n\t\t\tvar child = this.getFirstChild();\n\t\t\tif (child)\n\t\t\t\tchild.setClipMask(clipped);\n\t\t},\n\t\n\t\t_getBounds: function _getBounds(matrix, options) {\n\t\t\tvar clipItem = this._getClipItem();\n\t\t\treturn clipItem\n\t\t\t\t? clipItem._getCachedBounds(\n\t\t\t\t\tmatrix && matrix.appended(clipItem._matrix),\n\t\t\t\t\tBase.set({}, options, { stroke: false }))\n\t\t\t\t: _getBounds.base.call(this, matrix, options);\n\t\t},\n\t\n\t\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\t\tvar clipItem = this._getClipItem();\n\t\t\treturn (!clipItem || clipItem.contains(point))\n\t\t\t\t\t&& _hitTestChildren.base.call(this, point, options, viewMatrix,\n\t\t\t\t\t\tclipItem);\n\t\t},\n\t\n\t\t_draw: function(ctx, param) {\n\t\t\tvar clip = param.clip,\n\t\t\t\tclipItem = !clip && this._getClipItem();\n\t\t\tparam = param.extend({ clipItem: clipItem, clip: false });\n\t\t\tif (clip) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tparam.dontStart = param.dontFinish = true;\n\t\t\t} else if (clipItem) {\n\t\t\t\tclipItem.draw(ctx, param.extend({ clip: true }));\n\t\t\t}\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tvar item = children[i];\n\t\t\t\tif (item !== clipItem)\n\t\t\t\t\titem.draw(ctx, param);\n\t\t\t}\n\t\t}\n\t});\n\t\n\tvar Layer = Group.extend({\n\t\t_class: 'Layer',\n\t\n\t\tinitialize: function Layer() {\n\t\t\tGroup.apply(this, arguments);\n\t\t},\n\t\n\t\t_getOwner: function() {\n\t\t\treturn this._parent || this._index != null && this._project;\n\t\t},\n\t\n\t\tisInserted: function isInserted() {\n\t\t\treturn this._parent ? isInserted.base.call(this) : this._index != null;\n\t\t},\n\t\n\t\tactivate: function() {\n\t\t\tthis._project._activeLayer = this;\n\t\t},\n\t\n\t\t_hitTestSelf: function() {\n\t\t}\n\t});\n\t\n\tvar Shape = Item.extend({\n\t\t_class: 'Shape',\n\t\t_applyMatrix: false,\n\t\t_canApplyMatrix: false,\n\t\t_canScaleStroke: true,\n\t\t_serializeFields: {\n\t\t\ttype: null,\n\t\t\tsize: null,\n\t\t\tradius: null\n\t\t},\n\t\n\t\tinitialize: function Shape(props, point) {\n\t\t\tthis._initialize(props, point);\n\t\t},\n\t\n\t\t_equals: function(item) {\n\t\t\treturn this._type === item._type\n\t\t\t\t&& this._size.equals(item._size)\n\t\t\t\t&& Base.equals(this._radius, item._radius);\n\t\t},\n\t\n\t\tcopyContent: function(source) {\n\t\t\tthis.setType(source._type);\n\t\t\tthis.setSize(source._size);\n\t\t\tthis.setRadius(source._radius);\n\t\t},\n\t\n\t\tgetType: function() {\n\t\t\treturn this._type;\n\t\t},\n\t\n\t\tsetType: function(type) {\n\t\t\tthis._type = type;\n\t\t},\n\t\n\t\tgetShape: '#getType',\n\t\tsetShape: '#setType',\n\t\n\t\tgetSize: function() {\n\t\t\tvar size = this._size;\n\t\t\treturn new LinkedSize(size.width, size.height, this, 'setSize');\n\t\t},\n\t\n\t\tsetSize: function() {\n\t\t\tvar size = Size.read(arguments);\n\t\t\tif (!this._size) {\n\t\t\t\tthis._size = size.clone();\n\t\t\t} else if (!this._size.equals(size)) {\n\t\t\t\tvar type = this._type,\n\t\t\t\t\twidth = size.width,\n\t\t\t\t\theight = size.height;\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tthis._radius.set(Size.min(this._radius, size.divide(2)));\n\t\t\t\t} else if (type === 'circle') {\n\t\t\t\t\twidth = height = (width + height) / 2;\n\t\t\t\t\tthis._radius = width / 2;\n\t\t\t\t} else if (type === 'ellipse') {\n\t\t\t\t\tthis._radius._set(width / 2, height / 2);\n\t\t\t\t}\n\t\t\t\tthis._size._set(width, height);\n\t\t\t\tthis._changed(9);\n\t\t\t}\n\t\t},\n\t\n\t\tgetRadius: function() {\n\t\t\tvar rad = this._radius;\n\t\t\treturn this._type === 'circle'\n\t\t\t\t\t? rad\n\t\t\t\t\t: new LinkedSize(rad.width, rad.height, this, 'setRadius');\n\t\t},\n\t\n\t\tsetRadius: function(radius) {\n\t\t\tvar type = this._type;\n\t\t\tif (type === 'circle') {\n\t\t\t\tif (radius === this._radius)\n\t\t\t\t\treturn;\n\t\t\t\tvar size = radius * 2;\n\t\t\t\tthis._radius = radius;\n\t\t\t\tthis._size._set(size, size);\n\t\t\t} else {\n\t\t\t\tradius = Size.read(arguments);\n\t\t\t\tif (!this._radius) {\n\t\t\t\t\tthis._radius = radius.clone();\n\t\t\t\t} else {\n\t\t\t\t\tif (this._radius.equals(radius))\n\t\t\t\t\t\treturn;\n\t\t\t\t\tthis._radius.set(radius);\n\t\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\t\tvar size = Size.max(this._size, radius.multiply(2));\n\t\t\t\t\t\tthis._size.set(size);\n\t\t\t\t\t} else if (type === 'ellipse') {\n\t\t\t\t\t\tthis._size._set(radius.width * 2, radius.height * 2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._changed(9);\n\t\t},\n\t\n\t\tisEmpty: function() {\n\t\t\treturn false;\n\t\t},\n\t\n\t\ttoPath: function(insert) {\n\t\t\tvar path = new Path[Base.capitalize(this._type)]({\n\t\t\t\tcenter: new Point(),\n\t\t\t\tsize: this._size,\n\t\t\t\tradius: this._radius,\n\t\t\t\tinsert: false\n\t\t\t});\n\t\t\tpath.copyAttributes(this);\n\t\t\tif (paper.settings.applyMatrix)\n\t\t\t\tpath.setApplyMatrix(true);\n\t\t\tif (insert === undefined || insert)\n\t\t\t\tpath.insertAbove(this);\n\t\t\treturn path;\n\t\t},\n\t\n\t\ttoShape: '#clone',\n\t\n\t\t_asPathItem: function() {\n\t\t\treturn this.toPath(false);\n\t\t},\n\t\n\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\tvar style = this._style,\n\t\t\t\thasFill = style.hasFill(),\n\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\t\tuntransformed = !strokeMatrix;\n\t\t\tif (hasFill || hasStroke || dontPaint) {\n\t\t\t\tvar type = this._type,\n\t\t\t\t\tradius = this._radius,\n\t\t\t\t\tisCircle = type === 'circle';\n\t\t\t\tif (!param.dontStart)\n\t\t\t\t\tctx.beginPath();\n\t\t\t\tif (untransformed && isCircle) {\n\t\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n\t\t\t\t} else {\n\t\t\t\t\tvar rx = isCircle ? radius : radius.width,\n\t\t\t\t\t\try = isCircle ? radius : radius.height,\n\t\t\t\t\t\tsize = this._size,\n\t\t\t\t\t\twidth = size.width,\n\t\t\t\t\t\theight = size.height;\n\t\t\t\t\tif (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n\t\t\t\t\t\tctx.rect(-width / 2, -height / 2, width, height);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar x = width / 2,\n\t\t\t\t\t\t\ty = height / 2,\n\t\t\t\t\t\t\tkappa = 1 - 0.5522847498307936,\n\t\t\t\t\t\t\tcx = rx * kappa,\n\t\t\t\t\t\t\tcy = ry * kappa,\n\t\t\t\t\t\t\tc = [\n\t\t\t\t\t\t\t\t-x, -y + ry,\n\t\t\t\t\t\t\t\t-x, -y + cy,\n\t\t\t\t\t\t\t\t-x + cx, -y,\n\t\t\t\t\t\t\t\t-x + rx, -y,\n\t\t\t\t\t\t\t\tx - rx, -y,\n\t\t\t\t\t\t\t\tx - cx, -y,\n\t\t\t\t\t\t\t\tx, -y + cy,\n\t\t\t\t\t\t\t\tx, -y + ry,\n\t\t\t\t\t\t\t\tx, y - ry,\n\t\t\t\t\t\t\t\tx, y - cy,\n\t\t\t\t\t\t\t\tx - cx, y,\n\t\t\t\t\t\t\t\tx - rx, y,\n\t\t\t\t\t\t\t\t-x + rx, y,\n\t\t\t\t\t\t\t\t-x + cx, y,\n\t\t\t\t\t\t\t\t-x, y - cy,\n\t\t\t\t\t\t\t\t-x, y - ry\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\tif (strokeMatrix)\n\t\t\t\t\t\t\tstrokeMatrix.transform(c, c, 32);\n\t\t\t\t\t\tctx.moveTo(c[0], c[1]);\n\t\t\t\t\t\tctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n\t\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\t\tctx.lineTo(c[8], c[9]);\n\t\t\t\t\t\tctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n\t\t\t\t\t\tif (y !== ry)\n\t\t\t\t\t\t\tctx.lineTo(c[16], c[17]);\n\t\t\t\t\t\tctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n\t\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\t\tctx.lineTo(c[24], c[25]);\n\t\t\t\t\t\tctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tctx.closePath();\n\t\t\t}\n\t\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\tif (hasFill) {\n\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (hasStroke)\n\t\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t},\n\t\n\t\t_canComposite: function() {\n\t\t\treturn !(this.hasFill() && this.hasStroke());\n\t\t},\n\t\n\t\t_getBounds: function(matrix, options) {\n\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\t\tstyle = this._style,\n\t\t\t\tstrokeWidth = options.stroke && style.hasStroke()\n\t\t\t\t\t\t&& style.getStrokeWidth();\n\t\t\tif (matrix)\n\t\t\t\trect = matrix._transformBounds(rect);\n\t\t\treturn strokeWidth\n\t\t\t\t\t? rect.expand(Path._getStrokePadding(strokeWidth,\n\t\t\t\t\t\tthis._getStrokeMatrix(matrix, options)))\n\t\t\t\t\t: rect;\n\t\t}\n\t},\n\tnew function() {\n\t\tfunction getCornerCenter(that, point, expand) {\n\t\t\tvar radius = that._radius;\n\t\t\tif (!radius.isZero()) {\n\t\t\t\tvar halfSize = that._size.divide(2);\n\t\t\t\tfor (var q = 1; q <= 4; q++) {\n\t\t\t\t\tvar dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n\t\t\t\t\t\tcorner = dir.multiply(halfSize),\n\t\t\t\t\t\tcenter = corner.subtract(dir.multiply(radius)),\n\t\t\t\t\t\trect = new Rectangle(\n\t\t\t\t\t\t\t\texpand ? corner.add(dir.multiply(expand)) : corner,\n\t\t\t\t\t\t\t\tcenter);\n\t\t\t\t\tif (rect.contains(point))\n\t\t\t\t\t\treturn { point: center, quadrant: q };\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction isOnEllipseStroke(point, radius, padding, quadrant) {\n\t\t\tvar vector = point.divide(radius);\n\t\t\treturn (!quadrant || vector.isInQuadrant(quadrant)) &&\n\t\t\t\t\tvector.subtract(vector.normalize()).multiply(radius)\n\t\t\t\t\t\t.divide(padding).length <= 1;\n\t\t}\n\t\n\t\treturn {\n\t\t\t_contains: function _contains(point) {\n\t\t\t\tif (this._type === 'rectangle') {\n\t\t\t\t\tvar center = getCornerCenter(this, point);\n\t\t\t\t\treturn center\n\t\t\t\t\t\t\t? point.subtract(center.point).divide(this._radius)\n\t\t\t\t\t\t\t\t.getLength() <= 1\n\t\t\t\t\t\t\t: _contains.base.call(this, point);\n\t\t\t\t} else {\n\t\t\t\t\treturn point.divide(this.size).getLength() <= 0.5;\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t_hitTestSelf: function _hitTestSelf(point, options, viewMatrix,\n\t\t\t\t\tstrokeMatrix) {\n\t\t\t\tvar hit = false,\n\t\t\t\t\tstyle = this._style,\n\t\t\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\t\t\thitFill = options.fill && style.hasFill();\n\t\t\t\tif (hitStroke || hitFill) {\n\t\t\t\t\tvar type = this._type,\n\t\t\t\t\t\tradius = this._radius,\n\t\t\t\t\t\tstrokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n\t\t\t\t\t\tstrokePadding = options._tolerancePadding.add(\n\t\t\t\t\t\t\tPath._getStrokePadding(strokeRadius,\n\t\t\t\t\t\t\t\t!style.getStrokeScaling() && strokeMatrix));\n\t\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\t\tvar padding = strokePadding.multiply(2),\n\t\t\t\t\t\t\tcenter = getCornerCenter(this, point, padding);\n\t\t\t\t\t\tif (center) {\n\t\t\t\t\t\t\thit = isOnEllipseStroke(point.subtract(center.point),\n\t\t\t\t\t\t\t\t\tradius, strokePadding, center.quadrant);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\t\t\t\t\t\touter = rect.expand(padding),\n\t\t\t\t\t\t\t\tinner = rect.expand(padding.negate());\n\t\t\t\t\t\t\thit = outer._containsPoint(point)\n\t\t\t\t\t\t\t\t\t&& !inner._containsPoint(point);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\thit = isOnEllipseStroke(point, radius, strokePadding);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this)\n\t\t\t\t\t\t: _hitTestSelf.base.apply(this, arguments);\n\t\t\t}\n\t\t};\n\t}, {\n\t\n\tstatics: new function() {\n\t\tfunction createShape(type, point, size, radius, args) {\n\t\t\tvar item = new Shape(Base.getNamed(args), point);\n\t\t\titem._type = type;\n\t\t\titem._size = size;\n\t\t\titem._radius = radius;\n\t\t\treturn item;\n\t\t}\n\t\n\t\treturn {\n\t\t\tCircle: function() {\n\t\t\t\tvar center = Point.readNamed(arguments, 'center'),\n\t\t\t\t\tradius = Base.readNamed(arguments, 'radius');\n\t\t\t\treturn createShape('circle', center, new Size(radius * 2), radius,\n\t\t\t\t\t\targuments);\n\t\t\t},\n\t\n\t\t\tRectangle: function() {\n\t\t\t\tvar rect = Rectangle.readNamed(arguments, 'rectangle'),\n\t\t\t\t\tradius = Size.min(Size.readNamed(arguments, 'radius'),\n\t\t\t\t\t\t\trect.getSize(true).divide(2));\n\t\t\t\treturn createShape('rectangle', rect.getCenter(true),\n\t\t\t\t\t\trect.getSize(true), radius, arguments);\n\t\t\t},\n\t\n\t\t\tEllipse: function() {\n\t\t\t\tvar ellipse = Shape._readEllipse(arguments),\n\t\t\t\t\tradius = ellipse.radius;\n\t\t\t\treturn createShape('ellipse', ellipse.center, radius.multiply(2),\n\t\t\t\t\t\tradius, arguments);\n\t\t\t},\n\t\n\t\t\t_readEllipse: function(args) {\n\t\t\t\tvar center,\n\t\t\t\t\tradius;\n\t\t\t\tif (Base.hasNamed(args, 'radius')) {\n\t\t\t\t\tcenter = Point.readNamed(args, 'center');\n\t\t\t\t\tradius = Size.readNamed(args, 'radius');\n\t\t\t\t} else {\n\t\t\t\t\tvar rect = Rectangle.readNamed(args, 'rectangle');\n\t\t\t\t\tcenter = rect.getCenter(true);\n\t\t\t\t\tradius = rect.getSize(true).divide(2);\n\t\t\t\t}\n\t\t\t\treturn { center: center, radius: radius };\n\t\t\t}\n\t\t};\n\t}});\n\t\n\tvar Raster = Item.extend({\n\t\t_class: 'Raster',\n\t\t_applyMatrix: false,\n\t\t_canApplyMatrix: false,\n\t\t_boundsOptions: { stroke: false, handle: false },\n\t\t_serializeFields: {\n\t\t\tcrossOrigin: null,\n\t\t\tsource: null\n\t\t},\n\t\t_prioritize: ['crossOrigin'],\n\t\n\t\tinitialize: function Raster(object, position) {\n\t\t\tif (!this._initialize(object,\n\t\t\t\t\tposition !== undefined && Point.read(arguments, 1))) {\n\t\t\t\tvar image = typeof object === 'string'\n\t\t\t\t\t\t? document.getElementById(object) : object;\n\t\t\t\tif (image) {\n\t\t\t\t\tthis.setImage(image);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setSource(object);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!this._size) {\n\t\t\t\tthis._size = new Size();\n\t\t\t\tthis._loaded = false;\n\t\t\t}\n\t\t},\n\t\n\t\t_equals: function(item) {\n\t\t\treturn this.getSource() === item.getSource();\n\t\t},\n\t\n\t\tcopyContent: function(source) {\n\t\t\tvar image = source._image,\n\t\t\t\tcanvas = source._canvas;\n\t\t\tif (image) {\n\t\t\t\tthis._setImage(image);\n\t\t\t} else if (canvas) {\n\t\t\t\tvar copyCanvas = CanvasProvider.getCanvas(source._size);\n\t\t\t\tcopyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\t\t\t\tthis._setImage(copyCanvas);\n\t\t\t}\n\t\t\tthis._crossOrigin = source._crossOrigin;\n\t\t},\n\t\n\t\tgetSize: function() {\n\t\t\tvar size = this._size;\n\t\t\treturn new LinkedSize(size ? size.width : 0, size ? size.height : 0,\n\t\t\t\t\tthis, 'setSize');\n\t\t},\n\t\n\t\tsetSize: function() {\n\t\t\tvar size = Size.read(arguments);\n\t\t\tif (!size.equals(this._size)) {\n\t\t\t\tif (size.width > 0 && size.height > 0) {\n\t\t\t\t\tvar element = this.getElement();\n\t\t\t\t\tthis._setImage(CanvasProvider.getCanvas(size));\n\t\t\t\t\tif (element)\n\t\t\t\t\t\tthis.getContext(true).drawImage(element, 0, 0,\n\t\t\t\t\t\t\t\tsize.width, size.height);\n\t\t\t\t} else {\n\t\t\t\t\tif (this._canvas)\n\t\t\t\t\t\tCanvasProvider.release(this._canvas);\n\t\t\t\t\tthis._size = size.clone();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tgetWidth: function() {\n\t\t\treturn this._size ? this._size.width : 0;\n\t\t},\n\t\n\t\tsetWidth: function(width) {\n\t\t\tthis.setSize(width, this.getHeight());\n\t\t},\n\t\n\t\tgetHeight: function() {\n\t\t\treturn this._size ? this._size.height : 0;\n\t\t},\n\t\n\t\tsetHeight: function(height) {\n\t\t\tthis.setSize(this.getWidth(), height);\n\t\t},\n\t\n\t\tgetLoaded: function() {\n\t\t\treturn this._loaded;\n\t\t},\n\t\n\t\tisEmpty: function() {\n\t\t\tvar size = this._size;\n\t\t\treturn !size || size.width === 0 && size.height === 0;\n\t\t},\n\t\n\t\tgetResolution: function() {\n\t\t\tvar matrix = this._matrix,\n\t\t\t\torig = new Point(0, 0).transform(matrix),\n\t\t\t\tu = new Point(1, 0).transform(matrix).subtract(orig),\n\t\t\t\tv = new Point(0, 1).transform(matrix).subtract(orig);\n\t\t\treturn new Size(\n\t\t\t\t72 / u.getLength(),\n\t\t\t\t72 / v.getLength()\n\t\t\t);\n\t\t},\n\t\n\t\tgetPpi: '#getResolution',\n\t\n\t\tgetImage: function() {\n\t\t\treturn this._image;\n\t\t},\n\t\n\t\tsetImage: function(image) {\n\t\t\tvar that = this;\n\t\n\t\t\tfunction emit(event) {\n\t\t\t\tvar view = that.getView(),\n\t\t\t\t\ttype = event && event.type || 'load';\n\t\t\t\tif (view && that.responds(type)) {\n\t\t\t\t\tpaper = view._scope;\n\t\t\t\t\tthat.emit(type, new Event(event));\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tthis._setImage(image);\n\t\t\tif (this._loaded) {\n\t\t\t\tsetTimeout(emit, 0);\n\t\t\t} else if (image) {\n\t\t\t\tDomEvent.add(image, {\n\t\t\t\t\tload: function(event) {\n\t\t\t\t\t\tthat._setImage(image);\n\t\t\t\t\t\temit(event);\n\t\t\t\t\t},\n\t\t\t\t\terror: emit\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\n\t\t_setImage: function(image) {\n\t\t\tif (this._canvas)\n\t\t\t\tCanvasProvider.release(this._canvas);\n\t\t\tif (image && image.getContext) {\n\t\t\t\tthis._image = null;\n\t\t\t\tthis._canvas = image;\n\t\t\t\tthis._loaded = true;\n\t\t\t} else {\n\t\t\t\tthis._image = image;\n\t\t\t\tthis._canvas = null;\n\t\t\t\tthis._loaded = !!(image && image.src && image.complete);\n\t\t\t}\n\t\t\tthis._size = new Size(\n\t\t\t\t\timage ? image.naturalWidth || image.width : 0,\n\t\t\t\t\timage ? image.naturalHeight || image.height : 0);\n\t\t\tthis._context = null;\n\t\t\tthis._changed(521);\n\t\t},\n\t\n\t\tgetCanvas: function() {\n\t\t\tif (!this._canvas) {\n\t\t\t\tvar ctx = CanvasProvider.getContext(this._size);\n\t\t\t\ttry {\n\t\t\t\t\tif (this._image)\n\t\t\t\t\t\tctx.drawImage(this._image, 0, 0);\n\t\t\t\t\tthis._canvas = ctx.canvas;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this._canvas;\n\t\t},\n\t\n\t\tsetCanvas: '#setImage',\n\t\n\t\tgetContext: function(modify) {\n\t\t\tif (!this._context)\n\t\t\t\tthis._context = this.getCanvas().getContext('2d');\n\t\t\tif (modify) {\n\t\t\t\tthis._image = null;\n\t\t\t\tthis._changed(513);\n\t\t\t}\n\t\t\treturn this._context;\n\t\t},\n\t\n\t\tsetContext: function(context) {\n\t\t\tthis._context = context;\n\t\t},\n\t\n\t\tgetSource: function() {\n\t\t\tvar image = this._image;\n\t\t\treturn image && image.src || this.toDataURL();\n\t\t},\n\t\n\t\tsetSource: function(src) {\n\t\t\tvar image = new self.Image(),\n\t\t\t\tcrossOrigin = this._crossOrigin;\n\t\t\tif (crossOrigin)\n\t\t\t\timage.crossOrigin = crossOrigin;\n\t\t\timage.src = src;\n\t\t\tthis.setImage(image);\n\t\t},\n\t\n\t\tgetCrossOrigin: function() {\n\t\t\tvar image = this._image;\n\t\t\treturn image && image.crossOrigin || this._crossOrigin || '';\n\t\t},\n\t\n\t\tsetCrossOrigin: function(crossOrigin) {\n\t\t\tthis._crossOrigin = crossOrigin;\n\t\t\tvar image = this._image;\n\t\t\tif (image)\n\t\t\t\timage.crossOrigin = crossOrigin;\n\t\t},\n\t\n\t\tgetElement: function() {\n\t\t\treturn this._canvas || this._loaded && this._image;\n\t\t}\n\t}, {\n\t\tbeans: false,\n\t\n\t\tgetSubCanvas: function() {\n\t\t\tvar rect = Rectangle.read(arguments),\n\t\t\t\tctx = CanvasProvider.getContext(rect.getSize());\n\t\t\tctx.drawImage(this.getCanvas(), rect.x, rect.y,\n\t\t\t\t\trect.width, rect.height, 0, 0, rect.width, rect.height);\n\t\t\treturn ctx.canvas;\n\t\t},\n\t\n\t\tgetSubRaster: function() {\n\t\t\tvar rect = Rectangle.read(arguments),\n\t\t\t\traster = new Raster(Item.NO_INSERT);\n\t\t\traster._setImage(this.getSubCanvas(rect));\n\t\t\traster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\t\t\traster._matrix.prepend(this._matrix);\n\t\t\traster.insertAbove(this);\n\t\t\treturn raster;\n\t\t},\n\t\n\t\ttoDataURL: function() {\n\t\t\tvar image = this._image,\n\t\t\t\tsrc = image && image.src;\n\t\t\tif (/^data:/.test(src))\n\t\t\t\treturn src;\n\t\t\tvar canvas = this.getCanvas();\n\t\t\treturn canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n\t\t},\n\t\n\t\tdrawImage: function(image ) {\n\t\t\tvar point = Point.read(arguments, 1);\n\t\t\tthis.getContext(true).drawImage(image, point.x, point.y);\n\t\t},\n\t\n\t\tgetAverageColor: function(object) {\n\t\t\tvar bounds, path;\n\t\t\tif (!object) {\n\t\t\t\tbounds = this.getBounds();\n\t\t\t} else if (object instanceof PathItem) {\n\t\t\t\tpath = object;\n\t\t\t\tbounds = object.getBounds();\n\t\t\t} else if (typeof object === 'object') {\n\t\t\t\tif ('width' in object) {\n\t\t\t\t\tbounds = new Rectangle(object);\n\t\t\t\t} else if ('x' in object) {\n\t\t\t\t\tbounds = new Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!bounds)\n\t\t\t\treturn null;\n\t\t\tvar sampleSize = 32,\n\t\t\t\twidth = Math.min(bounds.width, sampleSize),\n\t\t\t\theight = Math.min(bounds.height, sampleSize);\n\t\t\tvar ctx = Raster._sampleContext;\n\t\t\tif (!ctx) {\n\t\t\t\tctx = Raster._sampleContext = CanvasProvider.getContext(\n\t\t\t\t\t\tnew Size(sampleSize));\n\t\t\t} else {\n\t\t\t\tctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n\t\t\t}\n\t\t\tctx.save();\n\t\t\tvar matrix = new Matrix()\n\t\t\t\t\t.scale(width / bounds.width, height / bounds.height)\n\t\t\t\t\t.translate(-bounds.x, -bounds.y);\n\t\t\tmatrix.applyToContext(ctx);\n\t\t\tif (path)\n\t\t\t\tpath.draw(ctx, new Base({ clip: true, matrices: [matrix] }));\n\t\t\tthis._matrix.applyToContext(ctx);\n\t\t\tvar element = this.getElement(),\n\t\t\t\tsize = this._size;\n\t\t\tif (element)\n\t\t\t\tctx.drawImage(element, -size.width / 2, -size.height / 2);\n\t\t\tctx.restore();\n\t\t\tvar pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width),\n\t\t\t\t\tMath.ceil(height)).data,\n\t\t\t\tchannels = [0, 0, 0],\n\t\t\t\ttotal = 0;\n\t\t\tfor (var i = 0, l = pixels.length; i < l; i += 4) {\n\t\t\t\tvar alpha = pixels[i + 3];\n\t\t\t\ttotal += alpha;\n\t\t\t\talpha /= 255;\n\t\t\t\tchannels[0] += pixels[i] * alpha;\n\t\t\t\tchannels[1] += pixels[i + 1] * alpha;\n\t\t\t\tchannels[2] += pixels[i + 2] * alpha;\n\t\t\t}\n\t\t\tfor (var i = 0; i < 3; i++)\n\t\t\t\tchannels[i] /= total;\n\t\t\treturn total ? Color.read(channels) : null;\n\t\t},\n\t\n\t\tgetPixel: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tvar data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n\t\t\treturn new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255],\n\t\t\t\t\tdata[3] / 255);\n\t\t},\n\t\n\t\tsetPixel: function() {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tcolor = Color.read(arguments),\n\t\t\t\tcomponents = color._convert('rgb'),\n\t\t\t\talpha = color._alpha,\n\t\t\t\tctx = this.getContext(true),\n\t\t\t\timageData = ctx.createImageData(1, 1),\n\t\t\t\tdata = imageData.data;\n\t\t\tdata[0] = components[0] * 255;\n\t\t\tdata[1] = components[1] * 255;\n\t\t\tdata[2] = components[2] * 255;\n\t\t\tdata[3] = alpha != null ? alpha * 255 : 255;\n\t\t\tctx.putImageData(imageData, point.x, point.y);\n\t\t},\n\t\n\t\tcreateImageData: function() {\n\t\t\tvar size = Size.read(arguments);\n\t\t\treturn this.getContext().createImageData(size.width, size.height);\n\t\t},\n\t\n\t\tgetImageData: function() {\n\t\t\tvar rect = Rectangle.read(arguments);\n\t\t\tif (rect.isEmpty())\n\t\t\t\trect = new Rectangle(this._size);\n\t\t\treturn this.getContext().getImageData(rect.x, rect.y,\n\t\t\t\t\trect.width, rect.height);\n\t\t},\n\t\n\t\tsetImageData: function(data ) {\n\t\t\tvar point = Point.read(arguments, 1);\n\t\t\tthis.getContext(true).putImageData(data, point.x, point.y);\n\t\t},\n\t\n\t\t_getBounds: function(matrix, options) {\n\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0);\n\t\t\treturn matrix ? matrix._transformBounds(rect) : rect;\n\t\t},\n\t\n\t\t_hitTestSelf: function(point) {\n\t\t\tif (this._contains(point)) {\n\t\t\t\tvar that = this;\n\t\t\t\treturn new HitResult('pixel', that, {\n\t\t\t\t\toffset: point.add(that._size.divide(2)).round(),\n\t\t\t\t\tcolor: {\n\t\t\t\t\t\tget: function() {\n\t\t\t\t\t\t\treturn that.getPixel(this.offset);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\n\t\t_draw: function(ctx) {\n\t\t\tvar element = this.getElement();\n\t\t\tif (element) {\n\t\t\t\tctx.globalAlpha = this._opacity;\n\t\t\t\tctx.drawImage(element,\n\t\t\t\t\t\t-this._size.width / 2, -this._size.height / 2);\n\t\t\t}\n\t\t},\n\t\n\t\t_canComposite: function() {\n\t\t\treturn true;\n\t\t}\n\t});\n\t\n\tvar SymbolItem = Item.extend({\n\t\t_class: 'SymbolItem',\n\t\t_applyMatrix: false,\n\t\t_canApplyMatrix: false,\n\t\t_boundsOptions: { stroke: true },\n\t\t_serializeFields: {\n\t\t\tsymbol: null\n\t\t},\n\t\n\t\tinitialize: function SymbolItem(arg0, arg1) {\n\t\t\tif (!this._initialize(arg0,\n\t\t\t\t\targ1 !== undefined && Point.read(arguments, 1)))\n\t\t\t\tthis.setDefinition(arg0 instanceof SymbolDefinition ?\n\t\t\t\t\t\targ0 : new SymbolDefinition(arg0));\n\t\t},\n\t\n\t\t_equals: function(item) {\n\t\t\treturn this._definition === item._definition;\n\t\t},\n\t\n\t\tcopyContent: function(source) {\n\t\t\tthis.setDefinition(source._definition);\n\t\t},\n\t\n\t\tgetDefinition: function() {\n\t\t\treturn this._definition;\n\t\t},\n\t\n\t\tsetDefinition: function(definition) {\n\t\t\tthis._definition = definition;\n\t\t\tthis._changed(9);\n\t\t},\n\t\n\t\tgetSymbol: '#getDefinition',\n\t\tsetSymbol: '#setDefinition',\n\t\n\t\tisEmpty: function() {\n\t\t\treturn this._definition._item.isEmpty();\n\t\t},\n\t\n\t\t_getBounds: function(matrix, options) {\n\t\t\tvar item = this._definition._item;\n\t\t\treturn item._getCachedBounds(item._matrix.prepended(matrix), options);\n\t\t},\n\t\n\t\t_hitTestSelf: function(point, options, viewMatrix) {\n\t\t\tvar res = this._definition._item._hitTest(point, options, viewMatrix);\n\t\t\tif (res)\n\t\t\t\tres.item = this;\n\t\t\treturn res;\n\t\t},\n\t\n\t\t_draw: function(ctx, param) {\n\t\t\tthis._definition._item.draw(ctx, param);\n\t\t}\n\t\n\t});\n\t\n\tvar SymbolDefinition = Base.extend({\n\t\t_class: 'SymbolDefinition',\n\t\n\t\tinitialize: function SymbolDefinition(item, dontCenter) {\n\t\t\tthis._id = UID.get();\n\t\t\tthis.project = paper.project;\n\t\t\tif (item)\n\t\t\t\tthis.setItem(item, dontCenter);\n\t\t},\n\t\n\t\t_serialize: function(options, dictionary) {\n\t\t\treturn dictionary.add(this, function() {\n\t\t\t\treturn Base.serialize([this._class, this._item],\n\t\t\t\t\t\toptions, false, dictionary);\n\t\t\t});\n\t\t},\n\t\n\t\t_changed: function(flags) {\n\t\t\tif (flags & 8)\n\t\t\t\tItem._clearBoundsCache(this);\n\t\t\tif (flags & 1)\n\t\t\t\tthis.project._changed(flags);\n\t\t},\n\t\n\t\tgetItem: function() {\n\t\t\treturn this._item;\n\t\t},\n\t\n\t\tsetItem: function(item, _dontCenter) {\n\t\t\tif (item._symbol)\n\t\t\t\titem = item.clone();\n\t\t\tif (this._item)\n\t\t\t\tthis._item._symbol = null;\n\t\t\tthis._item = item;\n\t\t\titem.remove();\n\t\t\titem.setSelected(false);\n\t\t\tif (!_dontCenter)\n\t\t\t\titem.setPosition(new Point());\n\t\t\titem._symbol = this;\n\t\t\tthis._changed(9);\n\t\t},\n\t\n\t\tgetDefinition: '#getItem',\n\t\tsetDefinition: '#setItem',\n\t\n\t\tplace: function(position) {\n\t\t\treturn new SymbolItem(this, position);\n\t\t},\n\t\n\t\tclone: function() {\n\t\t\treturn new SymbolDefinition(this._item.clone(false));\n\t\t},\n\t\n\t\tequals: function(symbol) {\n\t\t\treturn symbol === this\n\t\t\t\t\t|| symbol && this._item.equals(symbol._item)\n\t\t\t\t\t|| false;\n\t\t}\n\t});\n\t\n\tvar HitResult = Base.extend({\n\t\t_class: 'HitResult',\n\t\n\t\tinitialize: function HitResult(type, item, values) {\n\t\t\tthis.type = type;\n\t\t\tthis.item = item;\n\t\t\tif (values)\n\t\t\t\tthis.inject(values);\n\t\t},\n\t\n\t\tstatics: {\n\t\t\tgetOptions: function(args) {\n\t\t\t\tvar options = args && Base.read(args);\n\t\t\t\treturn Base.set({\n\t\t\t\t\ttype: null,\n\t\t\t\t\ttolerance: paper.settings.hitTolerance,\n\t\t\t\t\tfill: !options,\n\t\t\t\t\tstroke: !options,\n\t\t\t\t\tsegments: !options,\n\t\t\t\t\thandles: false,\n\t\t\t\t\tends: false,\n\t\t\t\t\tposition: false,\n\t\t\t\t\tcenter: false,\n\t\t\t\t\tbounds: false,\n\t\t\t\t\tguides: false,\n\t\t\t\t\tselected: false\n\t\t\t\t}, options);\n\t\t\t}\n\t\t}\n\t});\n\t\n\tvar Segment = Base.extend({\n\t\t_class: 'Segment',\n\t\tbeans: true,\n\t\t_selection: 0,\n\t\n\t\tinitialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n\t\t\tvar count = arguments.length,\n\t\t\t\tpoint, handleIn, handleOut, selection;\n\t\t\tif (count > 0) {\n\t\t\t\tif (arg0 == null || typeof arg0 === 'object') {\n\t\t\t\t\tif (count === 1 && arg0 && 'point' in arg0) {\n\t\t\t\t\t\tpoint = arg0.point;\n\t\t\t\t\t\thandleIn = arg0.handleIn;\n\t\t\t\t\t\thandleOut = arg0.handleOut;\n\t\t\t\t\t\tselection = arg0.selection;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpoint = arg0;\n\t\t\t\t\t\thandleIn = arg1;\n\t\t\t\t\t\thandleOut = arg2;\n\t\t\t\t\t\tselection = arg3;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tpoint = [ arg0, arg1 ];\n\t\t\t\t\thandleIn = arg2 !== undefined ? [ arg2, arg3 ] : null;\n\t\t\t\t\thandleOut = arg4 !== undefined ? [ arg4, arg5 ] : null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tnew SegmentPoint(point, this, '_point');\n\t\t\tnew SegmentPoint(handleIn, this, '_handleIn');\n\t\t\tnew SegmentPoint(handleOut, this, '_handleOut');\n\t\t\tif (selection)\n\t\t\t\tthis.setSelection(selection);\n\t\t},\n\t\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar point = this._point,\n\t\t\t\tselection = this._selection,\n\t\t\t\tobj = selection || this.hasHandles()\n\t\t\t\t\t\t? [point, this._handleIn, this._handleOut]\n\t\t\t\t\t\t: point;\n\t\t\tif (selection)\n\t\t\t\tobj.push(selection);\n\t\t\treturn Base.serialize(obj, options, true, dictionary);\n\t\t},\n\t\n\t\t_changed: function(point) {\n\t\t\tvar path = this._path;\n\t\t\tif (!path)\n\t\t\t\treturn;\n\t\t\tvar curves = path._curves,\n\t\t\t\tindex = this._index,\n\t\t\t\tcurve;\n\t\t\tif (curves) {\n\t\t\t\tif ((!point || point === this._point || point === this._handleIn)\n\t\t\t\t\t\t&& (curve = index > 0 ? curves[index - 1] : path._closed\n\t\t\t\t\t\t\t? curves[curves.length - 1] : null))\n\t\t\t\t\tcurve._changed();\n\t\t\t\tif ((!point || point === this._point || point === this._handleOut)\n\t\t\t\t\t\t&& (curve = curves[index]))\n\t\t\t\t\tcurve._changed();\n\t\t\t}\n\t\t\tpath._changed(25);\n\t\t},\n\t\n\t\tgetPoint: function() {\n\t\t\treturn this._point;\n\t\t},\n\t\n\t\tsetPoint: function() {\n\t\t\tthis._point.set(Point.read(arguments));\n\t\t},\n\t\n\t\tgetHandleIn: function() {\n\t\t\treturn this._handleIn;\n\t\t},\n\t\n\t\tsetHandleIn: function() {\n\t\t\tthis._handleIn.set(Point.read(arguments));\n\t\t},\n\t\n\t\tgetHandleOut: function() {\n\t\t\treturn this._handleOut;\n\t\t},\n\t\n\t\tsetHandleOut: function() {\n\t\t\tthis._handleOut.set(Point.read(arguments));\n\t\t},\n\t\n\t\thasHandles: function() {\n\t\t\treturn !this._handleIn.isZero() || !this._handleOut.isZero();\n\t\t},\n\t\n\t\tisSmooth: function() {\n\t\t\tvar handleIn = this._handleIn,\n\t\t\t\thandleOut = this._handleOut;\n\t\t\treturn !handleIn.isZero() && !handleOut.isZero()\n\t\t\t\t\t&& handleIn.isCollinear(handleOut);\n\t\t},\n\t\n\t\tclearHandles: function() {\n\t\t\tthis._handleIn._set(0, 0);\n\t\t\tthis._handleOut._set(0, 0);\n\t\t},\n\t\n\t\tgetSelection: function() {\n\t\t\treturn this._selection;\n\t\t},\n\t\n\t\tsetSelection: function(selection) {\n\t\t\tvar oldSelection = this._selection,\n\t\t\t\tpath = this._path;\n\t\t\tthis._selection = selection = selection || 0;\n\t\t\tif (path && selection !== oldSelection) {\n\t\t\t\tpath._updateSelection(this, oldSelection, selection);\n\t\t\t\tpath._changed(129);\n\t\t\t}\n\t\t},\n\t\n\t\t_changeSelection: function(flag, selected) {\n\t\t\tvar selection = this._selection;\n\t\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t\t},\n\t\n\t\tisSelected: function() {\n\t\t\treturn !!(this._selection & 7);\n\t\t},\n\t\n\t\tsetSelected: function(selected) {\n\t\t\tthis._changeSelection(7, selected);\n\t\t},\n\t\n\t\tgetIndex: function() {\n\t\t\treturn this._index !== undefined ? this._index : null;\n\t\t},\n\t\n\t\tgetPath: function() {\n\t\t\treturn this._path || null;\n\t\t},\n\t\n\t\tgetCurve: function() {\n\t\t\tvar path = this._path,\n\t\t\t\tindex = this._index;\n\t\t\tif (path) {\n\t\t\t\tif (index > 0 && !path._closed\n\t\t\t\t\t\t&& index === path._segments.length - 1)\n\t\t\t\t\tindex--;\n\t\t\t\treturn path.getCurves()[index] || null;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\n\t\tgetLocation: function() {\n\t\t\tvar curve = this.getCurve();\n\t\t\treturn curve\n\t\t\t\t\t? new CurveLocation(curve, this === curve._segment1 ? 0 : 1)\n\t\t\t\t\t: null;\n\t\t},\n\t\n\t\tgetNext: function() {\n\t\t\tvar segments = this._path && this._path._segments;\n\t\t\treturn segments && (segments[this._index + 1]\n\t\t\t\t\t|| this._path._closed && segments[0]) || null;\n\t\t},\n\t\n\t\tsmooth: function(options, _first, _last) {\n\t\t\tvar opts = options || {},\n\t\t\t\ttype = opts.type,\n\t\t\t\tfactor = opts.factor,\n\t\t\t\tprev = this.getPrevious(),\n\t\t\t\tnext = this.getNext(),\n\t\t\t\tp0 = (prev || this)._point,\n\t\t\t\tp1 = this._point,\n\t\t\t\tp2 = (next || this)._point,\n\t\t\t\td1 = p0.getDistance(p1),\n\t\t\t\td2 = p1.getDistance(p2);\n\t\t\tif (!type || type === 'catmull-rom') {\n\t\t\t\tvar a = factor === undefined ? 0.5 : factor,\n\t\t\t\t\td1_a = Math.pow(d1, a),\n\t\t\t\t\td1_2a = d1_a * d1_a,\n\t\t\t\t\td2_a = Math.pow(d2, a),\n\t\t\t\t\td2_2a = d2_a * d2_a;\n\t\t\t\tif (!_first && prev) {\n\t\t\t\t\tvar A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n\t\t\t\t\t\tN = 3 * d2_a * (d2_a + d1_a);\n\t\t\t\t\tthis.setHandleIn(N !== 0\n\t\t\t\t\t\t? new Point(\n\t\t\t\t\t\t\t(d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x,\n\t\t\t\t\t\t\t(d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y)\n\t\t\t\t\t\t: new Point());\n\t\t\t\t}\n\t\t\t\tif (!_last && next) {\n\t\t\t\t\tvar A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n\t\t\t\t\t\tN = 3 * d1_a * (d1_a + d2_a);\n\t\t\t\t\tthis.setHandleOut(N !== 0\n\t\t\t\t\t\t? new Point(\n\t\t\t\t\t\t\t(d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x,\n\t\t\t\t\t\t\t(d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y)\n\t\t\t\t\t\t: new Point());\n\t\t\t\t}\n\t\t\t} else if (type === 'geometric') {\n\t\t\t\tif (prev && next) {\n\t\t\t\t\tvar vector = p0.subtract(p2),\n\t\t\t\t\t\tt = factor === undefined ? 0.4 : factor,\n\t\t\t\t\t\tk = t * d1 / (d1 + d2);\n\t\t\t\t\tif (!_first)\n\t\t\t\t\t\tthis.setHandleIn(vector.multiply(k));\n\t\t\t\t\tif (!_last)\n\t\t\t\t\t\tthis.setHandleOut(vector.multiply(k - t));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error('Smoothing method \\'' + type + '\\' not supported.');\n\t\t\t}\n\t\t},\n\t\n\t\tgetPrevious: function() {\n\t\t\tvar segments = this._path && this._path._segments;\n\t\t\treturn segments && (segments[this._index - 1]\n\t\t\t\t\t|| this._path._closed && segments[segments.length - 1]) || null;\n\t\t},\n\t\n\t\tisFirst: function() {\n\t\t\treturn !this._index;\n\t\t},\n\t\n\t\tisLast: function() {\n\t\t\tvar path = this._path;\n\t\t\treturn path && this._index === path._segments.length - 1 || false;\n\t\t},\n\t\n\t\treverse: function() {\n\t\t\tvar handleIn = this._handleIn,\n\t\t\t\thandleOut = this._handleOut,\n\t\t\t\ttmp = handleIn.clone();\n\t\t\thandleIn.set(handleOut);\n\t\t\thandleOut.set(tmp);\n\t\t},\n\t\n\t\treversed: function() {\n\t\t\treturn new Segment(this._point, this._handleOut, this._handleIn);\n\t\t},\n\t\n\t\tremove: function() {\n\t\t\treturn this._path ? !!this._path.removeSegment(this._index) : false;\n\t\t},\n\t\n\t\tclone: function() {\n\t\t\treturn new Segment(this._point, this._handleIn, this._handleOut);\n\t\t},\n\t\n\t\tequals: function(segment) {\n\t\t\treturn segment === this || segment && this._class === segment._class\n\t\t\t\t\t&& this._point.equals(segment._point)\n\t\t\t\t\t&& this._handleIn.equals(segment._handleIn)\n\t\t\t\t\t&& this._handleOut.equals(segment._handleOut)\n\t\t\t\t\t|| false;\n\t\t},\n\t\n\t\ttoString: function() {\n\t\t\tvar parts = [ 'point: ' + this._point ];\n\t\t\tif (!this._handleIn.isZero())\n\t\t\t\tparts.push('handleIn: ' + this._handleIn);\n\t\t\tif (!this._handleOut.isZero())\n\t\t\t\tparts.push('handleOut: ' + this._handleOut);\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\t\n\t\ttransform: function(matrix) {\n\t\t\tthis._transformCoordinates(matrix, new Array(6), true);\n\t\t\tthis._changed();\n\t\t},\n\t\n\t\tinterpolate: function(from, to, factor) {\n\t\t\tvar u = 1 - factor,\n\t\t\t\tv = factor,\n\t\t\t\tpoint1 = from._point,\n\t\t\t\tpoint2 = to._point,\n\t\t\t\thandleIn1 = from._handleIn,\n\t\t\t\thandleIn2 = to._handleIn,\n\t\t\t\thandleOut2 = to._handleOut,\n\t\t\t\thandleOut1 = from._handleOut;\n\t\t\tthis._point._set(\n\t\t\t\t\tu * point1._x + v * point2._x,\n\t\t\t\t\tu * point1._y + v * point2._y, true);\n\t\t\tthis._handleIn._set(\n\t\t\t\t\tu * handleIn1._x + v * handleIn2._x,\n\t\t\t\t\tu * handleIn1._y + v * handleIn2._y, true);\n\t\t\tthis._handleOut._set(\n\t\t\t\t\tu * handleOut1._x + v * handleOut2._x,\n\t\t\t\t\tu * handleOut1._y + v * handleOut2._y, true);\n\t\t\tthis._changed();\n\t\t},\n\t\n\t\t_transformCoordinates: function(matrix, coords, change) {\n\t\t\tvar point = this._point,\n\t\t\t\thandleIn = !change || !this._handleIn.isZero()\n\t\t\t\t\t\t? this._handleIn : null,\n\t\t\t\thandleOut = !change || !this._handleOut.isZero()\n\t\t\t\t\t\t? this._handleOut : null,\n\t\t\t\tx = point._x,\n\t\t\t\ty = point._y,\n\t\t\t\ti = 2;\n\t\t\tcoords[0] = x;\n\t\t\tcoords[1] = y;\n\t\t\tif (handleIn) {\n\t\t\t\tcoords[i++] = handleIn._x + x;\n\t\t\t\tcoords[i++] = handleIn._y + y;\n\t\t\t}\n\t\t\tif (handleOut) {\n\t\t\t\tcoords[i++] = handleOut._x + x;\n\t\t\t\tcoords[i++] = handleOut._y + y;\n\t\t\t}\n\t\t\tif (matrix) {\n\t\t\t\tmatrix._transformCoordinates(coords, coords, i / 2);\n\t\t\t\tx = coords[0];\n\t\t\t\ty = coords[1];\n\t\t\t\tif (change) {\n\t\t\t\t\tpoint._x = x;\n\t\t\t\t\tpoint._y = y;\n\t\t\t\t\ti = 2;\n\t\t\t\t\tif (handleIn) {\n\t\t\t\t\t\thandleIn._x = coords[i++] - x;\n\t\t\t\t\t\thandleIn._y = coords[i++] - y;\n\t\t\t\t\t}\n\t\t\t\t\tif (handleOut) {\n\t\t\t\t\t\thandleOut._x = coords[i++] - x;\n\t\t\t\t\t\thandleOut._y = coords[i++] - y;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!handleIn) {\n\t\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t\t}\n\t\t\t\t\tif (!handleOut) {\n\t\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn coords;\n\t\t}\n\t});\n\t\n\tvar SegmentPoint = Point.extend({\n\t\tinitialize: function SegmentPoint(point, owner, key) {\n\t\t\tvar x, y,\n\t\t\t\tselected;\n\t\t\tif (!point) {\n\t\t\t\tx = y = 0;\n\t\t\t} else if ((x = point[0]) !== undefined) {\n\t\t\t\ty = point[1];\n\t\t\t} else {\n\t\t\t\tvar pt = point;\n\t\t\t\tif ((x = pt.x) === undefined) {\n\t\t\t\t\tpt = Point.read(arguments);\n\t\t\t\t\tx = pt.x;\n\t\t\t\t}\n\t\t\t\ty = pt.y;\n\t\t\t\tselected = pt.selected;\n\t\t\t}\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._owner = owner;\n\t\t\towner[key] = this;\n\t\t\tif (selected)\n\t\t\t\tthis.setSelected(true);\n\t\t},\n\t\n\t\t_set: function(x, y) {\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._owner._changed(this);\n\t\t\treturn this;\n\t\t},\n\t\n\t\tgetX: function() {\n\t\t\treturn this._x;\n\t\t},\n\t\n\t\tsetX: function(x) {\n\t\t\tthis._x = x;\n\t\t\tthis._owner._changed(this);\n\t\t},\n\t\n\t\tgetY: function() {\n\t\t\treturn this._y;\n\t\t},\n\t\n\t\tsetY: function(y) {\n\t\t\tthis._y = y;\n\t\t\tthis._owner._changed(this);\n\t\t},\n\t\n\t\tisZero: function() {\n\t\t\tvar isZero = Numerical.isZero;\n\t\t\treturn isZero(this._x) && isZero(this._y);\n\t\t},\n\t\n\t\tisSelected: function() {\n\t\t\treturn !!(this._owner._selection & this._getSelection());\n\t\t},\n\t\n\t\tsetSelected: function(selected) {\n\t\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t\t},\n\t\n\t\t_getSelection: function() {\n\t\t\tvar owner = this._owner;\n\t\t\treturn this === owner._point ? 1\n\t\t\t\t: this === owner._handleIn ? 2\n\t\t\t\t: this === owner._handleOut ? 4\n\t\t\t\t: 0;\n\t\t}\n\t});\n\t\n\tvar Curve = Base.extend({\n\t\t_class: 'Curve',\n\t\tbeans: true,\n\t\n\t\tinitialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n\t\t\tvar count = arguments.length,\n\t\t\t\tseg1, seg2,\n\t\t\t\tpoint1, point2,\n\t\t\t\thandle1, handle2;\n\t\t\tif (count === 3) {\n\t\t\t\tthis._path = arg0;\n\t\t\t\tseg1 = arg1;\n\t\t\t\tseg2 = arg2;\n\t\t\t} else if (!count) {\n\t\t\t\tseg1 = new Segment();\n\t\t\t\tseg2 = new Segment();\n\t\t\t} else if (count === 1) {\n\t\t\t\tif ('segment1' in arg0) {\n\t\t\t\t\tseg1 = new Segment(arg0.segment1);\n\t\t\t\t\tseg2 = new Segment(arg0.segment2);\n\t\t\t\t} else if ('point1' in arg0) {\n\t\t\t\t\tpoint1 = arg0.point1;\n\t\t\t\t\thandle1 = arg0.handle1;\n\t\t\t\t\thandle2 = arg0.handle2;\n\t\t\t\t\tpoint2 = arg0.point2;\n\t\t\t\t} else if (Array.isArray(arg0)) {\n\t\t\t\t\tpoint1 = [arg0[0], arg0[1]];\n\t\t\t\t\tpoint2 = [arg0[6], arg0[7]];\n\t\t\t\t\thandle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n\t\t\t\t\thandle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n\t\t\t\t}\n\t\t\t} else if (count === 2) {\n\t\t\t\tseg1 = new Segment(arg0);\n\t\t\t\tseg2 = new Segment(arg1);\n\t\t\t} else if (count === 4) {\n\t\t\t\tpoint1 = arg0;\n\t\t\t\thandle1 = arg1;\n\t\t\t\thandle2 = arg2;\n\t\t\t\tpoint2 = arg3;\n\t\t\t} else if (count === 8) {\n\t\t\t\tpoint1 = [arg0, arg1];\n\t\t\t\tpoint2 = [arg6, arg7];\n\t\t\t\thandle1 = [arg2 - arg0, arg3 - arg1];\n\t\t\t\thandle2 = [arg4 - arg6, arg5 - arg7];\n\t\t\t}\n\t\t\tthis._segment1 = seg1 || new Segment(point1, null, handle1);\n\t\t\tthis._segment2 = seg2 || new Segment(point2, handle2, null);\n\t\t},\n\t\n\t\t_serialize: function(options, dictionary) {\n\t\t\treturn Base.serialize(this.hasHandles()\n\t\t\t\t\t? [this.getPoint1(), this.getHandle1(), this.getHandle2(),\n\t\t\t\t\t\tthis.getPoint2()]\n\t\t\t\t\t: [this.getPoint1(), this.getPoint2()],\n\t\t\t\t\toptions, true, dictionary);\n\t\t},\n\t\n\t\t_changed: function() {\n\t\t\tthis._length = this._bounds = undefined;\n\t\t},\n\t\n\t\tclone: function() {\n\t\t\treturn new Curve(this._segment1, this._segment2);\n\t\t},\n\t\n\t\ttoString: function() {\n\t\t\tvar parts = [ 'point1: ' + this._segment1._point ];\n\t\t\tif (!this._segment1._handleOut.isZero())\n\t\t\t\tparts.push('handle1: ' + this._segment1._handleOut);\n\t\t\tif (!this._segment2._handleIn.isZero())\n\t\t\t\tparts.push('handle2: ' + this._segment2._handleIn);\n\t\t\tparts.push('point2: ' + this._segment2._point);\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\t\n\t\tclassify: function() {\n\t\t\treturn Curve.classify(this.getValues());\n\t\t},\n\t\n\t\tremove: function() {\n\t\t\tvar removed = false;\n\t\t\tif (this._path) {\n\t\t\t\tvar segment2 = this._segment2,\n\t\t\t\t\thandleOut = segment2._handleOut;\n\t\t\t\tremoved = segment2.remove();\n\t\t\t\tif (removed)\n\t\t\t\t\tthis._segment1._handleOut.set(handleOut);\n\t\t\t}\n\t\t\treturn removed;\n\t\t},\n\t\n\t\tgetPoint1: function() {\n\t\t\treturn this._segment1._point;\n\t\t},\n\t\n\t\tsetPoint1: function() {\n\t\t\tthis._segment1._point.set(Point.read(arguments));\n\t\t},\n\t\n\t\tgetPoint2: function() {\n\t\t\treturn this._segment2._point;\n\t\t},\n\t\n\t\tsetPoint2: function() {\n\t\t\tthis._segment2._point.set(Point.read(arguments));\n\t\t},\n\t\n\t\tgetHandle1: function() {\n\t\t\treturn this._segment1._handleOut;\n\t\t},\n\t\n\t\tsetHandle1: function() {\n\t\t\tthis._segment1._handleOut.set(Point.read(arguments));\n\t\t},\n\t\n\t\tgetHandle2: function() {\n\t\t\treturn this._segment2._handleIn;\n\t\t},\n\t\n\t\tsetHandle2: function() {\n\t\t\tthis._segment2._handleIn.set(Point.read(arguments));\n\t\t},\n\t\n\t\tgetSegment1: function() {\n\t\t\treturn this._segment1;\n\t\t},\n\t\n\t\tgetSegment2: function() {\n\t\t\treturn this._segment2;\n\t\t},\n\t\n\t\tgetPath: function() {\n\t\t\treturn this._path;\n\t\t},\n\t\n\t\tgetIndex: function() {\n\t\t\treturn this._segment1._index;\n\t\t},\n\t\n\t\tgetNext: function() {\n\t\t\tvar curves = this._path && this._path._curves;\n\t\t\treturn curves && (curves[this._segment1._index + 1]\n\t\t\t\t\t|| this._path._closed && curves[0]) || null;\n\t\t},\n\t\n\t\tgetPrevious: function() {\n\t\t\tvar curves = this._path && this._path._curves;\n\t\t\treturn curves && (curves[this._segment1._index - 1]\n\t\t\t\t\t|| this._path._closed && curves[curves.length - 1]) || null;\n\t\t},\n\t\n\t\tisFirst: function() {\n\t\t\treturn !this._segment1._index;\n\t\t},\n\t\n\t\tisLast: function() {\n\t\t\tvar path = this._path;\n\t\t\treturn path && this._segment1._index === path._curves.length - 1\n\t\t\t\t\t|| false;\n\t\t},\n\t\n\t\tisSelected: function() {\n\t\t\treturn this.getPoint1().isSelected()\n\t\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t\t&& this.getPoint2().isSelected();\n\t\t},\n\t\n\t\tsetSelected: function(selected) {\n\t\t\tthis.getPoint1().setSelected(selected);\n\t\t\tthis.getHandle1().setSelected(selected);\n\t\t\tthis.getHandle2().setSelected(selected);\n\t\t\tthis.getPoint2().setSelected(selected);\n\t\t},\n\t\n\t\tgetValues: function(matrix) {\n\t\t\treturn Curve.getValues(this._segment1, this._segment2, matrix);\n\t\t},\n\t\n\t\tgetPoints: function() {\n\t\t\tvar coords = this.getValues(),\n\t\t\t\tpoints = [];\n\t\t\tfor (var i = 0; i < 8; i += 2)\n\t\t\t\tpoints.push(new Point(coords[i], coords[i + 1]));\n\t\t\treturn points;\n\t\t}\n\t}, {\n\t\tgetLength: function() {\n\t\t\tif (this._length == null)\n\t\t\t\tthis._length = Curve.getLength(this.getValues(), 0, 1);\n\t\t\treturn this._length;\n\t\t},\n\t\n\t\tgetArea: function() {\n\t\t\treturn Curve.getArea(this.getValues());\n\t\t},\n\t\n\t\tgetLine: function() {\n\t\t\treturn new Line(this._segment1._point, this._segment2._point);\n\t\t},\n\t\n\t\tgetPart: function(from, to) {\n\t\t\treturn new Curve(Curve.getPart(this.getValues(), from, to));\n\t\t},\n\t\n\t\tgetPartLength: function(from, to) {\n\t\t\treturn Curve.getLength(this.getValues(), from, to);\n\t\t},\n\t\n\t\tdivideAt: function(location) {\n\t\t\treturn this.divideAtTime(location && location.curve === this\n\t\t\t\t\t? location.time : this.getTimeAt(location));\n\t\t},\n\t\n\t\tdivideAtTime: function(time, _setHandles) {\n\t\t\tvar tMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\tres = null;\n\t\t\tif (time >= tMin && time <= tMax) {\n\t\t\t\tvar parts = Curve.subdivide(this.getValues(), time),\n\t\t\t\t\tleft = parts[0],\n\t\t\t\t\tright = parts[1],\n\t\t\t\t\tsetHandles = _setHandles || this.hasHandles(),\n\t\t\t\t\tseg1 = this._segment1,\n\t\t\t\t\tseg2 = this._segment2,\n\t\t\t\t\tpath = this._path;\n\t\t\t\tif (setHandles) {\n\t\t\t\t\tseg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\t\t\t\t\tseg2._handleIn._set(right[4] - right[6],right[5] - right[7]);\n\t\t\t\t}\n\t\t\t\tvar x = left[6], y = left[7],\n\t\t\t\t\tsegment = new Segment(new Point(x, y),\n\t\t\t\t\t\t\tsetHandles && new Point(left[4] - x, left[5] - y),\n\t\t\t\t\t\t\tsetHandles && new Point(right[2] - x, right[3] - y));\n\t\t\t\tif (path) {\n\t\t\t\t\tpath.insert(seg1._index + 1, segment);\n\t\t\t\t\tres = this.getNext();\n\t\t\t\t} else {\n\t\t\t\t\tthis._segment2 = segment;\n\t\t\t\t\tthis._changed();\n\t\t\t\t\tres = new Curve(segment, seg2);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\n\t\tsplitAt: function(location) {\n\t\t\tvar path = this._path;\n\t\t\treturn path ? path.splitAt(location) : null;\n\t\t},\n\t\n\t\tsplitAtTime: function(time) {\n\t\t\treturn this.splitAt(this.getLocationAtTime(time));\n\t\t},\n\t\n\t\tdivide: function(offset, isTime) {\n\t\t\treturn this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t\t: this.getTimeAt(offset));\n\t\t},\n\t\n\t\tsplit: function(offset, isTime) {\n\t\t\treturn this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t\t: this.getTimeAt(offset));\n\t\t},\n\t\n\t\treversed: function() {\n\t\t\treturn new Curve(this._segment2.reversed(), this._segment1.reversed());\n\t\t},\n\t\n\t\tclearHandles: function() {\n\t\t\tthis._segment1._handleOut._set(0, 0);\n\t\t\tthis._segment2._handleIn._set(0, 0);\n\t\t},\n\t\n\tstatics: {\n\t\tgetValues: function(segment1, segment2, matrix, straight) {\n\t\t\tvar p1 = segment1._point,\n\t\t\t\th1 = segment1._handleOut,\n\t\t\t\th2 = segment2._handleIn,\n\t\t\t\tp2 = segment2._point,\n\t\t\t\tx1 = p1.x, y1 = p1.y,\n\t\t\t\tx2 = p2.x, y2 = p2.y,\n\t\t\t\tvalues = straight\n\t\t\t\t\t? [ x1, y1, x1, y1, x2, y2, x2, y2 ]\n\t\t\t\t\t: [\n\t\t\t\t\t\tx1, y1,\n\t\t\t\t\t\tx1 + h1._x, y1 + h1._y,\n\t\t\t\t\t\tx2 + h2._x, y2 + h2._y,\n\t\t\t\t\t\tx2, y2\n\t\t\t\t\t];\n\t\t\tif (matrix)\n\t\t\t\tmatrix._transformCoordinates(values, values, 4);\n\t\t\treturn values;\n\t\t},\n\t\n\t\tsubdivide: function(v, t) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7];\n\t\t\tif (t === undefined)\n\t\t\t\tt = 0.5;\n\t\t\tvar u = 1 - t,\n\t\t\t\tx4 = u * x0 + t * x1, y4 = u * y0 + t * y1,\n\t\t\t\tx5 = u * x1 + t * x2, y5 = u * y1 + t * y2,\n\t\t\t\tx6 = u * x2 + t * x3, y6 = u * y2 + t * y3,\n\t\t\t\tx7 = u * x4 + t * x5, y7 = u * y4 + t * y5,\n\t\t\t\tx8 = u * x5 + t * x6, y8 = u * y5 + t * y6,\n\t\t\t\tx9 = u * x7 + t * x8, y9 = u * y7 + t * y8;\n\t\t\treturn [\n\t\t\t\t[x0, y0, x4, y4, x7, y7, x9, y9],\n\t\t\t\t[x9, y9, x8, y8, x6, y6, x3, y3]\n\t\t\t];\n\t\t},\n\t\n\t\tgetMonoCurves: function(v, dir) {\n\t\t\tvar curves = [],\n\t\t\t\tio = dir ? 0 : 1,\n\t\t\t\to0 = v[io + 0],\n\t\t\t\to1 = v[io + 2],\n\t\t\t\to2 = v[io + 4],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif ((o0 >= o1) === (o1 >= o2) && (o1 >= o2) === (o2 >= o3)\n\t\t\t\t\t|| Curve.isStraight(v)) {\n\t\t\t\tcurves.push(v);\n\t\t\t} else {\n\t\t\t\tvar a = 3 * (o1 - o2) - o0 + o3,\n\t\t\t\t\tb = 2 * (o0 + o2) - 4 * o1,\n\t\t\t\t\tc = o1 - o0,\n\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin,\n\t\t\t\t\troots = [],\n\t\t\t\t\tn = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\t\t\t\tif (!n) {\n\t\t\t\t\tcurves.push(v);\n\t\t\t\t} else {\n\t\t\t\t\troots.sort();\n\t\t\t\t\tvar t = roots[0],\n\t\t\t\t\t\tparts = Curve.subdivide(v, t);\n\t\t\t\t\tcurves.push(parts[0]);\n\t\t\t\t\tif (n > 1) {\n\t\t\t\t\t\tt = (roots[1] - t) / (1 - t);\n\t\t\t\t\t\tparts = Curve.subdivide(parts[1], t);\n\t\t\t\t\t\tcurves.push(parts[0]);\n\t\t\t\t\t}\n\t\t\t\t\tcurves.push(parts[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn curves;\n\t\t},\n\t\n\t\tsolveCubic: function (v, coord, val, roots, min, max) {\n\t\t\tvar v0 = v[coord],\n\t\t\t\tv1 = v[coord + 2],\n\t\t\t\tv2 = v[coord + 4],\n\t\t\t\tv3 = v[coord + 6],\n\t\t\t\tres = 0;\n\t\t\tif (  !(v0 < val && v3 < val && v1 < val && v2 < val ||\n\t\t\t\t\tv0 > val && v3 > val && v1 > val && v2 > val)) {\n\t\t\t\tvar c = 3 * (v1 - v0),\n\t\t\t\t\tb = 3 * (v2 - v1) - c,\n\t\t\t\t\ta = v3 - v0 - c - b;\n\t\t\t\tres = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\n\t\tgetTimeOf: function(v, point) {\n\t\t\tvar p0 = new Point(v[0], v[1]),\n\t\t\t\tp3 = new Point(v[6], v[7]),\n\t\t\t\tepsilon = 1e-12,\n\t\t\t\tgeomEpsilon = 1e-7,\n\t\t\t\tt = point.isClose(p0, epsilon) ? 0\n\t\t\t\t  : point.isClose(p3, epsilon) ? 1\n\t\t\t\t  : null;\n\t\t\tif (t === null) {\n\t\t\t\tvar coords = [point.x, point.y],\n\t\t\t\t\troots = [];\n\t\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\t\tvar count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\t\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\t\tvar u = roots[i];\n\t\t\t\t\t\tif (point.isClose(Curve.getPoint(v, u), geomEpsilon))\n\t\t\t\t\t\t\treturn u;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn point.isClose(p0, geomEpsilon) ? 0\n\t\t\t\t : point.isClose(p3, geomEpsilon) ? 1\n\t\t\t\t : null;\n\t\t},\n\t\n\t\tgetNearestTime: function(v, point) {\n\t\t\tif (Curve.isStraight(v)) {\n\t\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\t\tvx = x3 - x0, vy = y3 - y0,\n\t\t\t\t\tdet = vx * vx + vy * vy;\n\t\t\t\tif (det === 0)\n\t\t\t\t\treturn 0;\n\t\t\t\tvar u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n\t\t\t\treturn u < 1e-12 ? 0\n\t\t\t\t\t : u > 0.999999999999 ? 1\n\t\t\t\t\t : Curve.getTimeOf(v,\n\t\t\t\t\t\tnew Point(x0 + u * vx, y0 + u * vy));\n\t\t\t}\n\t\n\t\t\tvar count = 100,\n\t\t\t\tminDist = Infinity,\n\t\t\t\tminT = 0;\n\t\n\t\t\tfunction refine(t) {\n\t\t\t\tif (t >= 0 && t <= 1) {\n\t\t\t\t\tvar dist = point.getDistance(Curve.getPoint(v, t), true);\n\t\t\t\t\tif (dist < minDist) {\n\t\t\t\t\t\tminDist = dist;\n\t\t\t\t\t\tminT = t;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfor (var i = 0; i <= count; i++)\n\t\t\t\trefine(i / count);\n\t\n\t\t\tvar step = 1 / (count * 2);\n\t\t\twhile (step > 1e-8) {\n\t\t\t\tif (!refine(minT - step) && !refine(minT + step))\n\t\t\t\t\tstep /= 2;\n\t\t\t}\n\t\t\treturn minT;\n\t\t},\n\t\n\t\tgetPart: function(v, from, to) {\n\t\t\tvar flip = from > to;\n\t\t\tif (flip) {\n\t\t\t\tvar tmp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = tmp;\n\t\t\t}\n\t\t\tif (from > 0)\n\t\t\t\tv = Curve.subdivide(v, from)[1];\n\t\t\tif (to < 1)\n\t\t\t\tv = Curve.subdivide(v, (to - from) / (1 - from))[0];\n\t\t\treturn flip\n\t\t\t\t\t? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]]\n\t\t\t\t\t: v;\n\t\t},\n\t\n\t\tisFlatEnough: function(v, flatness) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tux = 3 * x1 - 2 * x0 - x3,\n\t\t\t\tuy = 3 * y1 - 2 * y0 - y3,\n\t\t\t\tvx = 3 * x2 - 2 * x3 - x0,\n\t\t\t\tvy = 3 * y2 - 2 * y3 - y0;\n\t\t\treturn Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy)\n\t\t\t\t\t<= 16 * flatness * flatness;\n\t\t},\n\t\n\t\tgetArea: function(v) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7];\n\t\t\treturn 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2)\n\t\t\t\t\t+ y1 * (x0 - x2) - x1 * (y0 - y2)\n\t\t\t\t\t+ y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n\t\t},\n\t\n\t\tgetBounds: function(v) {\n\t\t\tvar min = v.slice(0, 2),\n\t\t\t\tmax = min.slice(),\n\t\t\t\troots = [0, 0];\n\t\t\tfor (var i = 0; i < 2; i++)\n\t\t\t\tCurve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6],\n\t\t\t\t\t\ti, 0, min, max, roots);\n\t\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t\t},\n\t\n\t\t_addBounds: function(v0, v1, v2, v3, coord, padding, min, max, roots) {\n\t\t\tfunction add(value, padding) {\n\t\t\t\tvar left = value - padding,\n\t\t\t\t\tright = value + padding;\n\t\t\t\tif (left < min[coord])\n\t\t\t\t\tmin[coord] = left;\n\t\t\t\tif (right > max[coord])\n\t\t\t\t\tmax[coord] = right;\n\t\t\t}\n\t\n\t\t\tpadding /= 2;\n\t\t\tvar minPad = min[coord] - padding,\n\t\t\t\tmaxPad = max[coord] + padding;\n\t\t\tif (    v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad ||\n\t\t\t\t\tv0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n\t\t\t\tif (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n\t\t\t\t\tadd(v0, padding);\n\t\t\t\t\tadd(v3, padding);\n\t\t\t\t} else {\n\t\t\t\t\tvar a = 3 * (v1 - v2) - v0 + v3,\n\t\t\t\t\t\tb = 2 * (v0 + v2) - 4 * v1,\n\t\t\t\t\t\tc = v1 - v0,\n\t\t\t\t\t\tcount = Numerical.solveQuadratic(a, b, c, roots),\n\t\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\t\ttMax = 1 - tMin;\n\t\t\t\t\tadd(v3, 0);\n\t\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\t\tvar t = roots[i],\n\t\t\t\t\t\t\tu = 1 - t;\n\t\t\t\t\t\tif (tMin <= t && t <= tMax)\n\t\t\t\t\t\t\tadd(u * u * u * v0\n\t\t\t\t\t\t\t\t+ 3 * u * u * t * v1\n\t\t\t\t\t\t\t\t+ 3 * u * t * t * v2\n\t\t\t\t\t\t\t\t+ t * t * t * v3,\n\t\t\t\t\t\t\t\tpadding);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}}, Base.each(\n\t\t['getBounds', 'getStrokeBounds', 'getHandleBounds'],\n\t\tfunction(name) {\n\t\t\tthis[name] = function() {\n\t\t\t\tif (!this._bounds)\n\t\t\t\t\tthis._bounds = {};\n\t\t\t\tvar bounds = this._bounds[name];\n\t\t\t\tif (!bounds) {\n\t\t\t\t\tbounds = this._bounds[name] = Path[name](\n\t\t\t\t\t\t\t[this._segment1, this._segment2], false, this._path);\n\t\t\t\t}\n\t\t\t\treturn bounds.clone();\n\t\t\t};\n\t\t},\n\t{\n\t\n\t}), Base.each({\n\t\tisStraight: function(p1, h1, h2, p2) {\n\t\t\tif (h1.isZero() && h2.isZero()) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tvar v = p2.subtract(p1);\n\t\t\t\tif (v.isZero()) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n\t\t\t\t\tvar l = new Line(p1, p2),\n\t\t\t\t\t\tepsilon = 1e-7;\n\t\t\t\t\tif (l.getDistance(p1.add(h1)) < epsilon &&\n\t\t\t\t\t\tl.getDistance(p2.add(h2)) < epsilon) {\n\t\t\t\t\t\tvar div = v.dot(v),\n\t\t\t\t\t\t\ts1 = v.dot(h1) / div,\n\t\t\t\t\t\t\ts2 = v.dot(h2) / div;\n\t\t\t\t\t\treturn s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\n\t\tisLinear: function(p1, h1, h2, p2) {\n\t\t\tvar third = p2.subtract(p1).divide(3);\n\t\t\treturn h1.equals(third) && h2.negate().equals(third);\n\t\t}\n\t}, function(test, name) {\n\t\tthis[name] = function(epsilon) {\n\t\t\tvar seg1 = this._segment1,\n\t\t\t\tseg2 = this._segment2;\n\t\t\treturn test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point,\n\t\t\t\t\tepsilon);\n\t\t};\n\t\n\t\tthis.statics[name] = function(v, epsilon) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx3 = v[6], y3 = v[7];\n\t\t\treturn test(\n\t\t\t\t\tnew Point(x0, y0),\n\t\t\t\t\tnew Point(v[2] - x0, v[3] - y0),\n\t\t\t\t\tnew Point(v[4] - x3, v[5] - y3),\n\t\t\t\t\tnew Point(x3, y3), epsilon);\n\t\t};\n\t}, {\n\t\tstatics: {},\n\t\n\t\thasHandles: function() {\n\t\t\treturn !this._segment1._handleOut.isZero()\n\t\t\t\t\t|| !this._segment2._handleIn.isZero();\n\t\t},\n\t\n\t\thasLength: function(epsilon) {\n\t\t\treturn (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles())\n\t\t\t\t\t&& this.getLength() > (epsilon || 0);\n\t\t},\n\t\n\t\tisCollinear: function(curve) {\n\t\t\treturn curve && this.isStraight() && curve.isStraight()\n\t\t\t\t\t&& this.getLine().isCollinear(curve.getLine());\n\t\t},\n\t\n\t\tisHorizontal: function() {\n\t\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y)\n\t\t\t\t\t< 1e-8;\n\t\t},\n\t\n\t\tisVertical: function() {\n\t\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x)\n\t\t\t\t\t< 1e-8;\n\t\t}\n\t}), {\n\t\tbeans: false,\n\t\n\t\tgetLocationAt: function(offset, _isTime) {\n\t\t\treturn this.getLocationAtTime(\n\t\t\t\t\t_isTime ? offset : this.getTimeAt(offset));\n\t\t},\n\t\n\t\tgetLocationAtTime: function(t) {\n\t\t\treturn t != null && t >= 0 && t <= 1\n\t\t\t\t\t? new CurveLocation(this, t)\n\t\t\t\t\t: null;\n\t\t},\n\t\n\t\tgetTimeAt: function(offset, start) {\n\t\t\treturn Curve.getTimeAt(this.getValues(), offset, start);\n\t\t},\n\t\n\t\tgetParameterAt: '#getTimeAt',\n\t\n\t\tgetOffsetAtTime: function(t) {\n\t\t\treturn this.getPartLength(0, t);\n\t\t},\n\t\n\t\tgetLocationOf: function() {\n\t\t\treturn this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n\t\t},\n\t\n\t\tgetOffsetOf: function() {\n\t\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\t\treturn loc ? loc.getOffset() : null;\n\t\t},\n\t\n\t\tgetTimeOf: function() {\n\t\t\treturn Curve.getTimeOf(this.getValues(), Point.read(arguments));\n\t\t},\n\t\n\t\tgetParameterOf: '#getTimeOf',\n\t\n\t\tgetNearestLocation: function() {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tvalues = this.getValues(),\n\t\t\t\tt = Curve.getNearestTime(values, point),\n\t\t\t\tpt = Curve.getPoint(values, t);\n\t\t\treturn new CurveLocation(this, t, pt, null, point.getDistance(pt));\n\t\t},\n\t\n\t\tgetNearestPoint: function() {\n\t\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\t\treturn loc ? loc.getPoint() : loc;\n\t\t}\n\t\n\t},\n\tnew function() {\n\t\tvar methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent',\n\t\t\t'getWeightedNormal', 'getCurvature'];\n\t\treturn Base.each(methods,\n\t\t\tfunction(name) {\n\t\t\t\tthis[name + 'At'] = function(location, _isTime) {\n\t\t\t\t\tvar values = this.getValues();\n\t\t\t\t\treturn Curve[name](values, _isTime ? location\n\t\t\t\t\t\t\t: Curve.getTimeAt(values, location));\n\t\t\t\t};\n\t\n\t\t\t\tthis[name + 'AtTime'] = function(time) {\n\t\t\t\t\treturn Curve[name](this.getValues(), time);\n\t\t\t\t};\n\t\t\t}, {\n\t\t\t\tstatics: {\n\t\t\t\t\t_evaluateMethods: methods\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t},\n\tnew function() {\n\t\n\t\tfunction getLengthIntegrand(v) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\n\t\t\t\tax = 9 * (x1 - x2) + 3 * (x3 - x0),\n\t\t\t\tbx = 6 * (x0 + x2) - 12 * x1,\n\t\t\t\tcx = 3 * (x1 - x0),\n\t\n\t\t\t\tay = 9 * (y1 - y2) + 3 * (y3 - y0),\n\t\t\t\tby = 6 * (y0 + y2) - 12 * y1,\n\t\t\t\tcy = 3 * (y1 - y0);\n\t\n\t\t\treturn function(t) {\n\t\t\t\tvar dx = (ax * t + bx) * t + cx,\n\t\t\t\t\tdy = (ay * t + by) * t + cy;\n\t\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t\t};\n\t\t}\n\t\n\t\tfunction getIterations(a, b) {\n\t\t\treturn Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n\t\t}\n\t\n\t\tfunction evaluate(v, t, type, normalized) {\n\t\t\tif (t == null || t < 0 || t > 1)\n\t\t\t\treturn null;\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tisZero = Numerical.isZero;\n\t\t\tif (isZero(x1 - x0) && isZero(y1 - y0)) {\n\t\t\t\tx1 = x0;\n\t\t\t\ty1 = y0;\n\t\t\t}\n\t\t\tif (isZero(x2 - x3) && isZero(y2 - y3)) {\n\t\t\t\tx2 = x3;\n\t\t\t\ty2 = y3;\n\t\t\t}\n\t\t\tvar cx = 3 * (x1 - x0),\n\t\t\t\tbx = 3 * (x2 - x1) - cx,\n\t\t\t\tax = x3 - x0 - cx - bx,\n\t\t\t\tcy = 3 * (y1 - y0),\n\t\t\t\tby = 3 * (y2 - y1) - cy,\n\t\t\t\tay = y3 - y0 - cy - by,\n\t\t\t\tx, y;\n\t\t\tif (type === 0) {\n\t\t\t\tx = t === 0 ? x0 : t === 1 ? x3\n\t\t\t\t\t\t: ((ax * t + bx) * t + cx) * t + x0;\n\t\t\t\ty = t === 0 ? y0 : t === 1 ? y3\n\t\t\t\t\t\t: ((ay * t + by) * t + cy) * t + y0;\n\t\t\t} else {\n\t\t\t\tvar tMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin;\n\t\t\t\tif (t < tMin) {\n\t\t\t\t\tx = cx;\n\t\t\t\t\ty = cy;\n\t\t\t\t} else if (t > tMax) {\n\t\t\t\t\tx = 3 * (x3 - x2);\n\t\t\t\t\ty = 3 * (y3 - y2);\n\t\t\t\t} else {\n\t\t\t\t\tx = (3 * ax * t + 2 * bx) * t + cx;\n\t\t\t\t\ty = (3 * ay * t + 2 * by) * t + cy;\n\t\t\t\t}\n\t\t\t\tif (normalized) {\n\t\t\t\t\tif (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n\t\t\t\t\t\tx = x2 - x1;\n\t\t\t\t\t\ty = y2 - y1;\n\t\t\t\t\t}\n\t\t\t\t\tvar len = Math.sqrt(x * x + y * y);\n\t\t\t\t\tif (len) {\n\t\t\t\t\t\tx /= len;\n\t\t\t\t\t\ty /= len;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (type === 3) {\n\t\t\t\t\tvar x2 = 6 * ax * t + 2 * bx,\n\t\t\t\t\t\ty2 = 6 * ay * t + 2 * by,\n\t\t\t\t\t\td = Math.pow(x * x + y * y, 3 / 2);\n\t\t\t\t\tx = d !== 0 ? (x * y2 - y * x2) / d : 0;\n\t\t\t\t\ty = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn type === 2 ? new Point(y, -x) : new Point(x, y);\n\t\t}\n\t\n\t\treturn { statics: {\n\t\n\t\t\tclassify: function(v) {\n\t\n\t\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\t\ta1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n\t\t\t\t\ta2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n\t\t\t\t\ta3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n\t\t\t\t\td3 = 3 * a3,\n\t\t\t\t\td2 = d3 - a2,\n\t\t\t\t\td1 = d2 - a2 + a1,\n\t\t\t\t\tl = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n\t\t\t\t\ts = l !== 0 ? 1 / l : 0,\n\t\t\t\t\tisZero = Numerical.isZero,\n\t\t\t\t\tserpentine = 'serpentine';\n\t\t\t\td1 *= s;\n\t\t\t\td2 *= s;\n\t\t\t\td3 *= s;\n\t\n\t\t\t\tfunction type(type, t1, t2) {\n\t\t\t\t\tvar hasRoots = t1 !== undefined,\n\t\t\t\t\t\tt1Ok = hasRoots && t1 > 0 && t1 < 1,\n\t\t\t\t\t\tt2Ok = hasRoots && t2 > 0 && t2 < 1;\n\t\t\t\t\tif (hasRoots && (!(t1Ok || t2Ok)\n\t\t\t\t\t\t\t|| type === 'loop' && !(t1Ok && t2Ok))) {\n\t\t\t\t\t\ttype = 'arch';\n\t\t\t\t\t\tt1Ok = t2Ok = false;\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\troots: t1Ok || t2Ok\n\t\t\t\t\t\t\t\t? t1Ok && t2Ok\n\t\t\t\t\t\t\t\t\t? t1 < t2 ? [t1, t2] : [t2, t1]\n\t\t\t\t\t\t\t\t\t: [t1Ok ? t1 : t2]\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t};\n\t\t\t\t}\n\t\n\t\t\t\tif (isZero(d1)) {\n\t\t\t\t\treturn isZero(d2)\n\t\t\t\t\t\t\t? type(isZero(d3) ? 'line' : 'quadratic')\n\t\t\t\t\t\t\t: type(serpentine, d3 / (3 * d2));\n\t\t\t\t}\n\t\t\t\tvar d = 3 * d2 * d2 - 4 * d1 * d3;\n\t\t\t\tif (isZero(d)) {\n\t\t\t\t\treturn type('cusp', d2 / (2 * d1));\n\t\t\t\t}\n\t\t\t\tvar f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n\t\t\t\t\tf2 = 2 * d1;\n\t\t\t\treturn type(d > 0 ? serpentine : 'loop',\n\t\t\t\t\t\t(d2 + f1) / f2,\n\t\t\t\t\t\t(d2 - f1) / f2);\n\t\t\t},\n\t\n\t\t\tgetLength: function(v, a, b, ds) {\n\t\t\t\tif (a === undefined)\n\t\t\t\t\ta = 0;\n\t\t\t\tif (b === undefined)\n\t\t\t\t\tb = 1;\n\t\t\t\tif (Curve.isStraight(v)) {\n\t\t\t\t\tvar c = v;\n\t\t\t\t\tif (b < 1) {\n\t\t\t\t\t\tc = Curve.subdivide(c, b)[0];\n\t\t\t\t\t\ta /= b;\n\t\t\t\t\t}\n\t\t\t\t\tif (a > 0) {\n\t\t\t\t\t\tc = Curve.subdivide(c, a)[1];\n\t\t\t\t\t}\n\t\t\t\t\tvar dx = c[6] - c[0],\n\t\t\t\t\t\tdy = c[7] - c[1];\n\t\t\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t\t\t}\n\t\t\t\treturn Numerical.integrate(ds || getLengthIntegrand(v), a, b,\n\t\t\t\t\t\tgetIterations(a, b));\n\t\t\t},\n\t\n\t\t\tgetTimeAt: function(v, offset, start) {\n\t\t\t\tif (start === undefined)\n\t\t\t\t\tstart = offset < 0 ? 1 : 0;\n\t\t\t\tif (offset === 0)\n\t\t\t\t\treturn start;\n\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\tepsilon = 1e-12,\n\t\t\t\t\tforward = offset > 0,\n\t\t\t\t\ta = forward ? start : 0,\n\t\t\t\t\tb = forward ? 1 : start,\n\t\t\t\t\tds = getLengthIntegrand(v),\n\t\t\t\t\trangeLength = Curve.getLength(v, a, b, ds),\n\t\t\t\t\tdiff = abs(offset) - rangeLength;\n\t\t\t\tif (abs(diff) < epsilon) {\n\t\t\t\t\treturn forward ? b : a;\n\t\t\t\t} else if (diff > epsilon) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tvar guess = offset / rangeLength,\n\t\t\t\t\tlength = 0;\n\t\t\t\tfunction f(t) {\n\t\t\t\t\tlength += Numerical.integrate(ds, start, t,\n\t\t\t\t\t\t\tgetIterations(start, t));\n\t\t\t\t\tstart = t;\n\t\t\t\t\treturn length - offset;\n\t\t\t\t}\n\t\t\t\treturn Numerical.findRoot(f, ds, start + guess, a, b, 32,\n\t\t\t\t\t\t1e-12);\n\t\t\t},\n\t\n\t\t\tgetPoint: function(v, t) {\n\t\t\t\treturn evaluate(v, t, 0, false);\n\t\t\t},\n\t\n\t\t\tgetTangent: function(v, t) {\n\t\t\t\treturn evaluate(v, t, 1, true);\n\t\t\t},\n\t\n\t\t\tgetWeightedTangent: function(v, t) {\n\t\t\t\treturn evaluate(v, t, 1, false);\n\t\t\t},\n\t\n\t\t\tgetNormal: function(v, t) {\n\t\t\t\treturn evaluate(v, t, 2, true);\n\t\t\t},\n\t\n\t\t\tgetWeightedNormal: function(v, t) {\n\t\t\t\treturn evaluate(v, t, 2, false);\n\t\t\t},\n\t\n\t\t\tgetCurvature: function(v, t) {\n\t\t\t\treturn evaluate(v, t, 3, false).x;\n\t\t\t},\n\t\n\t\t\tgetPeaks: function(v) {\n\t\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\t\tax =     -x0 + 3 * x1 - 3 * x2 + x3,\n\t\t\t\t\tbx =  3 * x0 - 6 * x1 + 3 * x2,\n\t\t\t\t\tcx = -3 * x0 + 3 * x1,\n\t\t\t\t\tay =     -y0 + 3 * y1 - 3 * y2 + y3,\n\t\t\t\t\tby =  3 * y0 - 6 * y1 + 3 * y2,\n\t\t\t\t\tcy = -3 * y0 + 3 * y1,\n\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin,\n\t\t\t\t\troots = [];\n\t\t\t\tNumerical.solveCubic(\n\t\t\t\t\t\t9 * (ax * ax + ay * ay),\n\t\t\t\t\t\t9 * (ax * bx + by * ay),\n\t\t\t\t\t\t2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay),\n\t\t\t\t\t\t(cx * bx + by * cy),\n\t\t\t\t\t\troots, tMin, tMax);\n\t\t\t\treturn roots.sort();\n\t\t\t}\n\t\t}};\n\t},\n\tnew function() {\n\t\n\t\tfunction addLocation(locations, include, c1, t1, c2, t2, overlap) {\n\t\t\tvar excludeStart = !overlap && c1.getPrevious() === c2,\n\t\t\t\texcludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tif (t1 !== null && t1 >= (excludeStart ? tMin : 0) &&\n\t\t\t\tt1 <= (excludeEnd ? tMax : 1)) {\n\t\t\t\tif (t2 !== null && t2 >= (excludeEnd ? tMin : 0) &&\n\t\t\t\t\tt2 <= (excludeStart ? tMax : 1)) {\n\t\t\t\t\tvar loc1 = new CurveLocation(c1, t1, null, overlap),\n\t\t\t\t\t\tloc2 = new CurveLocation(c2, t2, null, overlap);\n\t\t\t\t\tloc1._intersection = loc2;\n\t\t\t\t\tloc2._intersection = loc1;\n\t\t\t\t\tif (!include || include(loc1)) {\n\t\t\t\t\t\tCurveLocation.insert(locations, loc1, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction addCurveIntersections(v1, v2, c1, c2, locations, include, flip,\n\t\t\t\trecursion, calls, tMin, tMax, uMin, uMax) {\n\t\t\tif (++calls >= 4096 || ++recursion >= 40)\n\t\t\t\treturn calls;\n\t\t\tvar fatLineEpsilon = 1e-9,\n\t\t\t\tq0x = v2[0], q0y = v2[1], q3x = v2[6], q3y = v2[7],\n\t\t\t\tgetSignedDistance = Line.getSignedDistance,\n\t\t\t\td1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n\t\t\t\td2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n\t\t\t\tfactor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n\t\t\t\tdMin = factor * Math.min(0, d1, d2),\n\t\t\t\tdMax = factor * Math.max(0, d1, d2),\n\t\t\t\tdp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n\t\t\t\tdp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n\t\t\t\tdp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n\t\t\t\tdp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n\t\t\t\thull = getConvexHull(dp0, dp1, dp2, dp3),\n\t\t\t\ttop = hull[0],\n\t\t\t\tbottom = hull[1],\n\t\t\t\ttMinClip,\n\t\t\t\ttMaxClip;\n\t\t\tif (d1 === 0 && d2 === 0\n\t\t\t\t\t&& dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0\n\t\t\t\t|| (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null\n\t\t\t\t|| (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(),\n\t\t\t\t\tdMin, dMax)) == null)\n\t\t\t\treturn calls;\n\t\t\tvar tMinNew = tMin + (tMax - tMin) * tMinClip,\n\t\t\t\ttMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\t\t\tif (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n\t\t\t\tvar t = (tMinNew + tMaxNew) / 2,\n\t\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tflip ? c2 : c1, flip ? u : t,\n\t\t\t\t\t\tflip ? c1 : c2, flip ? t : u);\n\t\t\t} else {\n\t\t\t\tv1 = Curve.getPart(v1, tMinClip, tMaxClip);\n\t\t\t\tif (tMaxClip - tMinClip > 0.8) {\n\t\t\t\t\tif (tMaxNew - tMinNew > uMax - uMin) {\n\t\t\t\t\t\tvar parts = Curve.subdivide(v1, 0.5),\n\t\t\t\t\t\t\tt = (tMinNew + tMaxNew) / 2;\n\t\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\t\tv2, parts[0], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, t);\n\t\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\t\tv2, parts[1], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\t\trecursion, calls, uMin, uMax, t, tMaxNew);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar parts = Curve.subdivide(v2, 0.5),\n\t\t\t\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\t\tparts[0], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\t\trecursion, calls, uMin, u, tMinNew, tMaxNew);\n\t\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\t\tparts[1], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\t\trecursion, calls, u, uMax, tMinNew, tMaxNew);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (uMax - uMin >= fatLineEpsilon) {\n\t\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\t\tv2, v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, tMaxNew);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\t\tv1, v2, c1, c2, locations, include, flip,\n\t\t\t\t\t\t\t\trecursion, calls, tMinNew, tMaxNew, uMin, uMax);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn calls;\n\t\t}\n\t\n\t\tfunction getConvexHull(dq0, dq1, dq2, dq3) {\n\t\t\tvar p0 = [ 0, dq0 ],\n\t\t\t\tp1 = [ 1 / 3, dq1 ],\n\t\t\t\tp2 = [ 2 / 3, dq2 ],\n\t\t\t\tp3 = [ 1, dq3 ],\n\t\t\t\tdist1 = dq1 - (2 * dq0 + dq3) / 3,\n\t\t\t\tdist2 = dq2 - (dq0 + 2 * dq3) / 3,\n\t\t\t\thull;\n\t\t\tif (dist1 * dist2 < 0) {\n\t\t\t\thull = [[p0, p1, p3], [p0, p2, p3]];\n\t\t\t} else {\n\t\t\t\tvar distRatio = dist1 / dist2;\n\t\t\t\thull = [\n\t\t\t\t\tdistRatio >= 2 ? [p0, p1, p3]\n\t\t\t\t\t: distRatio <= 0.5 ? [p0, p2, p3]\n\t\t\t\t\t: [p0, p1, p2, p3],\n\t\t\t\t\t[p0, p3]\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn (dist1 || dist2) < 0 ? hull.reverse() : hull;\n\t\t}\n\t\n\t\tfunction clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n\t\t\tif (hullTop[0][1] < dMin) {\n\t\t\t\treturn clipConvexHullPart(hullTop, true, dMin);\n\t\t\t} else if (hullBottom[0][1] > dMax) {\n\t\t\t\treturn clipConvexHullPart(hullBottom, false, dMax);\n\t\t\t} else {\n\t\t\t\treturn hullTop[0][0];\n\t\t\t}\n\t\t}\n\t\n\t\tfunction clipConvexHullPart(part, top, threshold) {\n\t\t\tvar px = part[0][0],\n\t\t\t\tpy = part[0][1];\n\t\t\tfor (var i = 1, l = part.length; i < l; i++) {\n\t\t\t\tvar qx = part[i][0],\n\t\t\t\t\tqy = part[i][1];\n\t\t\t\tif (top ? qy >= threshold : qy <= threshold) {\n\t\t\t\t\treturn qy === threshold ? qx\n\t\t\t\t\t\t\t: px + (threshold - py) * (qx - px) / (qy - py);\n\t\t\t\t}\n\t\t\t\tpx = qx;\n\t\t\t\tpy = qy;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\n\t\tfunction getCurveLineIntersections(v, px, py, vx, vy) {\n\t\t\tvar isZero = Numerical.isZero;\n\t\t\tif (isZero(vx) && isZero(vy)) {\n\t\t\t\tvar t = Curve.getTimeOf(v, new Point(px, py));\n\t\t\t\treturn t === null ? [] : [t];\n\t\t\t}\n\t\t\tvar angle = Math.atan2(-vy, vx),\n\t\t\t\tsin = Math.sin(angle),\n\t\t\t\tcos = Math.cos(angle),\n\t\t\t\trv = [],\n\t\t\t\troots = [];\n\t\t\tfor (var i = 0; i < 8; i += 2) {\n\t\t\t\tvar x = v[i] - px,\n\t\t\t\t\ty = v[i + 1] - py;\n\t\t\t\trv.push(\n\t\t\t\t\tx * cos - y * sin,\n\t\t\t\t\tx * sin + y * cos);\n\t\t\t}\n\t\t\tCurve.solveCubic(rv, 1, 0, roots, 0, 1);\n\t\t\treturn roots;\n\t\t}\n\t\n\t\tfunction addCurveLineIntersections(v1, v2, c1, c2, locations, include,\n\t\t\t\tflip) {\n\t\t\tvar x1 = v2[0], y1 = v2[1],\n\t\t\t\tx2 = v2[6], y2 = v2[7],\n\t\t\t\troots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\t\t\tfor (var i = 0, l = roots.length; i < l; i++) {\n\t\t\t\tvar t1 = roots[i],\n\t\t\t\t\tp1 = Curve.getPoint(v1, t1),\n\t\t\t\t\tt2 = Curve.getTimeOf(v2, p1);\n\t\t\t\tif (t2 !== null) {\n\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\tflip ? c2 : c1, flip ? t2 : t1,\n\t\t\t\t\t\t\tflip ? c1 : c2, flip ? t1 : t2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction addLineIntersection(v1, v2, c1, c2, locations, include) {\n\t\t\tvar pt = Line.intersect(\n\t\t\t\t\tv1[0], v1[1], v1[6], v1[7],\n\t\t\t\t\tv2[0], v2[1], v2[6], v2[7]);\n\t\t\tif (pt) {\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tc1, Curve.getTimeOf(v1, pt),\n\t\t\t\t\t\tc2, Curve.getTimeOf(v2, pt));\n\t\t\t}\n\t\t}\n\t\n\t\tfunction getCurveIntersections(v1, v2, c1, c2, locations, include) {\n\t\t\tvar epsilon = 1e-12,\n\t\t\t\tmin = Math.min,\n\t\t\t\tmax = Math.max;\n\t\n\t\t\tif (max(v1[0], v1[2], v1[4], v1[6]) + epsilon >\n\t\t\t\tmin(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\t\tmin(v1[0], v1[2], v1[4], v1[6]) - epsilon <\n\t\t\t\tmax(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\t\tmax(v1[1], v1[3], v1[5], v1[7]) + epsilon >\n\t\t\t\tmin(v2[1], v2[3], v2[5], v2[7]) &&\n\t\t\t\tmin(v1[1], v1[3], v1[5], v1[7]) - epsilon <\n\t\t\t\tmax(v2[1], v2[3], v2[5], v2[7])) {\n\t\t\t\tvar overlaps = getOverlaps(v1, v2);\n\t\t\t\tif (overlaps) {\n\t\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\t\tvar overlap = overlaps[i];\n\t\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\t\tc1, overlap[0],\n\t\t\t\t\t\t\t\tc2, overlap[1], true);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar straight1 = Curve.isStraight(v1),\n\t\t\t\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\t\t\t\tstraight = straight1 && straight2,\n\t\t\t\t\t\tflip = straight1 && !straight2,\n\t\t\t\t\t\tbefore = locations.length;\n\t\t\t\t\t(straight\n\t\t\t\t\t\t? addLineIntersection\n\t\t\t\t\t\t: straight1 || straight2\n\t\t\t\t\t\t\t? addCurveLineIntersections\n\t\t\t\t\t\t\t: addCurveIntersections)(\n\t\t\t\t\t\t\t\tflip ? v2 : v1, flip ? v1 : v2,\n\t\t\t\t\t\t\t\tflip ? c2 : c1, flip ? c1 : c2,\n\t\t\t\t\t\t\t\tlocations, include, flip,\n\t\t\t\t\t\t\t\t0, 0, 0, 1, 0, 1);\n\t\t\t\t\tif (!straight || locations.length === before) {\n\t\t\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\t\t\tvar t1 = i >> 1,\n\t\t\t\t\t\t\t\tt2 = i & 1,\n\t\t\t\t\t\t\t\ti1 = t1 * 6,\n\t\t\t\t\t\t\t\ti2 = t2 * 6,\n\t\t\t\t\t\t\t\tp1 = new Point(v1[i1], v1[i1 + 1]),\n\t\t\t\t\t\t\t\tp2 = new Point(v2[i2], v2[i2 + 1]);\n\t\t\t\t\t\t\tif (p1.isClose(p2, epsilon)) {\n\t\t\t\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\t\t\t\tc1, t1,\n\t\t\t\t\t\t\t\t\t\tc2, t2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn locations;\n\t\t}\n\t\n\t\tfunction getLoopIntersection(v1, c1, locations, include) {\n\t\t\tvar info = Curve.classify(v1);\n\t\t\tif (info.type === 'loop') {\n\t\t\t\tvar roots = info.roots;\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tc1, roots[0],\n\t\t\t\t\t\tc1, roots[1]);\n\t\t\t}\n\t\t  return locations;\n\t\t}\n\t\n\t\tfunction getIntersections(curves1, curves2, include, matrix1, matrix2,\n\t\t\t\t_returnFirst) {\n\t\t\tvar self = !curves2;\n\t\t\tif (self)\n\t\t\t\tcurves2 = curves1;\n\t\t\tvar length1 = curves1.length,\n\t\t\t\tlength2 = curves2.length,\n\t\t\t\tvalues2 = [],\n\t\t\t\tarrays = [],\n\t\t\t\tlocations,\n\t\t\t\tcurrent;\n\t\t\tfor (var i = 0; i < length2; i++)\n\t\t\t\tvalues2[i] = curves2[i].getValues(matrix2);\n\t\t\tfor (var i = 0; i < length1; i++) {\n\t\t\t\tvar curve1 = curves1[i],\n\t\t\t\t\tvalues1 = self ? values2[i] : curve1.getValues(matrix1),\n\t\t\t\t\tpath1 = curve1.getPath();\n\t\t\t\tif (path1 !== current) {\n\t\t\t\t\tcurrent = path1;\n\t\t\t\t\tlocations = [];\n\t\t\t\t\tarrays.push(locations);\n\t\t\t\t}\n\t\t\t\tif (self) {\n\t\t\t\t\tgetLoopIntersection(values1, curve1, locations, include);\n\t\t\t\t}\n\t\t\t\tfor (var j = self ? i + 1 : 0; j < length2; j++) {\n\t\t\t\t\tif (_returnFirst && locations.length)\n\t\t\t\t\t\treturn locations;\n\t\t\t\t\tgetCurveIntersections(values1, values2[j], curve1, curves2[j],\n\t\t\t\t\t\t\tlocations, include);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlocations = [];\n\t\t\tfor (var i = 0, l = arrays.length; i < l; i++) {\n\t\t\t\tlocations.push.apply(locations, arrays[i]);\n\t\t\t}\n\t\t\treturn locations;\n\t\t}\n\t\n\t\tfunction getOverlaps(v1, v2) {\n\t\n\t\t\tfunction getSquaredLineLength(v) {\n\t\t\t\tvar x = v[6] - v[0],\n\t\t\t\t\ty = v[7] - v[1];\n\t\t\t\treturn x * x + y * y;\n\t\t\t}\n\t\n\t\t\tvar abs = Math.abs,\n\t\t\t\tgetDistance = Line.getDistance,\n\t\t\t\ttimeEpsilon = 1e-8,\n\t\t\t\tgeomEpsilon = 1e-7,\n\t\t\t\tstraight1 = Curve.isStraight(v1),\n\t\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\t\tstraightBoth = straight1 && straight2,\n\t\t\t\tflip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n\t\t\t\tl1 = flip ? v2 : v1,\n\t\t\t\tl2 = flip ? v1 : v2,\n\t\t\t\tpx = l1[0], py = l1[1],\n\t\t\t\tvx = l1[6] - px, vy = l1[7] - py;\n\t\t\tif (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n\t\t\t\tif (!straightBoth &&\n\t\t\t\t\tgetDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon &&\n\t\t\t\t\tgetDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon &&\n\t\t\t\t\tgetDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon &&\n\t\t\t\t\tgetDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n\t\t\t\t\tstraight1 = straight2 = straightBoth = true;\n\t\t\t\t}\n\t\t\t} else if (straightBoth) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (straight1 ^ straight2) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\tvar v = [v1, v2],\n\t\t\t\tpairs = [];\n\t\t\tfor (var i = 0; i < 4 && pairs.length < 2; i++) {\n\t\t\t\tvar i1 = i & 1,\n\t\t\t\t\ti2 = i1 ^ 1,\n\t\t\t\t\tt1 = i >> 1,\n\t\t\t\t\tt2 = Curve.getTimeOf(v[i1], new Point(\n\t\t\t\t\t\tv[i2][t1 ? 6 : 0],\n\t\t\t\t\t\tv[i2][t1 ? 7 : 1]));\n\t\t\t\tif (t2 != null) {\n\t\t\t\t\tvar pair = i1 ? [t1, t2] : [t2, t1];\n\t\t\t\t\tif (!pairs.length ||\n\t\t\t\t\t\tabs(pair[0] - pairs[0][0]) > timeEpsilon &&\n\t\t\t\t\t\tabs(pair[1] - pairs[0][1]) > timeEpsilon) {\n\t\t\t\t\t\tpairs.push(pair);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (i > 2 && !pairs.length)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (pairs.length !== 2) {\n\t\t\t\tpairs = null;\n\t\t\t} else if (!straightBoth) {\n\t\t\t\tvar o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n\t\t\t\t\to2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n\t\t\t\tif (abs(o2[2] - o1[2]) > geomEpsilon ||\n\t\t\t\t\tabs(o2[3] - o1[3]) > geomEpsilon ||\n\t\t\t\t\tabs(o2[4] - o1[4]) > geomEpsilon ||\n\t\t\t\t\tabs(o2[5] - o1[5]) > geomEpsilon)\n\t\t\t\t\tpairs = null;\n\t\t\t}\n\t\t\treturn pairs;\n\t\t}\n\t\n\t\treturn {\n\t\t\tgetIntersections: function(curve) {\n\t\t\t\tvar v1 = this.getValues(),\n\t\t\t\t\tv2 = curve && curve !== this && curve.getValues();\n\t\t\t\treturn v2 ? getCurveIntersections(v1, v2, this, curve, [])\n\t\t\t\t\t\t  : getLoopIntersection(v1, this, []);\n\t\t\t},\n\t\n\t\t\tstatics: {\n\t\t\t\tgetOverlaps: getOverlaps,\n\t\t\t\tgetIntersections: getIntersections,\n\t\t\t\tgetCurveLineIntersections: getCurveLineIntersections\n\t\t\t}\n\t\t};\n\t});\n\t\n\tvar CurveLocation = Base.extend({\n\t\t_class: 'CurveLocation',\n\t\n\t\tinitialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n\t\t\tif (time >= 0.99999999) {\n\t\t\t\tvar next = curve.getNext();\n\t\t\t\tif (next) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t\tcurve = next;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._setCurve(curve);\n\t\t\tthis._time = time;\n\t\t\tthis._point = point || curve.getPointAtTime(time);\n\t\t\tthis._overlap = _overlap;\n\t\t\tthis._distance = _distance;\n\t\t\tthis._intersection = this._next = this._previous = null;\n\t\t},\n\t\n\t\t_setCurve: function(curve) {\n\t\t\tvar path = curve._path;\n\t\t\tthis._path = path;\n\t\t\tthis._version = path ? path._version : 0;\n\t\t\tthis._curve = curve;\n\t\t\tthis._segment = null;\n\t\t\tthis._segment1 = curve._segment1;\n\t\t\tthis._segment2 = curve._segment2;\n\t\t},\n\t\n\t\t_setSegment: function(segment) {\n\t\t\tthis._setCurve(segment.getCurve());\n\t\t\tthis._segment = segment;\n\t\t\tthis._time = segment === this._segment1 ? 0 : 1;\n\t\t\tthis._point = segment._point.clone();\n\t\t},\n\t\n\t\tgetSegment: function() {\n\t\t\tvar segment = this._segment;\n\t\t\tif (!segment) {\n\t\t\t\tvar curve = this.getCurve(),\n\t\t\t\t\ttime = this.getTime();\n\t\t\t\tif (time === 0) {\n\t\t\t\t\tsegment = curve._segment1;\n\t\t\t\t} else if (time === 1) {\n\t\t\t\t\tsegment = curve._segment2;\n\t\t\t\t} else if (time != null) {\n\t\t\t\t\tsegment = curve.getPartLength(0, time)\n\t\t\t\t\t\t< curve.getPartLength(time, 1)\n\t\t\t\t\t\t\t? curve._segment1\n\t\t\t\t\t\t\t: curve._segment2;\n\t\t\t\t}\n\t\t\t\tthis._segment = segment;\n\t\t\t}\n\t\t\treturn segment;\n\t\t},\n\t\n\t\tgetCurve: function() {\n\t\t\tvar path = this._path,\n\t\t\t\tthat = this;\n\t\t\tif (path && path._version !== this._version) {\n\t\t\t\tthis._time = this._offset = this._curveOffset = this._curve = null;\n\t\t\t}\n\t\n\t\t\tfunction trySegment(segment) {\n\t\t\t\tvar curve = segment && segment.getCurve();\n\t\t\t\tif (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n\t\t\t\t\tthat._setCurve(curve);\n\t\t\t\t\treturn curve;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn this._curve\n\t\t\t\t|| trySegment(this._segment)\n\t\t\t\t|| trySegment(this._segment1)\n\t\t\t\t|| trySegment(this._segment2.getPrevious());\n\t\t},\n\t\n\t\tgetPath: function() {\n\t\t\tvar curve = this.getCurve();\n\t\t\treturn curve && curve._path;\n\t\t},\n\t\n\t\tgetIndex: function() {\n\t\t\tvar curve = this.getCurve();\n\t\t\treturn curve && curve.getIndex();\n\t\t},\n\t\n\t\tgetTime: function() {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this._time;\n\t\t\treturn curve && time == null\n\t\t\t\t? this._time = curve.getTimeOf(this._point)\n\t\t\t\t: time;\n\t\t},\n\t\n\t\tgetParameter: '#getTime',\n\t\n\t\tgetPoint: function() {\n\t\t\treturn this._point;\n\t\t},\n\t\n\t\tgetOffset: function() {\n\t\t\tvar offset = this._offset;\n\t\t\tif (offset == null) {\n\t\t\t\toffset = 0;\n\t\t\t\tvar path = this.getPath(),\n\t\t\t\t\tindex = this.getIndex();\n\t\t\t\tif (path && index != null) {\n\t\t\t\t\tvar curves = path.getCurves();\n\t\t\t\t\tfor (var i = 0; i < index; i++)\n\t\t\t\t\t\toffset += curves[i].getLength();\n\t\t\t\t}\n\t\t\t\tthis._offset = offset += this.getCurveOffset();\n\t\t\t}\n\t\t\treturn offset;\n\t\t},\n\t\n\t\tgetCurveOffset: function() {\n\t\t\tvar offset = this._curveOffset;\n\t\t\tif (offset == null) {\n\t\t\t\tvar curve = this.getCurve(),\n\t\t\t\t\ttime = this.getTime();\n\t\t\t\tthis._curveOffset = offset = time != null && curve\n\t\t\t\t\t\t&& curve.getPartLength(0, time);\n\t\t\t}\n\t\t\treturn offset;\n\t\t},\n\t\n\t\tgetIntersection: function() {\n\t\t\treturn this._intersection;\n\t\t},\n\t\n\t\tgetDistance: function() {\n\t\t\treturn this._distance;\n\t\t},\n\t\n\t\tdivide: function() {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\tres = curve && curve.divideAtTime(this.getTime());\n\t\t\tif (res) {\n\t\t\t\tthis._setSegment(res._segment1);\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\n\t\tsplit: function() {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\tpath = curve._path,\n\t\t\t\tres = curve && curve.splitAtTime(this.getTime());\n\t\t\tif (res) {\n\t\t\t\tthis._setSegment(path.getLastSegment());\n\t\t\t}\n\t\t\treturn  res;\n\t\t},\n\t\n\t\tequals: function(loc, _ignoreOther) {\n\t\t\tvar res = this === loc;\n\t\t\tif (!res && loc instanceof CurveLocation) {\n\t\t\t\tvar c1 = this.getCurve(),\n\t\t\t\t\tc2 = loc.getCurve(),\n\t\t\t\t\tp1 = c1._path,\n\t\t\t\t\tp2 = c2._path;\n\t\t\t\tif (p1 === p2) {\n\t\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\t\tepsilon = 1e-7,\n\t\t\t\t\t\tdiff = abs(this.getOffset() - loc.getOffset()),\n\t\t\t\t\t\ti1 = !_ignoreOther && this._intersection,\n\t\t\t\t\t\ti2 = !_ignoreOther && loc._intersection;\n\t\t\t\t\tres = (diff < epsilon\n\t\t\t\t\t\t\t|| p1 && abs(p1.getLength() - diff) < epsilon)\n\t\t\t\t\t\t&& (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\n\t\ttoString: function() {\n\t\t\tvar parts = [],\n\t\t\t\tpoint = this.getPoint(),\n\t\t\t\tf = Formatter.instance;\n\t\t\tif (point)\n\t\t\t\tparts.push('point: ' + point);\n\t\t\tvar index = this.getIndex();\n\t\t\tif (index != null)\n\t\t\t\tparts.push('index: ' + index);\n\t\t\tvar time = this.getTime();\n\t\t\tif (time != null)\n\t\t\t\tparts.push('time: ' + f.number(time));\n\t\t\tif (this._distance != null)\n\t\t\t\tparts.push('distance: ' + f.number(this._distance));\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\t\n\t\tisTouching: function() {\n\t\t\tvar inter = this._intersection;\n\t\t\tif (inter && this.getTangent().isCollinear(inter.getTangent())) {\n\t\t\t\tvar curve1 = this.getCurve(),\n\t\t\t\t\tcurve2 = inter.getCurve();\n\t\t\t\treturn !(curve1.isStraight() && curve2.isStraight()\n\t\t\t\t\t\t&& curve1.getLine().intersect(curve2.getLine()));\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\n\t\tisCrossing: function() {\n\t\t\tvar inter = this._intersection;\n\t\t\tif (!inter)\n\t\t\t\treturn false;\n\t\t\tvar t1 = this.getTime(),\n\t\t\t\tt2 = inter.getTime(),\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\tt1Inside = t1 >= tMin && t1 <= tMax,\n\t\t\t\tt2Inside = t2 >= tMin && t2 <= tMax;\n\t\t\tif (t1Inside && t2Inside)\n\t\t\t\treturn !this.isTouching();\n\t\t\tvar c2 = this.getCurve(),\n\t\t\t\tc1 = t1 < tMin ? c2.getPrevious() : c2,\n\t\t\t\tc4 = inter.getCurve(),\n\t\t\t\tc3 = t2 < tMin ? c4.getPrevious() : c4;\n\t\t\tif (t1 > tMax)\n\t\t\t\tc2 = c2.getNext();\n\t\t\tif (t2 > tMax)\n\t\t\t\tc4 = c4.getNext();\n\t\t\tif (!c1 || !c2 || !c3 || !c4)\n\t\t\t\treturn false;\n\t\n\t\t\tvar offsets = [];\n\t\n\t\t\tfunction addOffsets(curve, end) {\n\t\t\t\tvar v = curve.getValues(),\n\t\t\t\t\troots = Curve.classify(v).roots || Curve.getPeaks(v),\n\t\t\t\t\tcount = roots.length,\n\t\t\t\t\tt = end && count > 1 ? roots[count - 1]\n\t\t\t\t\t\t\t: count > 0 ? roots[0]\n\t\t\t\t\t\t\t: 0.5;\n\t\t\t\toffsets.push(Curve.getLength(v, end ? t : 0, end ? 1 : t) / 2);\n\t\t\t}\n\t\n\t\t\tfunction isInRange(angle, min, max) {\n\t\t\t\treturn min < max\n\t\t\t\t\t\t? angle > min && angle < max\n\t\t\t\t\t\t: angle > min || angle < max;\n\t\t\t}\n\t\n\t\t\tif (!t1Inside) {\n\t\t\t\taddOffsets(c1, true);\n\t\t\t\taddOffsets(c2, false);\n\t\t\t}\n\t\t\tif (!t2Inside) {\n\t\t\t\taddOffsets(c3, true);\n\t\t\t\taddOffsets(c4, false);\n\t\t\t}\n\t\t\tvar pt = this.getPoint(),\n\t\t\t\toffset = Math.min.apply(Math, offsets),\n\t\t\t\tv2 = t1Inside ? c2.getTangentAtTime(t1)\n\t\t\t\t\t\t: c2.getPointAt(offset).subtract(pt),\n\t\t\t\tv1 = t1Inside ? v2.negate()\n\t\t\t\t\t\t: c1.getPointAt(-offset).subtract(pt),\n\t\t\t\tv4 = t2Inside ? c4.getTangentAtTime(t2)\n\t\t\t\t\t\t: c4.getPointAt(offset).subtract(pt),\n\t\t\t\tv3 = t2Inside ? v4.negate()\n\t\t\t\t\t\t: c3.getPointAt(-offset).subtract(pt),\n\t\t\t\ta1 = v1.getAngle(),\n\t\t\t\ta2 = v2.getAngle(),\n\t\t\t\ta3 = v3.getAngle(),\n\t\t\t\ta4 = v4.getAngle();\n\t\t\treturn !!(t1Inside\n\t\t\t\t\t? (isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4)) &&\n\t\t\t\t\t  (isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3))\n\t\t\t\t\t: (isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2)) &&\n\t\t\t\t\t  (isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1)));\n\t\t},\n\t\n\t\thasOverlap: function() {\n\t\t\treturn !!this._overlap;\n\t\t}\n\t}, Base.each(Curve._evaluateMethods, function(name) {\n\t\tvar get = name + 'At';\n\t\tthis[name] = function() {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\treturn time != null && curve && curve[get](time, true);\n\t\t};\n\t}, {\n\t\tpreserve: true\n\t}),\n\tnew function() {\n\t\n\t\tfunction insert(locations, loc, merge) {\n\t\t\tvar length = locations.length,\n\t\t\t\tl = 0,\n\t\t\t\tr = length - 1;\n\t\n\t\t\tfunction search(index, dir) {\n\t\t\t\tfor (var i = index + dir; i >= -1 && i <= length; i += dir) {\n\t\t\t\t\tvar loc2 = locations[((i % length) + length) % length];\n\t\t\t\t\tif (!loc.getPoint().isClose(loc2.getPoint(),\n\t\t\t\t\t\t\t1e-7))\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif (loc.equals(loc2))\n\t\t\t\t\t\treturn loc2;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\twhile (l <= r) {\n\t\t\t\tvar m = (l + r) >>> 1,\n\t\t\t\t\tloc2 = locations[m],\n\t\t\t\t\tfound;\n\t\t\t\tif (merge && (found = loc.equals(loc2) ? loc2\n\t\t\t\t\t\t: (search(m, -1) || search(m, 1)))) {\n\t\t\t\t\tif (loc._overlap) {\n\t\t\t\t\t\tfound._overlap = found._intersection._overlap = true;\n\t\t\t\t\t}\n\t\t\t\t\treturn found;\n\t\t\t\t}\n\t\t\tvar path1 = loc.getPath(),\n\t\t\t\tpath2 = loc2.getPath(),\n\t\t\t\tdiff = path1 !== path2\n\t\t\t\t\t? path1._id - path2._id\n\t\t\t\t\t: (loc.getIndex() + loc.getTime())\n\t\t\t\t\t- (loc2.getIndex() + loc2.getTime());\n\t\t\t\tif (diff < 0) {\n\t\t\t\t\tr = m - 1;\n\t\t\t\t} else {\n\t\t\t\t\tl = m + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlocations.splice(l, 0, loc);\n\t\t\treturn loc;\n\t\t}\n\t\n\t\treturn { statics: {\n\t\t\tinsert: insert,\n\t\n\t\t\texpand: function(locations) {\n\t\t\t\tvar expanded = locations.slice();\n\t\t\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\t\t\tinsert(expanded, locations[i]._intersection, false);\n\t\t\t\t}\n\t\t\t\treturn expanded;\n\t\t\t}\n\t\t}};\n\t});\n\t\n\tvar PathItem = Item.extend({\n\t\t_class: 'PathItem',\n\t\t_selectBounds: false,\n\t\t_canScaleStroke: true,\n\t\tbeans: true,\n\t\n\t\tinitialize: function PathItem() {\n\t\t},\n\t\n\t\tstatics: {\n\t\t\tcreate: function(arg) {\n\t\t\t\tvar data,\n\t\t\t\t\tsegments,\n\t\t\t\t\tcompound;\n\t\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\t\tsegments = arg.segments;\n\t\t\t\t\tdata = arg.pathData;\n\t\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t\tsegments = arg;\n\t\t\t\t} else if (typeof arg === 'string') {\n\t\t\t\t\tdata = arg;\n\t\t\t\t}\n\t\t\t\tif (segments) {\n\t\t\t\t\tvar first = segments[0];\n\t\t\t\t\tcompound = first && Array.isArray(first[0]);\n\t\t\t\t} else if (data) {\n\t\t\t\t\tcompound = (data.match(/m/gi) || []).length > 1\n\t\t\t\t\t\t\t|| /z\\s*\\S+/i.test(data);\n\t\t\t\t}\n\t\t\t\tvar ctor = compound ? CompoundPath : Path;\n\t\t\t\treturn new ctor(arg);\n\t\t\t}\n\t\t},\n\t\n\t\t_asPathItem: function() {\n\t\t\treturn this;\n\t\t},\n\t\n\t\tisClockwise: function() {\n\t\t\treturn this.getArea() >= 0;\n\t\t},\n\t\n\t\tsetClockwise: function(clockwise) {\n\t\t\tif (this.isClockwise() != (clockwise = !!clockwise))\n\t\t\t\tthis.reverse();\n\t\t},\n\t\n\t\tsetPathData: function(data) {\n\t\n\t\t\tvar parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n\t\t\t\tcoords,\n\t\t\t\trelative = false,\n\t\t\t\tprevious,\n\t\t\t\tcontrol,\n\t\t\t\tcurrent = new Point(),\n\t\t\t\tstart = new Point();\n\t\n\t\t\tfunction getCoord(index, coord) {\n\t\t\t\tvar val = +coords[index];\n\t\t\t\tif (relative)\n\t\t\t\t\tval += current[coord];\n\t\t\t\treturn val;\n\t\t\t}\n\t\n\t\t\tfunction getPoint(index) {\n\t\t\t\treturn new Point(\n\t\t\t\t\tgetCoord(index, 'x'),\n\t\t\t\t\tgetCoord(index + 1, 'y')\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\tthis.clear();\n\t\n\t\t\tfor (var i = 0, l = parts && parts.length; i < l; i++) {\n\t\t\t\tvar part = parts[i],\n\t\t\t\t\tcommand = part[0],\n\t\t\t\t\tlower = command.toLowerCase();\n\t\t\t\tcoords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n\t\t\t\tvar length = coords && coords.length;\n\t\t\t\trelative = command === lower;\n\t\t\t\tif (previous === 'z' && !/[mz]/.test(lower))\n\t\t\t\t\tthis.moveTo(current);\n\t\t\t\tswitch (lower) {\n\t\t\t\tcase 'm':\n\t\t\t\tcase 'l':\n\t\t\t\t\tvar move = lower === 'm';\n\t\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\t\tthis[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\t\t\t\t\t\tif (move) {\n\t\t\t\t\t\t\tstart = current;\n\t\t\t\t\t\t\tmove = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcontrol = current;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'h':\n\t\t\t\tcase 'v':\n\t\t\t\t\tvar coord = lower === 'h' ? 'x' : 'y';\n\t\t\t\t\tcurrent = current.clone();\n\t\t\t\t\tfor (var j = 0; j < length; j++) {\n\t\t\t\t\t\tcurrent[coord] = getCoord(j, coord);\n\t\t\t\t\t\tthis.lineTo(current);\n\t\t\t\t\t}\n\t\t\t\t\tcontrol = current;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'c':\n\t\t\t\t\tfor (var j = 0; j < length; j += 6) {\n\t\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\t\tgetPoint(j),\n\t\t\t\t\t\t\t\tcontrol = getPoint(j + 2),\n\t\t\t\t\t\t\t\tcurrent = getPoint(j + 4));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 's':\n\t\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\t\t/[cs]/.test(previous)\n\t\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t\t: current,\n\t\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t\t\tprevious = lower;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'q':\n\t\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 't':\n\t\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\t\tcontrol = (/[qt]/.test(previous)\n\t\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t\t: current),\n\t\t\t\t\t\t\t\tcurrent = getPoint(j));\n\t\t\t\t\t\tprevious = lower;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'a':\n\t\t\t\t\tfor (var j = 0; j < length; j += 7) {\n\t\t\t\t\t\tthis.arcTo(current = getPoint(j + 5),\n\t\t\t\t\t\t\t\tnew Size(+coords[j], +coords[j + 1]),\n\t\t\t\t\t\t\t\t+coords[j + 2], +coords[j + 4], +coords[j + 3]);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'z':\n\t\t\t\t\tthis.closePath(1e-12);\n\t\t\t\t\tcurrent = start;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tprevious = lower;\n\t\t\t}\n\t\t},\n\t\n\t\t_canComposite: function() {\n\t\t\treturn !(this.hasFill() && this.hasStroke());\n\t\t},\n\t\n\t\t_contains: function(point) {\n\t\t\tvar winding = point.isInside(\n\t\t\t\t\tthis.getBounds({ internal: true, handle: true }))\n\t\t\t\t\t\t? this._getWinding(point)\n\t\t\t\t\t\t: {};\n\t\t\treturn winding.onPath || !!(this.getFillRule() === 'evenodd'\n\t\t\t\t\t? winding.windingL & 1 || winding.windingR & 1\n\t\t\t\t\t: winding.winding);\n\t\t},\n\t\n\t\tgetIntersections: function(path, include, _matrix, _returnFirst) {\n\t\t\tvar self = this === path || !path,\n\t\t\t\tmatrix1 = this._matrix._orNullIfIdentity(),\n\t\t\t\tmatrix2 = self ? matrix1\n\t\t\t\t\t: (_matrix || path._matrix)._orNullIfIdentity();\n\t\t\treturn self || this.getBounds(matrix1).intersects(\n\t\t\t\t\tpath.getBounds(matrix2), 1e-12)\n\t\t\t\t\t? Curve.getIntersections(\n\t\t\t\t\t\t\tthis.getCurves(), !self && path.getCurves(), include,\n\t\t\t\t\t\t\tmatrix1, matrix2, _returnFirst)\n\t\t\t\t\t: [];\n\t\t},\n\t\n\t\tgetCrossings: function(path) {\n\t\t\treturn this.getIntersections(path, function(inter) {\n\t\t\t\treturn inter.hasOverlap() || inter.isCrossing();\n\t\t\t});\n\t\t},\n\t\n\t\tgetNearestLocation: function() {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tcurves = this.getCurves(),\n\t\t\t\tminDist = Infinity,\n\t\t\t\tminLoc = null;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar loc = curves[i].getNearestLocation(point);\n\t\t\t\tif (loc._distance < minDist) {\n\t\t\t\t\tminDist = loc._distance;\n\t\t\t\t\tminLoc = loc;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn minLoc;\n\t\t},\n\t\n\t\tgetNearestPoint: function() {\n\t\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\t\treturn loc ? loc.getPoint() : loc;\n\t\t},\n\t\n\t\tinterpolate: function(from, to, factor) {\n\t\t\tvar isPath = !this._children,\n\t\t\t\tname = isPath ? '_segments' : '_children',\n\t\t\t\titemsFrom = from[name],\n\t\t\t\titemsTo = to[name],\n\t\t\t\titems = this[name];\n\t\t\tif (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n\t\t\t\tthrow new Error('Invalid operands in interpolate() call: ' +\n\t\t\t\t\t\tfrom + ', ' + to);\n\t\t\t}\n\t\t\tvar current = items.length,\n\t\t\t\tlength = itemsTo.length;\n\t\t\tif (current < length) {\n\t\t\t\tvar ctor = isPath ? Segment : Path;\n\t\t\t\tfor (var i = current; i < length; i++) {\n\t\t\t\t\tthis.add(new ctor());\n\t\t\t\t}\n\t\t\t} else if (current > length) {\n\t\t\t\tthis[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n\t\t\t}\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\titems[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n\t\t\t}\n\t\t\tif (isPath) {\n\t\t\t\tthis.setClosed(from._closed);\n\t\t\t\tthis._changed(9);\n\t\t\t}\n\t\t},\n\t\n\t\tcompare: function(path) {\n\t\t\tvar ok = false;\n\t\t\tif (path) {\n\t\t\t\tvar paths1 = this._children || [this],\n\t\t\t\t\tpaths2 = path._children ? path._children.slice() : [path],\n\t\t\t\t\tlength1 = paths1.length,\n\t\t\t\t\tlength2 = paths2.length,\n\t\t\t\t\tmatched = [],\n\t\t\t\t\tcount = 0;\n\t\t\t\tok = true;\n\t\t\t\tfor (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n\t\t\t\t\tvar path1 = paths1[i1];\n\t\t\t\t\tok = false;\n\t\t\t\t\tfor (var i2 = length2 - 1; i2 >= 0 && !ok; i2--) {\n\t\t\t\t\t\tif (path1.compare(paths2[i2])) {\n\t\t\t\t\t\t\tif (!matched[i2]) {\n\t\t\t\t\t\t\t\tmatched[i2] = true;\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tok = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tok = ok && count === length2;\n\t\t\t}\n\t\t\treturn ok;\n\t\t},\n\t\n\t});\n\t\n\tvar Path = PathItem.extend({\n\t\t_class: 'Path',\n\t\t_serializeFields: {\n\t\t\tsegments: [],\n\t\t\tclosed: false\n\t\t},\n\t\n\t\tinitialize: function Path(arg) {\n\t\t\tthis._closed = false;\n\t\t\tthis._segments = [];\n\t\t\tthis._version = 0;\n\t\t\tvar segments = Array.isArray(arg)\n\t\t\t\t? typeof arg[0] === 'object'\n\t\t\t\t\t? arg\n\t\t\t\t\t: arguments\n\t\t\t\t: arg && (arg.size === undefined && (arg.x !== undefined\n\t\t\t\t\t\t|| arg.point !== undefined))\n\t\t\t\t\t? arguments\n\t\t\t\t\t: null;\n\t\t\tif (segments && segments.length > 0) {\n\t\t\t\tthis.setSegments(segments);\n\t\t\t} else {\n\t\t\t\tthis._curves = undefined;\n\t\t\t\tthis._segmentSelection = 0;\n\t\t\t\tif (!segments && typeof arg === 'string') {\n\t\t\t\t\tthis.setPathData(arg);\n\t\t\t\t\targ = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._initialize(!segments && arg);\n\t\t},\n\t\n\t\t_equals: function(item) {\n\t\t\treturn this._closed === item._closed\n\t\t\t\t\t&& Base.equals(this._segments, item._segments);\n\t\t},\n\t\n\t\tcopyContent: function(source) {\n\t\t\tthis.setSegments(source._segments);\n\t\t\tthis._closed = source._closed;\n\t\t},\n\t\n\t\t_changed: function _changed(flags) {\n\t\t\t_changed.base.call(this, flags);\n\t\t\tif (flags & 8) {\n\t\t\t\tthis._length = this._area = undefined;\n\t\t\t\tif (flags & 16) {\n\t\t\t\t\tthis._version++;\n\t\t\t\t} else if (this._curves) {\n\t\t\t\t   for (var i = 0, l = this._curves.length; i < l; i++)\n\t\t\t\t\t\tthis._curves[i]._changed();\n\t\t\t\t}\n\t\t\t} else if (flags & 32) {\n\t\t\t\tthis._bounds = undefined;\n\t\t\t}\n\t\t},\n\t\n\t\tgetStyle: function() {\n\t\t\tvar parent = this._parent;\n\t\t\treturn (parent instanceof CompoundPath ? parent : this)._style;\n\t\t},\n\t\n\t\tgetSegments: function() {\n\t\t\treturn this._segments;\n\t\t},\n\t\n\t\tsetSegments: function(segments) {\n\t\t\tvar fullySelected = this.isFullySelected(),\n\t\t\t\tlength = segments && segments.length;\n\t\t\tthis._segments.length = 0;\n\t\t\tthis._segmentSelection = 0;\n\t\t\tthis._curves = undefined;\n\t\t\tif (length) {\n\t\t\t\tvar last = segments[length - 1];\n\t\t\t\tif (typeof last === 'boolean') {\n\t\t\t\t\tthis.setClosed(last);\n\t\t\t\t\tlength--;\n\t\t\t\t}\n\t\t\t\tthis._add(Segment.readList(segments, 0, {}, length));\n\t\t\t}\n\t\t\tif (fullySelected)\n\t\t\t\tthis.setFullySelected(true);\n\t\t},\n\t\n\t\tgetFirstSegment: function() {\n\t\t\treturn this._segments[0];\n\t\t},\n\t\n\t\tgetLastSegment: function() {\n\t\t\treturn this._segments[this._segments.length - 1];\n\t\t},\n\t\n\t\tgetCurves: function() {\n\t\t\tvar curves = this._curves,\n\t\t\t\tsegments = this._segments;\n\t\t\tif (!curves) {\n\t\t\t\tvar length = this._countCurves();\n\t\t\t\tcurves = this._curves = new Array(length);\n\t\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\t\tcurves[i] = new Curve(this, segments[i],\n\t\t\t\t\t\tsegments[i + 1] || segments[0]);\n\t\t\t}\n\t\t\treturn curves;\n\t\t},\n\t\n\t\tgetFirstCurve: function() {\n\t\t\treturn this.getCurves()[0];\n\t\t},\n\t\n\t\tgetLastCurve: function() {\n\t\t\tvar curves = this.getCurves();\n\t\t\treturn curves[curves.length - 1];\n\t\t},\n\t\n\t\tisClosed: function() {\n\t\t\treturn this._closed;\n\t\t},\n\t\n\t\tsetClosed: function(closed) {\n\t\t\tif (this._closed != (closed = !!closed)) {\n\t\t\t\tthis._closed = closed;\n\t\t\t\tif (this._curves) {\n\t\t\t\t\tvar length = this._curves.length = this._countCurves();\n\t\t\t\t\tif (closed)\n\t\t\t\t\t\tthis._curves[length - 1] = new Curve(this,\n\t\t\t\t\t\t\tthis._segments[length - 1], this._segments[0]);\n\t\t\t\t}\n\t\t\t\tthis._changed(25);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tbeans: true,\n\t\n\t\tgetPathData: function(_matrix, _precision) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tlength = segments.length,\n\t\t\t\tf = new Formatter(_precision),\n\t\t\t\tcoords = new Array(6),\n\t\t\t\tfirst = true,\n\t\t\t\tcurX, curY,\n\t\t\t\tprevX, prevY,\n\t\t\t\tinX, inY,\n\t\t\t\toutX, outY,\n\t\t\t\tparts = [];\n\t\n\t\t\tfunction addSegment(segment, skipLine) {\n\t\t\t\tsegment._transformCoordinates(_matrix, coords);\n\t\t\t\tcurX = coords[0];\n\t\t\t\tcurY = coords[1];\n\t\t\t\tif (first) {\n\t\t\t\t\tparts.push('M' + f.pair(curX, curY));\n\t\t\t\t\tfirst = false;\n\t\t\t\t} else {\n\t\t\t\t\tinX = coords[2];\n\t\t\t\t\tinY = coords[3];\n\t\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\t\tif (!skipLine) {\n\t\t\t\t\t\t\tvar dx = curX - prevX,\n\t\t\t\t\t\t\t\tdy = curY - prevY;\n\t\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t\t  dx === 0 ? 'v' + f.number(dy)\n\t\t\t\t\t\t\t\t: dy === 0 ? 'h' + f.number(dx)\n\t\t\t\t\t\t\t\t: 'l' + f.pair(dx, dy));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparts.push('c' + f.pair(outX - prevX, outY - prevY)\n\t\t\t\t\t\t\t\t + ' ' + f.pair( inX - prevX,  inY - prevY)\n\t\t\t\t\t\t\t\t + ' ' + f.pair(curX - prevX, curY - prevY));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprevX = curX;\n\t\t\t\tprevY = curY;\n\t\t\t\toutX = coords[4];\n\t\t\t\toutY = coords[5];\n\t\t\t}\n\t\n\t\t\tif (!length)\n\t\t\t\treturn '';\n\t\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\taddSegment(segments[i]);\n\t\t\tif (this._closed && length > 0) {\n\t\t\t\taddSegment(segments[0], true);\n\t\t\t\tparts.push('z');\n\t\t\t}\n\t\t\treturn parts.join('');\n\t\t},\n\t\n\t\tisEmpty: function() {\n\t\t\treturn !this._segments.length;\n\t\t},\n\t\n\t\t_transformContent: function(matrix) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tcoords = new Array(6);\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i]._transformCoordinates(matrix, coords, true);\n\t\t\treturn true;\n\t\t},\n\t\n\t\t_add: function(segs, index) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tcurves = this._curves,\n\t\t\t\tamount = segs.length,\n\t\t\t\tappend = index == null,\n\t\t\t\tindex = append ? segments.length : index;\n\t\t\tfor (var i = 0; i < amount; i++) {\n\t\t\t\tvar segment = segs[i];\n\t\t\t\tif (segment._path)\n\t\t\t\t\tsegment = segs[i] = segment.clone();\n\t\t\t\tsegment._path = this;\n\t\t\t\tsegment._index = index + i;\n\t\t\t\tif (segment._selection)\n\t\t\t\t\tthis._updateSelection(segment, 0, segment._selection);\n\t\t\t}\n\t\t\tif (append) {\n\t\t\t\tsegments.push.apply(segments, segs);\n\t\t\t} else {\n\t\t\t\tsegments.splice.apply(segments, [index, 0].concat(segs));\n\t\t\t\tfor (var i = index + amount, l = segments.length; i < l; i++)\n\t\t\t\t\tsegments[i]._index = i;\n\t\t\t}\n\t\t\tif (curves) {\n\t\t\t\tvar total = this._countCurves(),\n\t\t\t\t\tstart = index > 0 && index + amount - 1 === total ? index - 1\n\t\t\t\t\t\t: index,\n\t\t\t\t\tinsert = start,\n\t\t\t\t\tend = Math.min(start + amount, total);\n\t\t\t\tif (segs._curves) {\n\t\t\t\t\tcurves.splice.apply(curves, [start, 0].concat(segs._curves));\n\t\t\t\t\tinsert += segs._curves.length;\n\t\t\t\t}\n\t\t\t\tfor (var i = insert; i < end; i++)\n\t\t\t\t\tcurves.splice(i, 0, new Curve(this, null, null));\n\t\t\t\tthis._adjustCurves(start, end);\n\t\t\t}\n\t\t\tthis._changed(25);\n\t\t\treturn segs;\n\t\t},\n\t\n\t\t_adjustCurves: function(start, end) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tcurves = this._curves,\n\t\t\t\tcurve;\n\t\t\tfor (var i = start; i < end; i++) {\n\t\t\t\tcurve = curves[i];\n\t\t\t\tcurve._path = this;\n\t\t\t\tcurve._segment1 = segments[i];\n\t\t\t\tcurve._segment2 = segments[i + 1] || segments[0];\n\t\t\t\tcurve._changed();\n\t\t\t}\n\t\t\tif (curve = curves[this._closed && !start ? segments.length - 1\n\t\t\t\t\t: start - 1]) {\n\t\t\t\tcurve._segment2 = segments[start] || segments[0];\n\t\t\t\tcurve._changed();\n\t\t\t}\n\t\t\tif (curve = curves[end]) {\n\t\t\t\tcurve._segment1 = segments[end];\n\t\t\t\tcurve._changed();\n\t\t\t}\n\t\t},\n\t\n\t\t_countCurves: function() {\n\t\t\tvar length = this._segments.length;\n\t\t\treturn !this._closed && length > 0 ? length - 1 : length;\n\t\t},\n\t\n\t\tadd: function(segment1 ) {\n\t\t\treturn arguments.length > 1 && typeof segment1 !== 'number'\n\t\t\t\t? this._add(Segment.readList(arguments))\n\t\t\t\t: this._add([ Segment.read(arguments) ])[0];\n\t\t},\n\t\n\t\tinsert: function(index, segment1 ) {\n\t\t\treturn arguments.length > 2 && typeof segment1 !== 'number'\n\t\t\t\t? this._add(Segment.readList(arguments, 1), index)\n\t\t\t\t: this._add([ Segment.read(arguments, 1) ], index)[0];\n\t\t},\n\t\n\t\taddSegment: function() {\n\t\t\treturn this._add([ Segment.read(arguments) ])[0];\n\t\t},\n\t\n\t\tinsertSegment: function(index ) {\n\t\t\treturn this._add([ Segment.read(arguments, 1) ], index)[0];\n\t\t},\n\t\n\t\taddSegments: function(segments) {\n\t\t\treturn this._add(Segment.readList(segments));\n\t\t},\n\t\n\t\tinsertSegments: function(index, segments) {\n\t\t\treturn this._add(Segment.readList(segments), index);\n\t\t},\n\t\n\t\tremoveSegment: function(index) {\n\t\t\treturn this.removeSegments(index, index + 1)[0] || null;\n\t\t},\n\t\n\t\tremoveSegments: function(start, end, _includeCurves) {\n\t\t\tstart = start || 0;\n\t\t\tend = Base.pick(end, this._segments.length);\n\t\t\tvar segments = this._segments,\n\t\t\t\tcurves = this._curves,\n\t\t\t\tcount = segments.length,\n\t\t\t\tremoved = segments.splice(start, end - start),\n\t\t\t\tamount = removed.length;\n\t\t\tif (!amount)\n\t\t\t\treturn removed;\n\t\t\tfor (var i = 0; i < amount; i++) {\n\t\t\t\tvar segment = removed[i];\n\t\t\t\tif (segment._selection)\n\t\t\t\t\tthis._updateSelection(segment, segment._selection, 0);\n\t\t\t\tsegment._index = segment._path = null;\n\t\t\t}\n\t\t\tfor (var i = start, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i]._index = i;\n\t\t\tif (curves) {\n\t\t\t\tvar index = start > 0 && end === count + (this._closed ? 1 : 0)\n\t\t\t\t\t\t? start - 1\n\t\t\t\t\t\t: start,\n\t\t\t\t\tcurves = curves.splice(index, amount);\n\t\t\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\t\t\tcurves[i]._path = null;\n\t\t\t\tif (_includeCurves)\n\t\t\t\t\tremoved._curves = curves.slice(1);\n\t\t\t\tthis._adjustCurves(index, index);\n\t\t\t}\n\t\t\tthis._changed(25);\n\t\t\treturn removed;\n\t\t},\n\t\n\t\tclear: '#removeSegments',\n\t\n\t\thasHandles: function() {\n\t\t\tvar segments = this._segments;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tif (segments[i].hasHandles())\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\n\t\tclearHandles: function() {\n\t\t\tvar segments = this._segments;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i].clearHandles();\n\t\t},\n\t\n\t\tgetLength: function() {\n\t\t\tif (this._length == null) {\n\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\tlength = 0;\n\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++)\n\t\t\t\t\tlength += curves[i].getLength();\n\t\t\t\tthis._length = length;\n\t\t\t}\n\t\t\treturn this._length;\n\t\t},\n\t\n\t\tgetArea: function() {\n\t\t\tvar area = this._area;\n\t\t\tif (area == null) {\n\t\t\t\tvar segments = this._segments,\n\t\t\t\t\tclosed = this._closed;\n\t\t\t\tarea = 0;\n\t\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\t\tvar last = i + 1 === l;\n\t\t\t\t\tarea += Curve.getArea(Curve.getValues(\n\t\t\t\t\t\t\tsegments[i], segments[last ? 0 : i + 1],\n\t\t\t\t\t\t\tnull, last && !closed));\n\t\t\t\t}\n\t\t\t\tthis._area = area;\n\t\t\t}\n\t\t\treturn area;\n\t\t},\n\t\n\t\tisFullySelected: function() {\n\t\t\tvar length = this._segments.length;\n\t\t\treturn this.isSelected() && length > 0 && this._segmentSelection\n\t\t\t\t\t=== length * 7;\n\t\t},\n\t\n\t\tsetFullySelected: function(selected) {\n\t\t\tif (selected)\n\t\t\t\tthis._selectSegments(true);\n\t\t\tthis.setSelected(selected);\n\t\t},\n\t\n\t\tsetSelection: function setSelection(selection) {\n\t\t\tif (!(selection & 1))\n\t\t\t\tthis._selectSegments(false);\n\t\t\tsetSelection.base.call(this, selection);\n\t\t},\n\t\n\t\t_selectSegments: function(selected) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tlength = segments.length,\n\t\t\t\tselection = selected ? 7 : 0;\n\t\t\tthis._segmentSelection = selection * length;\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\tsegments[i]._selection = selection;\n\t\t},\n\t\n\t\t_updateSelection: function(segment, oldSelection, newSelection) {\n\t\t\tsegment._selection = newSelection;\n\t\t\tvar selection = this._segmentSelection += newSelection - oldSelection;\n\t\t\tif (selection > 0)\n\t\t\t\tthis.setSelected(true);\n\t\t},\n\t\n\t\tdivideAt: function(location) {\n\t\t\tvar loc = this.getLocationAt(location),\n\t\t\t\tcurve;\n\t\t\treturn loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset()))\n\t\t\t\t\t? curve._segment1\n\t\t\t\t\t: null;\n\t\t},\n\t\n\t\tsplitAt: function(location) {\n\t\t\tvar loc = this.getLocationAt(location),\n\t\t\t\tindex = loc && loc.index,\n\t\t\t\ttime = loc && loc.time,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tif (time > tMax) {\n\t\t\t\tindex++;\n\t\t\t\ttime = 0;\n\t\t\t}\n\t\t\tvar curves = this.getCurves();\n\t\t\tif (index >= 0 && index < curves.length) {\n\t\t\t\tif (time >= tMin) {\n\t\t\t\t\tcurves[index++].divideAtTime(time);\n\t\t\t\t}\n\t\t\t\tvar segs = this.removeSegments(index, this._segments.length, true),\n\t\t\t\t\tpath;\n\t\t\t\tif (this._closed) {\n\t\t\t\t\tthis.setClosed(false);\n\t\t\t\t\tpath = this;\n\t\t\t\t} else {\n\t\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\t\tpath.insertAbove(this);\n\t\t\t\t\tpath.copyAttributes(this);\n\t\t\t\t}\n\t\t\t\tpath._add(segs, 0);\n\t\t\t\tthis.addSegment(segs[0]);\n\t\t\t\treturn path;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\n\t\tsplit: function(index, time) {\n\t\t\tvar curve,\n\t\t\t\tlocation = time === undefined ? index\n\t\t\t\t\t: (curve = this.getCurves()[index])\n\t\t\t\t\t\t&& curve.getLocationAtTime(time);\n\t\t\treturn location != null ? this.splitAt(location) : null;\n\t\t},\n\t\n\t\tjoin: function(path, tolerance) {\n\t\t\tvar epsilon = tolerance || 0;\n\t\t\tif (path && path !== this) {\n\t\t\t\tvar segments = path._segments,\n\t\t\t\t\tlast1 = this.getLastSegment(),\n\t\t\t\t\tlast2 = path.getLastSegment();\n\t\t\t\tif (!last2)\n\t\t\t\t\treturn this;\n\t\t\t\tif (last1 && last1._point.isClose(last2._point, epsilon))\n\t\t\t\t\tpath.reverse();\n\t\t\t\tvar first2 = path.getFirstSegment();\n\t\t\t\tif (last1 && last1._point.isClose(first2._point, epsilon)) {\n\t\t\t\t\tlast1.setHandleOut(first2._handleOut);\n\t\t\t\t\tthis._add(segments.slice(1));\n\t\t\t\t} else {\n\t\t\t\t\tvar first1 = this.getFirstSegment();\n\t\t\t\t\tif (first1 && first1._point.isClose(first2._point, epsilon))\n\t\t\t\t\t\tpath.reverse();\n\t\t\t\t\tlast2 = path.getLastSegment();\n\t\t\t\t\tif (first1 && first1._point.isClose(last2._point, epsilon)) {\n\t\t\t\t\t\tfirst1.setHandleIn(last2._handleIn);\n\t\t\t\t\t\tthis._add(segments.slice(0, segments.length - 1), 0);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._add(segments.slice());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (path._closed)\n\t\t\t\t\tthis._add([segments[0]]);\n\t\t\t\tpath.remove();\n\t\t\t}\n\t\t\tvar first = this.getFirstSegment(),\n\t\t\t\tlast = this.getLastSegment();\n\t\t\tif (first !== last && first._point.isClose(last._point, epsilon)) {\n\t\t\t\tfirst.setHandleIn(last._handleIn);\n\t\t\t\tlast.remove();\n\t\t\t\tthis.setClosed(true);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\n\t\treduce: function(options) {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tsimplify = options && options.simplify,\n\t\t\t\ttolerance = simplify ? 1e-7 : 0;\n\t\t\tfor (var i = curves.length - 1; i >= 0; i--) {\n\t\t\t\tvar curve = curves[i];\n\t\t\t\tif (!curve.hasHandles() && (!curve.hasLength(tolerance)\n\t\t\t\t\t\t|| simplify && curve.isCollinear(curve.getNext())))\n\t\t\t\t\tcurve.remove();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\n\t\treverse: function() {\n\t\t\tthis._segments.reverse();\n\t\t\tfor (var i = 0, l = this._segments.length; i < l; i++) {\n\t\t\t\tvar segment = this._segments[i];\n\t\t\t\tvar handleIn = segment._handleIn;\n\t\t\t\tsegment._handleIn = segment._handleOut;\n\t\t\t\tsegment._handleOut = handleIn;\n\t\t\t\tsegment._index = i;\n\t\t\t}\n\t\t\tthis._curves = null;\n\t\t\tthis._changed(9);\n\t\t},\n\t\n\t\tflatten: function(flatness) {\n\t\t\tvar flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n\t\t\t\tparts = flattener.parts,\n\t\t\t\tlength = parts.length,\n\t\t\t\tsegments = [];\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tsegments.push(new Segment(parts[i].curve.slice(0, 2)));\n\t\t\t}\n\t\t\tif (!this._closed && length > 0) {\n\t\t\t\tsegments.push(new Segment(parts[length - 1].curve.slice(6)));\n\t\t\t}\n\t\t\tthis.setSegments(segments);\n\t\t},\n\t\n\t\tsimplify: function(tolerance) {\n\t\t\tvar segments = new PathFitter(this).fit(tolerance || 2.5);\n\t\t\tif (segments)\n\t\t\t\tthis.setSegments(segments);\n\t\t\treturn !!segments;\n\t\t},\n\t\n\t\tsmooth: function(options) {\n\t\t\tvar that = this,\n\t\t\t\topts = options || {},\n\t\t\t\ttype = opts.type || 'asymmetric',\n\t\t\t\tsegments = this._segments,\n\t\t\t\tlength = segments.length,\n\t\t\t\tclosed = this._closed;\n\t\n\t\t\tfunction getIndex(value, _default) {\n\t\t\t\tvar index = value && value.index;\n\t\t\t\tif (index != null) {\n\t\t\t\t\tvar path = value.path;\n\t\t\t\t\tif (path && path !== that)\n\t\t\t\t\t\tthrow new Error(value._class + ' ' + index + ' of ' + path\n\t\t\t\t\t\t\t\t+ ' is not part of ' + that);\n\t\t\t\t\tif (_default && value instanceof Curve)\n\t\t\t\t\t\tindex++;\n\t\t\t\t} else {\n\t\t\t\t\tindex = typeof value === 'number' ? value : _default;\n\t\t\t\t}\n\t\t\t\treturn Math.min(index < 0 && closed\n\t\t\t\t\t\t? index % length\n\t\t\t\t\t\t: index < 0 ? index + length : index, length - 1);\n\t\t\t}\n\t\n\t\t\tvar loop = closed && opts.from === undefined && opts.to === undefined,\n\t\t\t\tfrom = getIndex(opts.from, 0),\n\t\t\t\tto = getIndex(opts.to, length - 1);\n\t\n\t\t\tif (from > to) {\n\t\t\t\tif (closed) {\n\t\t\t\t\tfrom -= length;\n\t\t\t\t} else {\n\t\t\t\t\tvar tmp = from;\n\t\t\t\t\tfrom = to;\n\t\t\t\t\tto = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (/^(?:asymmetric|continuous)$/.test(type)) {\n\t\t\t\tvar asymmetric = type === 'asymmetric',\n\t\t\t\t\tmin = Math.min,\n\t\t\t\t\tamount = to - from + 1,\n\t\t\t\t\tn = amount - 1,\n\t\t\t\t\tpadding = loop ? min(amount, 4) : 1,\n\t\t\t\t\tpaddingLeft = padding,\n\t\t\t\t\tpaddingRight = padding,\n\t\t\t\t\tknots = [];\n\t\t\t\tif (!closed) {\n\t\t\t\t\tpaddingLeft = min(1, from);\n\t\t\t\t\tpaddingRight = min(1, length - to - 1);\n\t\t\t\t}\n\t\t\t\tn += paddingLeft + paddingRight;\n\t\t\t\tif (n <= 1)\n\t\t\t\t\treturn;\n\t\t\t\tfor (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n\t\t\t\t\tknots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n\t\t\t\t}\n\t\n\t\t\t\tvar x = knots[0]._x + 2 * knots[1]._x,\n\t\t\t\t\ty = knots[0]._y + 2 * knots[1]._y,\n\t\t\t\t\tf = 2,\n\t\t\t\t\tn_1 = n - 1,\n\t\t\t\t\trx = [x],\n\t\t\t\t\try = [y],\n\t\t\t\t\trf = [f],\n\t\t\t\t\tpx = [],\n\t\t\t\t\tpy = [];\n\t\t\t\tfor (var i = 1; i < n; i++) {\n\t\t\t\t\tvar internal = i < n_1,\n\t\t\t\t\t\ta = internal ? 1 : asymmetric ? 1 : 2,\n\t\t\t\t\t\tb = internal ? 4 : asymmetric ? 2 : 7,\n\t\t\t\t\t\tu = internal ? 4 : asymmetric ? 3 : 8,\n\t\t\t\t\t\tv = internal ? 2 : asymmetric ? 0 : 1,\n\t\t\t\t\t\tm = a / f;\n\t\t\t\t\tf = rf[i] = b - m;\n\t\t\t\t\tx = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n\t\t\t\t\ty = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n\t\t\t\t}\n\t\n\t\t\t\tpx[n_1] = rx[n_1] / rf[n_1];\n\t\t\t\tpy[n_1] = ry[n_1] / rf[n_1];\n\t\t\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\t\t\tpx[i] = (rx[i] - px[i + 1]) / rf[i];\n\t\t\t\t\tpy[i] = (ry[i] - py[i + 1]) / rf[i];\n\t\t\t\t}\n\t\t\t\tpx[n] = (3 * knots[n]._x - px[n_1]) / 2;\n\t\t\t\tpy[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\t\n\t\t\t\tfor (var i = paddingLeft, max = n - paddingRight, j = from;\n\t\t\t\t\t\ti <= max; i++, j++) {\n\t\t\t\t\tvar segment = segments[j < 0 ? j + length : j],\n\t\t\t\t\t\tpt = segment._point,\n\t\t\t\t\t\thx = px[i] - pt._x,\n\t\t\t\t\t\thy = py[i] - pt._y;\n\t\t\t\t\tif (loop || i < max)\n\t\t\t\t\t\tsegment.setHandleOut(hx, hy);\n\t\t\t\t\tif (loop || i > paddingLeft)\n\t\t\t\t\t\tsegment.setHandleIn(-hx, -hy);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\t\tsegments[i < 0 ? i + length : i].smooth(opts,\n\t\t\t\t\t\t\t!loop && i === from, !loop && i === to);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\ttoShape: function(insert) {\n\t\t\tif (!this._closed)\n\t\t\t\treturn null;\n\t\n\t\t\tvar segments = this._segments,\n\t\t\t\ttype,\n\t\t\t\tsize,\n\t\t\t\tradius,\n\t\t\t\ttopCenter;\n\t\n\t\t\tfunction isCollinear(i, j) {\n\t\t\t\tvar seg1 = segments[i],\n\t\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\t\tseg3 = segments[j],\n\t\t\t\t\tseg4 = seg3.getNext();\n\t\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t\t&& seg3._handleOut.isZero() && seg4._handleIn.isZero()\n\t\t\t\t\t\t&& seg2._point.subtract(seg1._point).isCollinear(\n\t\t\t\t\t\t\tseg4._point.subtract(seg3._point));\n\t\t\t}\n\t\n\t\t\tfunction isOrthogonal(i) {\n\t\t\t\tvar seg2 = segments[i],\n\t\t\t\t\tseg1 = seg2.getPrevious(),\n\t\t\t\t\tseg3 = seg2.getNext();\n\t\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t\t&& seg2._handleOut.isZero() && seg3._handleIn.isZero()\n\t\t\t\t\t\t&& seg2._point.subtract(seg1._point).isOrthogonal(\n\t\t\t\t\t\t\tseg3._point.subtract(seg2._point));\n\t\t\t}\n\t\n\t\t\tfunction isArc(i) {\n\t\t\t\tvar seg1 = segments[i],\n\t\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\t\thandle1 = seg1._handleOut,\n\t\t\t\t\thandle2 = seg2._handleIn,\n\t\t\t\t\tkappa = 0.5522847498307936;\n\t\t\t\tif (handle1.isOrthogonal(handle2)) {\n\t\t\t\t\tvar pt1 = seg1._point,\n\t\t\t\t\t\tpt2 = seg2._point,\n\t\t\t\t\t\tcorner = new Line(pt1, handle1, true).intersect(\n\t\t\t\t\t\t\t\tnew Line(pt2, handle2, true), true);\n\t\t\t\t\treturn corner && Numerical.isZero(handle1.getLength() /\n\t\t\t\t\t\t\tcorner.subtract(pt1).getLength() - kappa)\n\t\t\t\t\t\t&& Numerical.isZero(handle2.getLength() /\n\t\t\t\t\t\t\tcorner.subtract(pt2).getLength() - kappa);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tfunction getDistance(i, j) {\n\t\t\t\treturn segments[i]._point.getDistance(segments[j]._point);\n\t\t\t}\n\t\n\t\t\tif (!this.hasHandles() && segments.length === 4\n\t\t\t\t\t&& isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n\t\t\t\ttype = Shape.Rectangle;\n\t\t\t\tsize = new Size(getDistance(0, 3), getDistance(0, 1));\n\t\t\t\ttopCenter = segments[1]._point.add(segments[2]._point).divide(2);\n\t\t\t} else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4)\n\t\t\t\t\t&& isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n\t\t\t\ttype = Shape.Rectangle;\n\t\t\t\tsize = new Size(getDistance(1, 6), getDistance(0, 3));\n\t\t\t\tradius = size.subtract(new Size(getDistance(0, 7),\n\t\t\t\t\t\tgetDistance(1, 2))).divide(2);\n\t\t\t\ttopCenter = segments[3]._point.add(segments[4]._point).divide(2);\n\t\t\t} else if (segments.length === 4\n\t\t\t\t\t&& isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n\t\t\t\tif (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n\t\t\t\t\ttype = Shape.Circle;\n\t\t\t\t\tradius = getDistance(0, 2) / 2;\n\t\t\t\t} else {\n\t\t\t\t\ttype = Shape.Ellipse;\n\t\t\t\t\tradius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n\t\t\t\t}\n\t\t\t\ttopCenter = segments[1]._point;\n\t\t\t}\n\t\n\t\t\tif (type) {\n\t\t\t\tvar center = this.getPosition(true),\n\t\t\t\t\tshape = new type({\n\t\t\t\t\t\tcenter: center,\n\t\t\t\t\t\tsize: size,\n\t\t\t\t\t\tradius: radius,\n\t\t\t\t\t\tinsert: false\n\t\t\t\t\t});\n\t\t\t\tshape.copyAttributes(this, true);\n\t\t\t\tshape._matrix.prepend(this._matrix);\n\t\t\t\tshape.rotate(topCenter.subtract(center).getAngle() + 90);\n\t\t\t\tif (insert === undefined || insert)\n\t\t\t\t\tshape.insertAbove(this);\n\t\t\t\treturn shape;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\n\t\ttoPath: '#clone',\n\t\n\t\tcompare: function compare(path) {\n\t\t\tif (!path || path instanceof CompoundPath)\n\t\t\t\treturn compare.base.call(this, path);\n\t\t\tvar curves1 = this.getCurves(),\n\t\t\t\tcurves2 = path.getCurves(),\n\t\t\t\tlength1 = curves1.length,\n\t\t\t\tlength2 = curves2.length;\n\t\t\tif (!length1 || !length2) {\n\t\t\t\treturn length1 == length2;\n\t\t\t}\n\t\t\tvar v1 = curves1[0].getValues(),\n\t\t\t\tvalues2 = [],\n\t\t\t\tpos1 = 0, pos2,\n\t\t\t\tend1 = 0, end2;\n\t\t\tfor (var i = 0; i < length2; i++) {\n\t\t\t\tvar v2 = curves2[i].getValues();\n\t\t\t\tvalues2.push(v2);\n\t\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\t\tif (overlaps) {\n\t\t\t\t\tpos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n\t\t\t\t\tend2 = overlaps[0][1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar abs = Math.abs,\n\t\t\t\tepsilon = 1e-8,\n\t\t\t\tv2 = values2[pos2],\n\t\t\t\tstart2;\n\t\t\twhile (v1 && v2) {\n\t\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\t\tif (overlaps) {\n\t\t\t\t\tvar t1 = overlaps[0][0];\n\t\t\t\t\tif (abs(t1 - end1) < epsilon) {\n\t\t\t\t\t\tend1 = overlaps[1][0];\n\t\t\t\t\t\tif (end1 === 1) {\n\t\t\t\t\t\t\tv1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n\t\t\t\t\t\t\tend1 = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar t2 = overlaps[0][1];\n\t\t\t\t\t\tif (abs(t2 - end2) < epsilon) {\n\t\t\t\t\t\t\tif (!start2)\n\t\t\t\t\t\t\t\tstart2 = [pos2, t2];\n\t\t\t\t\t\t\tend2 = overlaps[1][1];\n\t\t\t\t\t\t\tif (end2 === 1) {\n\t\t\t\t\t\t\t\tif (++pos2 >= length2)\n\t\t\t\t\t\t\t\t\tpos2 = 0;\n\t\t\t\t\t\t\t\tv2 = values2[pos2] || curves2[pos2].getValues();\n\t\t\t\t\t\t\t\tend2 = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!v1) {\n\t\t\t\t\t\t\t\treturn start2[0] === pos2 && start2[1] === end2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\n\t\t_hitTestSelf: function(point, options, viewMatrix, strokeMatrix) {\n\t\t\tvar that = this,\n\t\t\t\tstyle = this.getStyle(),\n\t\t\t\tsegments = this._segments,\n\t\t\t\tnumSegments = segments.length,\n\t\t\t\tclosed = this._closed,\n\t\t\t\ttolerancePadding = options._tolerancePadding,\n\t\t\t\tstrokePadding = tolerancePadding,\n\t\t\t\tjoin, cap, miterLimit,\n\t\t\t\tarea, loc, res,\n\t\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\t\thitFill = options.fill && style.hasFill(),\n\t\t\t\thitCurves = options.curves,\n\t\t\t\tstrokeRadius = hitStroke\n\t\t\t\t\t\t? style.getStrokeWidth() / 2\n\t\t\t\t\t\t: hitFill && options.tolerance > 0 || hitCurves\n\t\t\t\t\t\t\t? 0 : null;\n\t\t\tif (strokeRadius !== null) {\n\t\t\t\tif (strokeRadius > 0) {\n\t\t\t\t\tjoin = style.getStrokeJoin();\n\t\t\t\t\tcap = style.getStrokeCap();\n\t\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\t\t\tstrokePadding = strokePadding.add(\n\t\t\t\t\t\tPath._getStrokePadding(strokeRadius, strokeMatrix));\n\t\t\t\t} else {\n\t\t\t\t\tjoin = cap = 'round';\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfunction isCloseEnough(pt, padding) {\n\t\t\t\treturn point.subtract(pt).divide(padding).length <= 1;\n\t\t\t}\n\t\n\t\t\tfunction checkSegmentPoint(seg, pt, name) {\n\t\t\t\tif (!options.selected || pt.isSelected()) {\n\t\t\t\t\tvar anchor = seg._point;\n\t\t\t\t\tif (pt !== anchor)\n\t\t\t\t\t\tpt = pt.add(anchor);\n\t\t\t\t\tif (isCloseEnough(pt, strokePadding)) {\n\t\t\t\t\t\treturn new HitResult(name, that, {\n\t\t\t\t\t\t\tsegment: seg,\n\t\t\t\t\t\t\tpoint: pt\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfunction checkSegmentPoints(seg, ends) {\n\t\t\t\treturn (ends || options.segments)\n\t\t\t\t\t&& checkSegmentPoint(seg, seg._point, 'segment')\n\t\t\t\t\t|| (!ends && options.handles) && (\n\t\t\t\t\t\tcheckSegmentPoint(seg, seg._handleIn, 'handle-in') ||\n\t\t\t\t\t\tcheckSegmentPoint(seg, seg._handleOut, 'handle-out'));\n\t\t\t}\n\t\n\t\t\tfunction addToArea(point) {\n\t\t\t\tarea.add(point);\n\t\t\t}\n\t\n\t\t\tfunction checkSegmentStroke(segment) {\n\t\t\t\tvar isJoin = closed || segment._index > 0\n\t\t\t\t\t\t&& segment._index < numSegments - 1;\n\t\t\t\tif ((isJoin ? join : cap) === 'round') {\n\t\t\t\t\treturn isCloseEnough(segment._point, strokePadding);\n\t\t\t\t} else {\n\t\t\t\t\tarea = new Path({ internal: true, closed: true });\n\t\t\t\t\tif (isJoin) {\n\t\t\t\t\t\tif (!segment.isSmooth()) {\n\t\t\t\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius,\n\t\t\t\t\t\t\t\t   miterLimit, null, strokeMatrix, addToArea, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (cap === 'square') {\n\t\t\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, null,\n\t\t\t\t\t\t\t\tstrokeMatrix, addToArea, true);\n\t\t\t\t\t}\n\t\t\t\t\tif (!area.isEmpty()) {\n\t\t\t\t\t\tvar loc;\n\t\t\t\t\t\treturn area.contains(point)\n\t\t\t\t\t\t\t|| (loc = area.getNearestLocation(point))\n\t\t\t\t\t\t\t\t&& isCloseEnough(loc.getPoint(), tolerancePadding);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (options.ends && !options.segments && !closed) {\n\t\t\t\tif (res = checkSegmentPoints(segments[0], true)\n\t\t\t\t\t\t|| checkSegmentPoints(segments[numSegments - 1], true))\n\t\t\t\t\treturn res;\n\t\t\t} else if (options.segments || options.handles) {\n\t\t\t\tfor (var i = 0; i < numSegments; i++)\n\t\t\t\t\tif (res = checkSegmentPoints(segments[i]))\n\t\t\t\t\t\treturn res;\n\t\t\t}\n\t\t\tif (strokeRadius !== null) {\n\t\t\t\tloc = this.getNearestLocation(point);\n\t\t\t\tif (loc) {\n\t\t\t\t\tvar time = loc.getTime();\n\t\t\t\t\tif (time === 0 || time === 1 && numSegments > 1) {\n\t\t\t\t\t\tif (!checkSegmentStroke(loc.getSegment()))\n\t\t\t\t\t\t\tloc = null;\n\t\t\t\t\t} else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n\t\t\t\t\t\tloc = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!loc && join === 'miter' && numSegments > 1) {\n\t\t\t\t\tfor (var i = 0; i < numSegments; i++) {\n\t\t\t\t\t\tvar segment = segments[i];\n\t\t\t\t\t\tif (point.getDistance(segment._point)\n\t\t\t\t\t\t\t\t<= miterLimit * strokeRadius\n\t\t\t\t\t\t\t\t&& checkSegmentStroke(segment)) {\n\t\t\t\t\t\t\tloc = segment.getLocation();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !loc && hitFill && this._contains(point)\n\t\t\t\t\t|| loc && !hitStroke && !hitCurves\n\t\t\t\t\t\t? new HitResult('fill', this)\n\t\t\t\t\t\t: loc\n\t\t\t\t\t\t\t? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n\t\t\t\t\t\t\t\tlocation: loc,\n\t\t\t\t\t\t\t\tpoint: loc.getPoint()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t: null;\n\t\t}\n\t\n\t}, Base.each(Curve._evaluateMethods,\n\t\tfunction(name) {\n\t\t\tthis[name + 'At'] = function(offset) {\n\t\t\t\tvar loc = this.getLocationAt(offset);\n\t\t\t\treturn loc && loc[name]();\n\t\t\t};\n\t\t},\n\t{\n\t\tbeans: false,\n\t\n\t\tgetLocationOf: function() {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tcurves = this.getCurves();\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar loc = curves[i].getLocationOf(point);\n\t\t\t\tif (loc)\n\t\t\t\t\treturn loc;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\n\t\tgetOffsetOf: function() {\n\t\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\t\treturn loc ? loc.getOffset() : null;\n\t\t},\n\t\n\t\tgetLocationAt: function(offset) {\n\t\t\tif (typeof offset === 'number') {\n\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\tlength = 0;\n\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\t\tvar start = length,\n\t\t\t\t\t\tcurve = curves[i];\n\t\t\t\t\tlength += curve.getLength();\n\t\t\t\t\tif (length > offset) {\n\t\t\t\t\t\treturn curve.getLocationAt(offset - start);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (curves.length > 0 && offset <= this.getLength()) {\n\t\t\t\t\treturn new CurveLocation(curves[curves.length - 1], 1);\n\t\t\t\t}\n\t\t\t} else if (offset && offset.getPath && offset.getPath() === this) {\n\t\t\t\treturn offset;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\n\t}),\n\tnew function() {\n\t\n\t\tfunction drawHandles(ctx, segments, matrix, size) {\n\t\t\tvar half = size / 2,\n\t\t\t\tcoords = new Array(6),\n\t\t\t\tpX, pY;\n\t\n\t\t\tfunction drawHandle(index) {\n\t\t\t\tvar hX = coords[index],\n\t\t\t\t\thY = coords[index + 1];\n\t\t\t\tif (pX != hX || pY != hY) {\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(pX, pY);\n\t\t\t\t\tctx.lineTo(hX, hY);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n\t\t\t\t\tctx.fill();\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar segment = segments[i],\n\t\t\t\t\tselection = segment._selection;\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tpX = coords[0];\n\t\t\t\tpY = coords[1];\n\t\t\t\tif (selection & 2)\n\t\t\t\t\tdrawHandle(2);\n\t\t\t\tif (selection & 4)\n\t\t\t\t\tdrawHandle(4);\n\t\t\t\tctx.fillRect(pX - half, pY - half, size, size);\n\t\t\t\tif (!(selection & 1)) {\n\t\t\t\t\tvar fillStyle = ctx.fillStyle;\n\t\t\t\t\tctx.fillStyle = '#ffffff';\n\t\t\t\t\tctx.fillRect(pX - half + 1, pY - half + 1, size - 2, size - 2);\n\t\t\t\t\tctx.fillStyle = fillStyle;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction drawSegments(ctx, path, matrix) {\n\t\t\tvar segments = path._segments,\n\t\t\t\tlength = segments.length,\n\t\t\t\tcoords = new Array(6),\n\t\t\t\tfirst = true,\n\t\t\t\tcurX, curY,\n\t\t\t\tprevX, prevY,\n\t\t\t\tinX, inY,\n\t\t\t\toutX, outY;\n\t\n\t\t\tfunction drawSegment(segment) {\n\t\t\t\tif (matrix) {\n\t\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\t\tcurX = coords[0];\n\t\t\t\t\tcurY = coords[1];\n\t\t\t\t} else {\n\t\t\t\t\tvar point = segment._point;\n\t\t\t\t\tcurX = point._x;\n\t\t\t\t\tcurY = point._y;\n\t\t\t\t}\n\t\t\t\tif (first) {\n\t\t\t\t\tctx.moveTo(curX, curY);\n\t\t\t\t\tfirst = false;\n\t\t\t\t} else {\n\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\tinX = coords[2];\n\t\t\t\t\t\tinY = coords[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar handle = segment._handleIn;\n\t\t\t\t\t\tinX = curX + handle._x;\n\t\t\t\t\t\tinY = curY + handle._y;\n\t\t\t\t\t}\n\t\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\t\tctx.lineTo(curX, curY);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprevX = curX;\n\t\t\t\tprevY = curY;\n\t\t\t\tif (matrix) {\n\t\t\t\t\toutX = coords[4];\n\t\t\t\t\toutY = coords[5];\n\t\t\t\t} else {\n\t\t\t\t\tvar handle = segment._handleOut;\n\t\t\t\t\toutX = prevX + handle._x;\n\t\t\t\t\toutY = prevY + handle._y;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\tdrawSegment(segments[i]);\n\t\t\tif (path._closed && length > 0)\n\t\t\t\tdrawSegment(segments[0]);\n\t\t}\n\t\n\t\treturn {\n\t\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\t\tvar dontStart = param.dontStart,\n\t\t\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\t\t\tstyle = this.getStyle(),\n\t\t\t\t\thasFill = style.hasFill(),\n\t\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\t\tdashArray = style.getDashArray(),\n\t\t\t\t\tdashLength = !paper.support.nativeDash && hasStroke\n\t\t\t\t\t\t\t&& dashArray && dashArray.length;\n\t\n\t\t\t\tif (!dontStart)\n\t\t\t\t\tctx.beginPath();\n\t\n\t\t\t\tif (hasFill || hasStroke && !dashLength || dontPaint) {\n\t\t\t\t\tdrawSegments(ctx, this, strokeMatrix);\n\t\t\t\t\tif (this._closed)\n\t\t\t\t\t\tctx.closePath();\n\t\t\t\t}\n\t\n\t\t\t\tfunction getOffset(i) {\n\t\t\t\t\treturn dashArray[((i % dashLength) + dashLength) % dashLength];\n\t\t\t\t}\n\t\n\t\t\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\t\tif (hasFill) {\n\t\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t\t}\n\t\t\t\t\tif (hasStroke) {\n\t\t\t\t\t\tif (dashLength) {\n\t\t\t\t\t\t\tif (!dontStart)\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\tvar flattener = new PathFlattener(this, 0.25, 32, false,\n\t\t\t\t\t\t\t\t\tstrokeMatrix),\n\t\t\t\t\t\t\t\tlength = flattener.length,\n\t\t\t\t\t\t\t\tfrom = -style.getDashOffset(), to,\n\t\t\t\t\t\t\t\ti = 0;\n\t\t\t\t\t\t\tfrom = from % length;\n\t\t\t\t\t\t\twhile (from > 0) {\n\t\t\t\t\t\t\t\tfrom -= getOffset(i--) + getOffset(i--);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhile (from < length) {\n\t\t\t\t\t\t\t\tto = from + getOffset(i++);\n\t\t\t\t\t\t\t\tif (from > 0 || to > 0)\n\t\t\t\t\t\t\t\t\tflattener.drawPart(ctx,\n\t\t\t\t\t\t\t\t\t\t\tMath.max(from, 0), Math.max(to, 0));\n\t\t\t\t\t\t\t\tfrom = to + getOffset(i++);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t_drawSelected: function(ctx, matrix) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tdrawSegments(ctx, this, matrix);\n\t\t\t\tctx.stroke();\n\t\t\t\tdrawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n\t\t\t}\n\t\t};\n\t},\n\tnew function() {\n\t\tfunction getCurrentSegment(that) {\n\t\t\tvar segments = that._segments;\n\t\t\tif (!segments.length)\n\t\t\t\tthrow new Error('Use a moveTo() command first');\n\t\t\treturn segments[segments.length - 1];\n\t\t}\n\t\n\t\treturn {\n\t\t\tmoveTo: function() {\n\t\t\t\tvar segments = this._segments;\n\t\t\t\tif (segments.length === 1)\n\t\t\t\t\tthis.removeSegment(0);\n\t\t\t\tif (!segments.length)\n\t\t\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t\t},\n\t\n\t\t\tmoveBy: function() {\n\t\t\t\tthrow new Error('moveBy() is unsupported on Path items.');\n\t\t\t},\n\t\n\t\t\tlineTo: function() {\n\t\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t\t},\n\t\n\t\t\tcubicCurveTo: function() {\n\t\t\t\tvar handle1 = Point.read(arguments),\n\t\t\t\t\thandle2 = Point.read(arguments),\n\t\t\t\t\tto = Point.read(arguments),\n\t\t\t\t\tcurrent = getCurrentSegment(this);\n\t\t\t\tcurrent.setHandleOut(handle1.subtract(current._point));\n\t\t\t\tthis._add([ new Segment(to, handle2.subtract(to)) ]);\n\t\t\t},\n\t\n\t\t\tquadraticCurveTo: function() {\n\t\t\t\tvar handle = Point.read(arguments),\n\t\t\t\t\tto = Point.read(arguments),\n\t\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\thandle.add(current.subtract(handle).multiply(1 / 3)),\n\t\t\t\t\thandle.add(to.subtract(handle).multiply(1 / 3)),\n\t\t\t\t\tto\n\t\t\t\t);\n\t\t\t},\n\t\n\t\t\tcurveTo: function() {\n\t\t\t\tvar through = Point.read(arguments),\n\t\t\t\t\tto = Point.read(arguments),\n\t\t\t\t\tt = Base.pick(Base.read(arguments), 0.5),\n\t\t\t\t\tt1 = 1 - t,\n\t\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\t\thandle = through.subtract(current.multiply(t1 * t1))\n\t\t\t\t\t\t.subtract(to.multiply(t * t)).divide(2 * t * t1);\n\t\t\t\tif (handle.isNaN())\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Cannot put a curve through points with parameter = ' + t);\n\t\t\t\tthis.quadraticCurveTo(handle, to);\n\t\t\t},\n\t\n\t\t\tarcTo: function() {\n\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\t\tcurrent = getCurrentSegment(this),\n\t\t\t\t\tfrom = current._point,\n\t\t\t\t\tto = Point.read(arguments),\n\t\t\t\t\tthrough,\n\t\t\t\t\tpeek = Base.peek(arguments),\n\t\t\t\t\tclockwise = Base.pick(peek, true),\n\t\t\t\t\tcenter, extent, vector, matrix;\n\t\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\t\tvar middle = from.add(to).divide(2),\n\t\t\t\t\tthrough = middle.add(middle.subtract(from).rotate(\n\t\t\t\t\t\t\tclockwise ? -90 : 90));\n\t\t\t\t} else if (Base.remain(arguments) <= 2) {\n\t\t\t\t\tthrough = to;\n\t\t\t\t\tto = Point.read(arguments);\n\t\t\t\t} else {\n\t\t\t\t\tvar radius = Size.read(arguments),\n\t\t\t\t\t\tisZero = Numerical.isZero;\n\t\t\t\t\tif (isZero(radius.width) || isZero(radius.height))\n\t\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\t\tvar rotation = Base.read(arguments),\n\t\t\t\t\t\tclockwise = !!Base.read(arguments),\n\t\t\t\t\t\tlarge = !!Base.read(arguments),\n\t\t\t\t\t\tmiddle = from.add(to).divide(2),\n\t\t\t\t\t\tpt = from.subtract(middle).rotate(-rotation),\n\t\t\t\t\t\tx = pt.x,\n\t\t\t\t\t\ty = pt.y,\n\t\t\t\t\t\trx = abs(radius.width),\n\t\t\t\t\t\try = abs(radius.height),\n\t\t\t\t\t\trxSq = rx * rx,\n\t\t\t\t\t\trySq = ry * ry,\n\t\t\t\t\t\txSq = x * x,\n\t\t\t\t\t\tySq = y * y;\n\t\t\t\t\tvar factor = sqrt(xSq / rxSq + ySq / rySq);\n\t\t\t\t\tif (factor > 1) {\n\t\t\t\t\t\trx *= factor;\n\t\t\t\t\t\try *= factor;\n\t\t\t\t\t\trxSq = rx * rx;\n\t\t\t\t\t\trySq = ry * ry;\n\t\t\t\t\t}\n\t\t\t\t\tfactor = (rxSq * rySq - rxSq * ySq - rySq * xSq) /\n\t\t\t\t\t\t\t(rxSq * ySq + rySq * xSq);\n\t\t\t\t\tif (abs(factor) < 1e-12)\n\t\t\t\t\t\tfactor = 0;\n\t\t\t\t\tif (factor < 0)\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\t\tcenter = new Point(rx * y / ry, -ry * x / rx)\n\t\t\t\t\t\t\t.multiply((large === clockwise ? -1 : 1) * sqrt(factor))\n\t\t\t\t\t\t\t.rotate(rotation).add(middle);\n\t\t\t\t\tmatrix = new Matrix().translate(center).rotate(rotation)\n\t\t\t\t\t\t\t.scale(rx, ry);\n\t\t\t\t\tvector = matrix._inverseTransform(from);\n\t\t\t\t\textent = vector.getDirectedAngle(matrix._inverseTransform(to));\n\t\t\t\t\tif (!clockwise && extent > 0)\n\t\t\t\t\t\textent -= 360;\n\t\t\t\t\telse if (clockwise && extent < 0)\n\t\t\t\t\t\textent += 360;\n\t\t\t\t}\n\t\t\t\tif (through) {\n\t\t\t\t\tvar l1 = new Line(from.add(through).divide(2),\n\t\t\t\t\t\t\t\tthrough.subtract(from).rotate(90), true),\n\t\t\t\t\t\tl2 = new Line(through.add(to).divide(2),\n\t\t\t\t\t\t\t\tto.subtract(through).rotate(90), true),\n\t\t\t\t\t\tline = new Line(from, to),\n\t\t\t\t\t\tthroughSide = line.getSide(through);\n\t\t\t\t\tcenter = l1.intersect(l2, true);\n\t\t\t\t\tif (!center) {\n\t\t\t\t\t\tif (!throughSide)\n\t\t\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\t\t}\n\t\t\t\t\tvector = from.subtract(center);\n\t\t\t\t\textent = vector.getDirectedAngle(to.subtract(center));\n\t\t\t\t\tvar centerSide = line.getSide(center);\n\t\t\t\t\tif (centerSide === 0) {\n\t\t\t\t\t\textent = throughSide * abs(extent);\n\t\t\t\t\t} else if (throughSide === centerSide) {\n\t\t\t\t\t\textent += extent < 0 ? 360 : -360;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar epsilon = 1e-7,\n\t\t\t\t\text = abs(extent),\n\t\t\t\t\tcount = ext >= 360 ? 4 : Math.ceil((ext - epsilon) / 90),\n\t\t\t\t\tinc = extent / count,\n\t\t\t\t\thalf = inc * Math.PI / 360,\n\t\t\t\t\tz = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n\t\t\t\t\tsegments = [];\n\t\t\t\tfor (var i = 0; i <= count; i++) {\n\t\t\t\t\tvar pt = to,\n\t\t\t\t\t\tout = null;\n\t\t\t\t\tif (i < count) {\n\t\t\t\t\t\tout = vector.rotate(90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\tpt = matrix._transformPoint(vector);\n\t\t\t\t\t\t\tout = matrix._transformPoint(vector.add(out))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpt = center.add(vector);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tcurrent.setHandleOut(out);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar _in = vector.rotate(-90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t_in = matrix._transformPoint(vector.add(_in))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsegments.push(new Segment(pt, _in, out));\n\t\t\t\t\t}\n\t\t\t\t\tvector = vector.rotate(inc);\n\t\t\t\t}\n\t\t\t\tthis._add(segments);\n\t\t\t},\n\t\n\t\t\tlineBy: function() {\n\t\t\t\tvar to = Point.read(arguments),\n\t\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\t\tthis.lineTo(current.add(to));\n\t\t\t},\n\t\n\t\t\tcurveBy: function() {\n\t\t\t\tvar through = Point.read(arguments),\n\t\t\t\t\tto = Point.read(arguments),\n\t\t\t\t\tparameter = Base.read(arguments),\n\t\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\t\tthis.curveTo(current.add(through), current.add(to), parameter);\n\t\t\t},\n\t\n\t\t\tcubicCurveBy: function() {\n\t\t\t\tvar handle1 = Point.read(arguments),\n\t\t\t\t\thandle2 = Point.read(arguments),\n\t\t\t\t\tto = Point.read(arguments),\n\t\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\t\tthis.cubicCurveTo(current.add(handle1), current.add(handle2),\n\t\t\t\t\t\tcurrent.add(to));\n\t\t\t},\n\t\n\t\t\tquadraticCurveBy: function() {\n\t\t\t\tvar handle = Point.read(arguments),\n\t\t\t\t\tto = Point.read(arguments),\n\t\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\t\tthis.quadraticCurveTo(current.add(handle), current.add(to));\n\t\t\t},\n\t\n\t\t\tarcBy: function() {\n\t\t\t\tvar current = getCurrentSegment(this)._point,\n\t\t\t\t\tpoint = current.add(Point.read(arguments)),\n\t\t\t\t\tclockwise = Base.pick(Base.peek(arguments), true);\n\t\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\t\tthis.arcTo(point, clockwise);\n\t\t\t\t} else {\n\t\t\t\t\tthis.arcTo(point, current.add(Point.read(arguments)));\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tclosePath: function(tolerance) {\n\t\t\t\tthis.setClosed(true);\n\t\t\t\tthis.join(this, tolerance);\n\t\t\t}\n\t\t};\n\t}, {\n\t\n\t\t_getBounds: function(matrix, options) {\n\t\t\tvar method = options.handle\n\t\t\t\t\t? 'getHandleBounds'\n\t\t\t\t\t: options.stroke\n\t\t\t\t\t? 'getStrokeBounds'\n\t\t\t\t\t: 'getBounds';\n\t\t\treturn Path[method](this._segments, this._closed, this, matrix, options);\n\t\t},\n\t\n\tstatics: {\n\t\tgetBounds: function(segments, closed, path, matrix, options, strokePadding) {\n\t\t\tvar first = segments[0];\n\t\t\tif (!first)\n\t\t\t\treturn new Rectangle();\n\t\t\tvar coords = new Array(6),\n\t\t\t\tprevCoords = first._transformCoordinates(matrix, new Array(6)),\n\t\t\t\tmin = prevCoords.slice(0, 2),\n\t\t\t\tmax = min.slice(),\n\t\t\t\troots = new Array(2);\n\t\n\t\t\tfunction processSegment(segment) {\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tCurve._addBounds(\n\t\t\t\t\t\tprevCoords[i],\n\t\t\t\t\t\tprevCoords[i + 4],\n\t\t\t\t\t\tcoords[i + 2],\n\t\t\t\t\t\tcoords[i],\n\t\t\t\t\t\ti, strokePadding ? strokePadding[i] : 0, min, max, roots);\n\t\t\t\t}\n\t\t\t\tvar tmp = prevCoords;\n\t\t\t\tprevCoords = coords;\n\t\t\t\tcoords = tmp;\n\t\t\t}\n\t\n\t\t\tfor (var i = 1, l = segments.length; i < l; i++)\n\t\t\t\tprocessSegment(segments[i]);\n\t\t\tif (closed)\n\t\t\t\tprocessSegment(first);\n\t\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t\t},\n\t\n\t\tgetStrokeBounds: function(segments, closed, path, matrix, options) {\n\t\t\tvar style = path.getStyle(),\n\t\t\t\tstroke = style.hasStroke(),\n\t\t\t\tstrokeWidth = style.getStrokeWidth(),\n\t\t\t\tstrokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n\t\t\t\tstrokePadding = stroke && Path._getStrokePadding(strokeWidth,\n\t\t\t\t\tstrokeMatrix),\n\t\t\t\tbounds = Path.getBounds(segments, closed, path, matrix, options,\n\t\t\t\t\tstrokePadding);\n\t\t\tif (!stroke)\n\t\t\t\treturn bounds;\n\t\t\tvar strokeRadius = strokeWidth / 2,\n\t\t\t\tjoin = style.getStrokeJoin(),\n\t\t\t\tcap = style.getStrokeCap(),\n\t\t\t\tmiterLimit = style.getMiterLimit(),\n\t\t\t\tjoinBounds = new Rectangle(new Size(strokePadding));\n\t\n\t\t\tfunction addPoint(point) {\n\t\t\t\tbounds = bounds.include(point);\n\t\t\t}\n\t\n\t\t\tfunction addRound(segment) {\n\t\t\t\tbounds = bounds.unite(\n\t\t\t\t\t\tjoinBounds.setCenter(segment._point.transform(matrix)));\n\t\t\t}\n\t\n\t\t\tfunction addJoin(segment, join) {\n\t\t\t\tif (join === 'round' || segment.isSmooth()) {\n\t\t\t\t\taddRound(segment);\n\t\t\t\t} else {\n\t\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius, miterLimit,\n\t\t\t\t\t\t\tmatrix, strokeMatrix, addPoint);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfunction addCap(segment, cap) {\n\t\t\t\tif (cap === 'round') {\n\t\t\t\t\taddRound(segment);\n\t\t\t\t} else {\n\t\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, matrix,\n\t\t\t\t\t\t\tstrokeMatrix, addPoint);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tvar length = segments.length - (closed ? 0 : 1);\n\t\t\tfor (var i = 1; i < length; i++)\n\t\t\t\taddJoin(segments[i], join);\n\t\t\tif (closed) {\n\t\t\t\taddJoin(segments[0], join);\n\t\t\t} else if (length > 0) {\n\t\t\t\taddCap(segments[0], cap);\n\t\t\t\taddCap(segments[segments.length - 1], cap);\n\t\t\t}\n\t\t\treturn bounds;\n\t\t},\n\t\n\t\t_getStrokePadding: function(radius, matrix) {\n\t\t\tif (!matrix)\n\t\t\t\treturn [radius, radius];\n\t\t\tvar hor = new Point(radius, 0).transform(matrix),\n\t\t\t\tver = new Point(0, radius).transform(matrix),\n\t\t\t\tphi = hor.getAngleInRadians(),\n\t\t\t\ta = hor.getLength(),\n\t\t\t\tb = ver.getLength();\n\t\t\tvar sin = Math.sin(phi),\n\t\t\t\tcos = Math.cos(phi),\n\t\t\t\ttan = Math.tan(phi),\n\t\t\t\ttx = Math.atan2(b * tan, a),\n\t\t\t\tty = Math.atan2(b, tan * a);\n\t\t\treturn [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin),\n\t\t\t\t\tMath.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n\t\t},\n\t\n\t\t_addBevelJoin: function(segment, join, radius, miterLimit, matrix,\n\t\t\t\tstrokeMatrix, addPoint, isArea) {\n\t\t\tvar curve2 = segment.getCurve(),\n\t\t\t\tcurve1 = curve2.getPrevious(),\n\t\t\t\tpoint = curve2.getPoint1().transform(matrix),\n\t\t\t\tnormal1 = curve1.getNormalAtTime(1).multiply(radius)\n\t\t\t\t\t.transform(strokeMatrix),\n\t\t\t\tnormal2 = curve2.getNormalAtTime(0).multiply(radius)\n\t\t\t\t\t.transform(strokeMatrix);\n\t\t\tif (normal1.getDirectedAngle(normal2) < 0) {\n\t\t\t\tnormal1 = normal1.negate();\n\t\t\t\tnormal2 = normal2.negate();\n\t\t\t}\n\t\t\tif (isArea)\n\t\t\t\taddPoint(point);\n\t\t\taddPoint(point.add(normal1));\n\t\t\tif (join === 'miter') {\n\t\t\t\tvar corner = new Line(point.add(normal1),\n\t\t\t\t\t\tnew Point(-normal1.y, normal1.x), true\n\t\t\t\t\t).intersect(new Line(point.add(normal2),\n\t\t\t\t\t\tnew Point(-normal2.y, normal2.x), true\n\t\t\t\t\t), true);\n\t\t\t\tif (corner && point.getDistance(corner) <= miterLimit * radius) {\n\t\t\t\t\taddPoint(corner);\n\t\t\t\t}\n\t\t\t}\n\t\t\taddPoint(point.add(normal2));\n\t\t},\n\t\n\t\t_addSquareCap: function(segment, cap, radius, matrix, strokeMatrix,\n\t\t\t\taddPoint, isArea) {\n\t\t\tvar point = segment._point.transform(matrix),\n\t\t\t\tloc = segment.getLocation(),\n\t\t\t\tnormal = loc.getNormal()\n\t\t\t\t\t\t.multiply(loc.getTime() === 0 ? radius : -radius)\n\t\t\t\t\t\t.transform(strokeMatrix);\n\t\t\tif (cap === 'square') {\n\t\t\t\tif (isArea) {\n\t\t\t\t\taddPoint(point.subtract(normal));\n\t\t\t\t\taddPoint(point.add(normal));\n\t\t\t\t}\n\t\t\t\tpoint = point.add(normal.rotate(-90));\n\t\t\t}\n\t\t\taddPoint(point.add(normal));\n\t\t\taddPoint(point.subtract(normal));\n\t\t},\n\t\n\t\tgetHandleBounds: function(segments, closed, path, matrix, options) {\n\t\t\tvar style = path.getStyle(),\n\t\t\t\tstroke = options.stroke && style.hasStroke(),\n\t\t\t\tstrokePadding,\n\t\t\t\tjoinPadding;\n\t\t\tif (stroke) {\n\t\t\t\tvar strokeMatrix = path._getStrokeMatrix(matrix, options),\n\t\t\t\t\tstrokeRadius = style.getStrokeWidth() / 2,\n\t\t\t\t\tjoinRadius = strokeRadius;\n\t\t\t\tif (style.getStrokeJoin() === 'miter')\n\t\t\t\t\tjoinRadius = strokeRadius * style.getMiterLimit();\n\t\t\t\tif (style.getStrokeCap() === 'square')\n\t\t\t\t\tjoinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n\t\t\t\tstrokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n\t\t\t\tjoinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n\t\t\t}\n\t\t\tvar coords = new Array(6),\n\t\t\t\tx1 = Infinity,\n\t\t\t\tx2 = -x1,\n\t\t\t\ty1 = x1,\n\t\t\t\ty2 = x2;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar segment = segments[i];\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tfor (var j = 0; j < 6; j += 2) {\n\t\t\t\t\tvar padding = !j ? joinPadding : strokePadding,\n\t\t\t\t\t\tpaddingX = padding ? padding[0] : 0,\n\t\t\t\t\t\tpaddingY = padding ? padding[1] : 0,\n\t\t\t\t\t\tx = coords[j],\n\t\t\t\t\t\ty = coords[j + 1],\n\t\t\t\t\t\txn = x - paddingX,\n\t\t\t\t\t\txx = x + paddingX,\n\t\t\t\t\t\tyn = y - paddingY,\n\t\t\t\t\t\tyx = y + paddingY;\n\t\t\t\t\tif (xn < x1) x1 = xn;\n\t\t\t\t\tif (xx > x2) x2 = xx;\n\t\t\t\t\tif (yn < y1) y1 = yn;\n\t\t\t\t\tif (yx > y2) y2 = yx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t\t}\n\t}});\n\t\n\tPath.inject({ statics: new function() {\n\t\n\t\tvar kappa = 0.5522847498307936,\n\t\t\tellipseSegments = [\n\t\t\t\tnew Segment([-1, 0], [0, kappa ], [0, -kappa]),\n\t\t\t\tnew Segment([0, -1], [-kappa, 0], [kappa, 0 ]),\n\t\t\t\tnew Segment([1, 0], [0, -kappa], [0, kappa ]),\n\t\t\t\tnew Segment([0, 1], [kappa, 0 ], [-kappa, 0])\n\t\t\t];\n\t\n\t\tfunction createPath(segments, closed, args) {\n\t\t\tvar props = Base.getNamed(args),\n\t\t\t\tpath = new Path(props && props.insert == false && Item.NO_INSERT);\n\t\t\tpath._add(segments);\n\t\t\tpath._closed = closed;\n\t\t\treturn path.set(props, { insert: true });\n\t\t}\n\t\n\t\tfunction createEllipse(center, radius, args) {\n\t\t\tvar segments = new Array(4);\n\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\tvar segment = ellipseSegments[i];\n\t\t\t\tsegments[i] = new Segment(\n\t\t\t\t\tsegment._point.multiply(radius).add(center),\n\t\t\t\t\tsegment._handleIn.multiply(radius),\n\t\t\t\t\tsegment._handleOut.multiply(radius)\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn createPath(segments, true, args);\n\t\t}\n\t\n\t\treturn {\n\t\t\tLine: function() {\n\t\t\t\treturn createPath([\n\t\t\t\t\tnew Segment(Point.readNamed(arguments, 'from')),\n\t\t\t\t\tnew Segment(Point.readNamed(arguments, 'to'))\n\t\t\t\t], false, arguments);\n\t\t\t},\n\t\n\t\t\tCircle: function() {\n\t\t\t\tvar center = Point.readNamed(arguments, 'center'),\n\t\t\t\t\tradius = Base.readNamed(arguments, 'radius');\n\t\t\t\treturn createEllipse(center, new Size(radius), arguments);\n\t\t\t},\n\t\n\t\t\tRectangle: function() {\n\t\t\t\tvar rect = Rectangle.readNamed(arguments, 'rectangle'),\n\t\t\t\t\tradius = Size.readNamed(arguments, 'radius', 0,\n\t\t\t\t\t\t\t{ readNull: true }),\n\t\t\t\t\tbl = rect.getBottomLeft(true),\n\t\t\t\t\ttl = rect.getTopLeft(true),\n\t\t\t\t\ttr = rect.getTopRight(true),\n\t\t\t\t\tbr = rect.getBottomRight(true),\n\t\t\t\t\tsegments;\n\t\t\t\tif (!radius || radius.isZero()) {\n\t\t\t\t\tsegments = [\n\t\t\t\t\t\tnew Segment(bl),\n\t\t\t\t\t\tnew Segment(tl),\n\t\t\t\t\t\tnew Segment(tr),\n\t\t\t\t\t\tnew Segment(br)\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tradius = Size.min(radius, rect.getSize(true).divide(2));\n\t\t\t\t\tvar rx = radius.width,\n\t\t\t\t\t\try = radius.height,\n\t\t\t\t\t\thx = rx * kappa,\n\t\t\t\t\t\thy = ry * kappa;\n\t\t\t\t\tsegments = [\n\t\t\t\t\t\tnew Segment(bl.add(rx, 0), null, [-hx, 0]),\n\t\t\t\t\t\tnew Segment(bl.subtract(0, ry), [0, hy]),\n\t\t\t\t\t\tnew Segment(tl.add(0, ry), null, [0, -hy]),\n\t\t\t\t\t\tnew Segment(tl.add(rx, 0), [-hx, 0], null),\n\t\t\t\t\t\tnew Segment(tr.subtract(rx, 0), null, [hx, 0]),\n\t\t\t\t\t\tnew Segment(tr.add(0, ry), [0, -hy], null),\n\t\t\t\t\t\tnew Segment(br.subtract(0, ry), null, [0, hy]),\n\t\t\t\t\t\tnew Segment(br.subtract(rx, 0), [hx, 0])\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t\treturn createPath(segments, true, arguments);\n\t\t\t},\n\t\n\t\t\tRoundRectangle: '#Rectangle',\n\t\n\t\t\tEllipse: function() {\n\t\t\t\tvar ellipse = Shape._readEllipse(arguments);\n\t\t\t\treturn createEllipse(ellipse.center, ellipse.radius, arguments);\n\t\t\t},\n\t\n\t\t\tOval: '#Ellipse',\n\t\n\t\t\tArc: function() {\n\t\t\t\tvar from = Point.readNamed(arguments, 'from'),\n\t\t\t\t\tthrough = Point.readNamed(arguments, 'through'),\n\t\t\t\t\tto = Point.readNamed(arguments, 'to'),\n\t\t\t\t\tprops = Base.getNamed(arguments),\n\t\t\t\t\tpath = new Path(props && props.insert == false\n\t\t\t\t\t\t\t&& Item.NO_INSERT);\n\t\t\t\tpath.moveTo(from);\n\t\t\t\tpath.arcTo(through, to);\n\t\t\t\treturn path.set(props);\n\t\t\t},\n\t\n\t\t\tRegularPolygon: function() {\n\t\t\t\tvar center = Point.readNamed(arguments, 'center'),\n\t\t\t\t\tsides = Base.readNamed(arguments, 'sides'),\n\t\t\t\t\tradius = Base.readNamed(arguments, 'radius'),\n\t\t\t\t\tstep = 360 / sides,\n\t\t\t\t\tthree = sides % 3 === 0,\n\t\t\t\t\tvector = new Point(0, three ? -radius : radius),\n\t\t\t\t\toffset = three ? -1 : 0.5,\n\t\t\t\t\tsegments = new Array(sides);\n\t\t\t\tfor (var i = 0; i < sides; i++)\n\t\t\t\t\tsegments[i] = new Segment(center.add(\n\t\t\t\t\t\tvector.rotate((i + offset) * step)));\n\t\t\t\treturn createPath(segments, true, arguments);\n\t\t\t},\n\t\n\t\t\tStar: function() {\n\t\t\t\tvar center = Point.readNamed(arguments, 'center'),\n\t\t\t\t\tpoints = Base.readNamed(arguments, 'points') * 2,\n\t\t\t\t\tradius1 = Base.readNamed(arguments, 'radius1'),\n\t\t\t\t\tradius2 = Base.readNamed(arguments, 'radius2'),\n\t\t\t\t\tstep = 360 / points,\n\t\t\t\t\tvector = new Point(0, -1),\n\t\t\t\t\tsegments = new Array(points);\n\t\t\t\tfor (var i = 0; i < points; i++)\n\t\t\t\t\tsegments[i] = new Segment(center.add(vector.rotate(step * i)\n\t\t\t\t\t\t\t.multiply(i % 2 ? radius2 : radius1)));\n\t\t\t\treturn createPath(segments, true, arguments);\n\t\t\t}\n\t\t};\n\t}});\n\t\n\tvar CompoundPath = PathItem.extend({\n\t\t_class: 'CompoundPath',\n\t\t_serializeFields: {\n\t\t\tchildren: []\n\t\t},\n\t\tbeans: true,\n\t\n\t\tinitialize: function CompoundPath(arg) {\n\t\t\tthis._children = [];\n\t\t\tthis._namedChildren = {};\n\t\t\tif (!this._initialize(arg)) {\n\t\t\t\tif (typeof arg === 'string') {\n\t\t\t\t\tthis.setPathData(arg);\n\t\t\t\t} else {\n\t\t\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tinsertChildren: function insertChildren(index, items) {\n\t\t\tvar list = items,\n\t\t\t\tfirst = list[0];\n\t\t\tif (first && typeof first[0] === 'number')\n\t\t\t\tlist = [list];\n\t\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\t\tvar item = list[i];\n\t\t\t\tif (list === items && !(item instanceof Path))\n\t\t\t\t\tlist = Base.slice(list);\n\t\t\t\tif (Array.isArray(item)) {\n\t\t\t\t\tlist[i] = new Path({ segments: item, insert: false });\n\t\t\t\t} else if (item instanceof CompoundPath) {\n\t\t\t\t\tlist.splice.apply(list, [i, 1].concat(item.removeChildren()));\n\t\t\t\t\titem.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn insertChildren.base.call(this, index, list);\n\t\t},\n\t\n\t\treduce: function reduce(options) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tvar path = children[i].reduce(options);\n\t\t\t\tif (path.isEmpty())\n\t\t\t\t\tpath.remove();\n\t\t\t}\n\t\t\tif (!children.length) {\n\t\t\t\tvar path = new Path(Item.NO_INSERT);\n\t\t\t\tpath.copyAttributes(this);\n\t\t\t\tpath.insertAbove(this);\n\t\t\t\tthis.remove();\n\t\t\t\treturn path;\n\t\t\t}\n\t\t\treturn reduce.base.call(this);\n\t\t},\n\t\n\t\tisClosed: function() {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tif (!children[i]._closed)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\n\t\tsetClosed: function(closed) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].setClosed(closed);\n\t\t\t}\n\t\t},\n\t\n\t\tgetFirstSegment: function() {\n\t\t\tvar first = this.getFirstChild();\n\t\t\treturn first && first.getFirstSegment();\n\t\t},\n\t\n\t\tgetLastSegment: function() {\n\t\t\tvar last = this.getLastChild();\n\t\t\treturn last && last.getLastSegment();\n\t\t},\n\t\n\t\tgetCurves: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tcurves = [];\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tcurves.push.apply(curves, children[i].getCurves());\n\t\t\treturn curves;\n\t\t},\n\t\n\t\tgetFirstCurve: function() {\n\t\t\tvar first = this.getFirstChild();\n\t\t\treturn first && first.getFirstCurve();\n\t\t},\n\t\n\t\tgetLastCurve: function() {\n\t\t\tvar last = this.getLastChild();\n\t\t\treturn last && last.getLastCurve();\n\t\t},\n\t\n\t\tgetArea: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tarea = 0;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tarea += children[i].getArea();\n\t\t\treturn area;\n\t\t},\n\t\n\t\tgetLength: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tlength += children[i].getLength();\n\t\t\treturn length;\n\t\t},\n\t\n\t\tgetPathData: function(_matrix, _precision) {\n\t\t\tvar children = this._children,\n\t\t\t\tpaths = [];\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tvar child = children[i],\n\t\t\t\t\tmx = child._matrix;\n\t\t\t\tpaths.push(child.getPathData(_matrix && !mx.isIdentity()\n\t\t\t\t\t\t? _matrix.appended(mx) : _matrix, _precision));\n\t\t\t}\n\t\t\treturn paths.join('');\n\t\t},\n\t\n\t\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\t\treturn _hitTestChildren.base.call(this, point,\n\t\t\t\t\toptions.class === Path || options.type === 'path' ? options\n\t\t\t\t\t\t: Base.set({}, options, { fill: false }),\n\t\t\t\t\tviewMatrix);\n\t\t},\n\t\n\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\tvar children = this._children;\n\t\t\tif (!children.length)\n\t\t\t\treturn;\n\t\n\t\t\tparam = param.extend({ dontStart: true, dontFinish: true });\n\t\t\tctx.beginPath();\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].draw(ctx, param, strokeMatrix);\n\t\n\t\t\tif (!param.clip) {\n\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\tvar style = this._style;\n\t\t\t\tif (style.hasFill()) {\n\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (style.hasStroke())\n\t\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t},\n\t\n\t\t_drawSelected: function(ctx, matrix, selectionItems) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tvar child = children[i],\n\t\t\t\t\tmx = child._matrix;\n\t\t\t\tif (!selectionItems[child._id]) {\n\t\t\t\t\tchild._drawSelected(ctx, mx.isIdentity() ? matrix\n\t\t\t\t\t\t\t: matrix.appended(mx));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tnew function() {\n\t\tfunction getCurrentPath(that, check) {\n\t\t\tvar children = that._children;\n\t\t\tif (check && !children.length)\n\t\t\t\tthrow new Error('Use a moveTo() command first');\n\t\t\treturn children[children.length - 1];\n\t\t}\n\t\n\t\treturn Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo',\n\t\t\t\t'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy',\n\t\t\t\t'arcBy'],\n\t\t\tfunction(key) {\n\t\t\t\tthis[key] = function() {\n\t\t\t\t\tvar path = getCurrentPath(this, true);\n\t\t\t\t\tpath[key].apply(path, arguments);\n\t\t\t\t};\n\t\t\t}, {\n\t\t\t\tmoveTo: function() {\n\t\t\t\t\tvar current = getCurrentPath(this),\n\t\t\t\t\t\tpath = current && current.isEmpty() ? current\n\t\t\t\t\t\t\t\t: new Path(Item.NO_INSERT);\n\t\t\t\t\tif (path !== current)\n\t\t\t\t\t\tthis.addChild(path);\n\t\t\t\t\tpath.moveTo.apply(path, arguments);\n\t\t\t\t},\n\t\n\t\t\t\tmoveBy: function() {\n\t\t\t\t\tvar current = getCurrentPath(this, true),\n\t\t\t\t\t\tlast = current && current.getLastSegment(),\n\t\t\t\t\t\tpoint = Point.read(arguments);\n\t\t\t\t\tthis.moveTo(last ? point.add(last._point) : point);\n\t\t\t\t},\n\t\n\t\t\t\tclosePath: function(tolerance) {\n\t\t\t\t\tgetCurrentPath(this, true).closePath(tolerance);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}, Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function(key) {\n\t\tthis[key] = function(param) {\n\t\t\tvar children = this._children,\n\t\t\t\tres;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tres = children[i][key](param) || res;\n\t\t\t}\n\t\t\treturn res;\n\t\t};\n\t}, {}));\n\t\n\tPathItem.inject(new function() {\n\t\tvar min = Math.min,\n\t\t\tmax = Math.max,\n\t\t\tabs = Math.abs,\n\t\t\toperators = {\n\t\t\t\tunite:     { '1': true, '2': true },\n\t\t\t\tintersect: { '2': true },\n\t\t\t\tsubtract:  { '1': true },\n\t\t\t\texclude:   { '1': true, '-1': true }\n\t\t\t};\n\t\n\t\tfunction preparePath(path, resolve) {\n\t\t\tvar res = path.clone(false).reduce({ simplify: true })\n\t\t\t\t\t.transform(null, true, true);\n\t\t\treturn resolve\n\t\t\t\t\t? res.resolveCrossings().reorient(\n\t\t\t\t\t\tres.getFillRule() === 'nonzero', true)\n\t\t\t\t\t: res;\n\t\t}\n\t\n\t\tfunction createResult(paths, simplify, path1, path2, options) {\n\t\t\tvar result = new CompoundPath(Item.NO_INSERT);\n\t\t\tresult.addChildren(paths, true);\n\t\t\tresult = result.reduce({ simplify: simplify });\n\t\t\tif (!(options && options.insert == false)) {\n\t\t\t\tresult.insertAbove(path2 && path1.isSibling(path2)\n\t\t\t\t\t\t&& path1.getIndex() < path2.getIndex() ? path2 : path1);\n\t\t\t}\n\t\t\tresult.copyAttributes(path1, true);\n\t\t\treturn result;\n\t\t}\n\t\n\t\tfunction traceBoolean(path1, path2, operation, options) {\n\t\t\tif (options && (options.trace == false || options.stroke) &&\n\t\t\t\t\t/^(subtract|intersect)$/.test(operation))\n\t\t\t\treturn splitBoolean(path1, path2, operation);\n\t\t\tvar _path1 = preparePath(path1, true),\n\t\t\t\t_path2 = path2 && path1 !== path2 && preparePath(path2, true),\n\t\t\t\toperator = operators[operation];\n\t\t\toperator[operation] = true;\n\t\t\tif (_path2 && (operator.subtract || operator.exclude)\n\t\t\t\t\t^ (_path2.isClockwise() ^ _path1.isClockwise()))\n\t\t\t\t_path2.reverse();\n\t\t\tvar crossings = divideLocations(\n\t\t\t\t\tCurveLocation.expand(_path1.getCrossings(_path2))),\n\t\t\t\tpaths1 = _path1._children || [_path1],\n\t\t\t\tpaths2 = _path2 && (_path2._children || [_path2]),\n\t\t\t\tsegments = [],\n\t\t\t\tcurves = [],\n\t\t\t\tpaths;\n\t\n\t\t\tfunction collect(paths) {\n\t\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\t\tvar path = paths[i];\n\t\t\t\t\tsegments.push.apply(segments, path._segments);\n\t\t\t\t\tcurves.push.apply(curves, path.getCurves());\n\t\t\t\t\tpath._overlapsOnly = true;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (crossings.length) {\n\t\t\t\tcollect(paths1);\n\t\t\t\tif (paths2)\n\t\t\t\t\tcollect(paths2);\n\t\t\t\tfor (var i = 0, l = crossings.length; i < l; i++) {\n\t\t\t\t\tpropagateWinding(crossings[i]._segment, _path1, _path2, curves,\n\t\t\t\t\t\t\toperator);\n\t\t\t\t}\n\t\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\t\tvar segment = segments[i],\n\t\t\t\t\t\tinter = segment._intersection;\n\t\t\t\t\tif (!segment._winding) {\n\t\t\t\t\t\tpropagateWinding(segment, _path1, _path2, curves, operator);\n\t\t\t\t\t}\n\t\t\t\t\tif (!(inter && inter._overlap))\n\t\t\t\t\t\tsegment._path._overlapsOnly = false;\n\t\t\t\t}\n\t\t\t\tpaths = tracePaths(segments, operator);\n\t\t\t} else {\n\t\t\t\tpaths = reorientPaths(\n\t\t\t\t\t\tpaths2 ? paths1.concat(paths2) : paths1.slice(),\n\t\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\t\treturn !!operator[w];\n\t\t\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn createResult(paths, true, path1, path2, options);\n\t\t}\n\t\n\t\tfunction splitBoolean(path1, path2, operation) {\n\t\t\tvar _path1 = preparePath(path1),\n\t\t\t\t_path2 = preparePath(path2),\n\t\t\t\tcrossings = _path1.getCrossings(_path2),\n\t\t\t\tsubtract = operation === 'subtract',\n\t\t\t\tdivide = operation === 'divide',\n\t\t\t\tadded = {},\n\t\t\t\tpaths = [];\n\t\n\t\t\tfunction addPath(path) {\n\t\t\t\tif (!added[path._id] && (divide ||\n\t\t\t\t\t\t_path2.contains(path.getPointAt(path.getLength() / 2))\n\t\t\t\t\t\t\t^ subtract)) {\n\t\t\t\t\tpaths.unshift(path);\n\t\t\t\t\treturn added[path._id] = true;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfor (var i = crossings.length - 1; i >= 0; i--) {\n\t\t\t\tvar path = crossings[i].split();\n\t\t\t\tif (path) {\n\t\t\t\t\tif (addPath(path))\n\t\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t\t_path1.getLastSegment().setHandleOut(0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\taddPath(_path1);\n\t\t\treturn createResult(paths, false, path1, path2);\n\t\t}\n\t\n\t\tfunction linkIntersections(from, to) {\n\t\t\tvar prev = from;\n\t\t\twhile (prev) {\n\t\t\t\tif (prev === to)\n\t\t\t\t\treturn;\n\t\t\t\tprev = prev._previous;\n\t\t\t}\n\t\t\twhile (from._next && from._next !== to)\n\t\t\t\tfrom = from._next;\n\t\t\tif (!from._next) {\n\t\t\t\twhile (to._previous)\n\t\t\t\t\tto = to._previous;\n\t\t\t\tfrom._next = to;\n\t\t\t\tto._previous = from;\n\t\t\t}\n\t\t}\n\t\n\t\tfunction clearCurveHandles(curves) {\n\t\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\t\tcurves[i].clearHandles();\n\t\t}\n\t\n\t\tfunction reorientPaths(paths, isInside, clockwise) {\n\t\t\tvar length = paths && paths.length;\n\t\t\tif (length) {\n\t\t\t\tvar lookup = Base.each(paths, function (path, i) {\n\t\t\t\t\t\tthis[path._id] = {\n\t\t\t\t\t\t\tcontainer: null,\n\t\t\t\t\t\t\twinding: path.isClockwise() ? 1 : -1,\n\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t};\n\t\t\t\t\t}, {}),\n\t\t\t\t\tsorted = paths.slice().sort(function (a, b) {\n\t\t\t\t\t\treturn abs(b.getArea()) - abs(a.getArea());\n\t\t\t\t\t}),\n\t\t\t\t\tfirst = sorted[0];\n\t\t\t\tif (clockwise == null)\n\t\t\t\t\tclockwise = first.isClockwise();\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tvar path1 = sorted[i],\n\t\t\t\t\t\tentry1 = lookup[path1._id],\n\t\t\t\t\t\tpoint = path1.getInteriorPoint(),\n\t\t\t\t\t\tcontainerWinding = 0;\n\t\t\t\t\tfor (var j = i - 1; j >= 0; j--) {\n\t\t\t\t\t\tvar path2 = sorted[j];\n\t\t\t\t\t\tif (path2.contains(point)) {\n\t\t\t\t\t\t\tvar entry2 = lookup[path2._id];\n\t\t\t\t\t\t\tcontainerWinding = entry2.winding;\n\t\t\t\t\t\t\tentry1.winding += containerWinding;\n\t\t\t\t\t\t\tentry1.container = entry2.exclude ? entry2.container\n\t\t\t\t\t\t\t\t\t: path2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (isInside(entry1.winding) === isInside(containerWinding)) {\n\t\t\t\t\t\tentry1.exclude = true;\n\t\t\t\t\t\tpaths[entry1.index] = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar container = entry1.container;\n\t\t\t\t\t\tpath1.setClockwise(container ? !container.isClockwise()\n\t\t\t\t\t\t\t\t: clockwise);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn paths;\n\t\t}\n\t\n\t\tfunction divideLocations(locations, include, clearLater) {\n\t\t\tvar results = include && [],\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\tclearHandles = false,\n\t\t\t\tclearCurves = clearLater || [],\n\t\t\t\tclearLookup = clearLater && {},\n\t\t\t\trenormalizeLocs,\n\t\t\t\tprevCurve,\n\t\t\t\tprevTime;\n\t\n\t\t\tfunction getId(curve) {\n\t\t\t\treturn curve._path._id + '.' + curve._segment1._index;\n\t\t\t}\n\t\n\t\t\tfor (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n\t\t\t\tvar curve = clearLater[i];\n\t\t\t\tif (curve._path)\n\t\t\t\t\tclearLookup[getId(curve)] = true;\n\t\t\t}\n\t\n\t\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\t\tvar loc = locations[i],\n\t\t\t\t\ttime = loc._time,\n\t\t\t\t\torigTime = time,\n\t\t\t\t\texclude = include && !include(loc),\n\t\t\t\t\tcurve = loc._curve,\n\t\t\t\t\tsegment;\n\t\t\t\tif (curve) {\n\t\t\t\t\tif (curve !== prevCurve) {\n\t\t\t\t\t\tclearHandles = !curve.hasHandles()\n\t\t\t\t\t\t\t\t|| clearLookup && clearLookup[getId(curve)];\n\t\t\t\t\t\trenormalizeLocs = [];\n\t\t\t\t\t\tprevTime = null;\n\t\t\t\t\t\tprevCurve = curve;\n\t\t\t\t\t} else if (prevTime >= tMin) {\n\t\t\t\t\t\ttime /= prevTime;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (exclude) {\n\t\t\t\t\tif (renormalizeLocs)\n\t\t\t\t\t\trenormalizeLocs.push(loc);\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if (include) {\n\t\t\t\t\tresults.unshift(loc);\n\t\t\t\t}\n\t\t\t\tprevTime = origTime;\n\t\t\t\tif (time < tMin) {\n\t\t\t\t\tsegment = curve._segment1;\n\t\t\t\t} else if (time > tMax) {\n\t\t\t\t\tsegment = curve._segment2;\n\t\t\t\t} else {\n\t\t\t\t\tvar newCurve = curve.divideAtTime(time, true);\n\t\t\t\t\tif (clearHandles)\n\t\t\t\t\t\tclearCurves.push(curve, newCurve);\n\t\t\t\t\tsegment = newCurve._segment1;\n\t\t\t\t\tfor (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tvar l = renormalizeLocs[j];\n\t\t\t\t\t\tl._time = (l._time - time) / (1 - time);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tloc._setSegment(segment);\n\t\t\t\tvar inter = segment._intersection,\n\t\t\t\t\tdest = loc._intersection;\n\t\t\t\tif (inter) {\n\t\t\t\t\tlinkIntersections(inter, dest);\n\t\t\t\t\tvar other = inter;\n\t\t\t\t\twhile (other) {\n\t\t\t\t\t\tlinkIntersections(other._intersection, inter);\n\t\t\t\t\t\tother = other._next;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsegment._intersection = dest;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!clearLater)\n\t\t\t\tclearCurveHandles(clearCurves);\n\t\t\treturn results || locations;\n\t\t}\n\t\n\t\tfunction getWinding(point, curves, dir, closed, dontFlip) {\n\t\t\tvar ia = dir ? 1 : 0,\n\t\t\t\tio = ia ^ 1,\n\t\t\t\tpv = [point.x, point.y],\n\t\t\t\tpa = pv[ia],\n\t\t\t\tpo = pv[io],\n\t\t\t\twindingEpsilon = 1e-9,\n\t\t\t\tqualityEpsilon = 1e-6,\n\t\t\t\tpaL = pa - windingEpsilon,\n\t\t\t\tpaR = pa + windingEpsilon,\n\t\t\t\twindingL = 0,\n\t\t\t\twindingR = 0,\n\t\t\t\tpathWindingL = 0,\n\t\t\t\tpathWindingR = 0,\n\t\t\t\tonPath = false,\n\t\t\t\tonAnyPath = false,\n\t\t\t\tquality = 1,\n\t\t\t\troots = [],\n\t\t\t\tvPrev,\n\t\t\t\tvClose;\n\t\n\t\t\tfunction addWinding(v) {\n\t\t\t\tvar o0 = v[io + 0],\n\t\t\t\t\to3 = v[io + 6];\n\t\t\t\tif (po < min(o0, o3) || po > max(o0, o3)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar a0 = v[ia + 0],\n\t\t\t\t\ta1 = v[ia + 2],\n\t\t\t\t\ta2 = v[ia + 4],\n\t\t\t\t\ta3 = v[ia + 6];\n\t\t\t\tif (o0 === o3) {\n\t\t\t\t\tif (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar t =   po === o0 ? 0\n\t\t\t\t\t\t: po === o3 ? 1\n\t\t\t\t\t\t: paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3)\n\t\t\t\t\t\t? 1\n\t\t\t\t\t\t: Curve.solveCubic(v, io, po, roots, 0, 1) > 0\n\t\t\t\t\t\t\t? roots[0]\n\t\t\t\t\t\t\t: 1,\n\t\t\t\t\ta =   t === 0 ? a0\n\t\t\t\t\t\t: t === 1 ? a3\n\t\t\t\t\t\t: Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n\t\t\t\t\twinding = o0 > o3 ? 1 : -1,\n\t\t\t\t\twindingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n\t\t\t\t\ta3Prev = vPrev[ia + 6];\n\t\t\t\tif (po !== o0) {\n\t\t\t\t\tif (a < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t} else if (a > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (a > pa - qualityEpsilon && a < pa + qualityEpsilon)\n\t\t\t\t\t\tquality /= 2;\n\t\t\t\t} else {\n\t\t\t\t\tif (winding !== windingPrev) {\n\t\t\t\t\t\tif (a0 < paL) {\n\t\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t\t} else if (a0 > paR) {\n\t\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (a0 != a3Prev) {\n\t\t\t\t\t\tif (a3Prev < paR && a > paR) {\n\t\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t\t} else if (a3Prev > paL && a < paL) {\n\t\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tquality = 0;\n\t\t\t\t}\n\t\t\t\tvPrev = v;\n\t\t\t\treturn !dontFlip && a > paL && a < paR\n\t\t\t\t\t\t&& Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0\n\t\t\t\t\t\t&& getWinding(point, curves, !dir, closed, true);\n\t\t\t}\n\t\n\t\t\tfunction handleCurve(v) {\n\t\t\t\tvar o0 = v[io + 0],\n\t\t\t\t\to1 = v[io + 2],\n\t\t\t\t\to2 = v[io + 4],\n\t\t\t\t\to3 = v[io + 6];\n\t\t\t\tif (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n\t\t\t\t\tvar a0 = v[ia + 0],\n\t\t\t\t\t\ta1 = v[ia + 2],\n\t\t\t\t\t\ta2 = v[ia + 4],\n\t\t\t\t\t\ta3 = v[ia + 6],\n\t\t\t\t\t\tmonoCurves = paL > max(a0, a1, a2, a3) ||\n\t\t\t\t\t\t\t\t\t paR < min(a0, a1, a2, a3)\n\t\t\t\t\t\t\t\t? [v] : Curve.getMonoCurves(v, dir),\n\t\t\t\t\t\tres;\n\t\t\t\t\tfor (var i = 0, l = monoCurves.length; i < l; i++) {\n\t\t\t\t\t\tif (res = addWinding(monoCurves[i]))\n\t\t\t\t\t\t\treturn res;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar curve = curves[i],\n\t\t\t\t\tpath = curve._path,\n\t\t\t\t\tv = curve.getValues(),\n\t\t\t\t\tres;\n\t\t\t\tif (!i || curves[i - 1]._path !== path) {\n\t\t\t\t\tvPrev = null;\n\t\t\t\t\tif (!path._closed) {\n\t\t\t\t\t\tvClose = Curve.getValues(\n\t\t\t\t\t\t\t\tpath.getLastCurve().getSegment2(),\n\t\t\t\t\t\t\t\tcurve.getSegment1(),\n\t\t\t\t\t\t\t\tnull, !closed);\n\t\t\t\t\t\tif (vClose[io] !== vClose[io + 6]) {\n\t\t\t\t\t\t\tvPrev = vClose;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (!vPrev) {\n\t\t\t\t\t\tvPrev = v;\n\t\t\t\t\t\tvar prev = path.getLastCurve();\n\t\t\t\t\t\twhile (prev && prev !== curve) {\n\t\t\t\t\t\t\tvar v2 = prev.getValues();\n\t\t\t\t\t\t\tif (v2[io] !== v2[io + 6]) {\n\t\t\t\t\t\t\t\tvPrev = v2;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprev = prev.getPrevious();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (res = handleCurve(v))\n\t\t\t\t\treturn res;\n\t\n\t\t\t\tif (i + 1 === l || curves[i + 1]._path !== path) {\n\t\t\t\t\tif (vClose && (res = handleCurve(vClose)))\n\t\t\t\t\t\treturn res;\n\t\t\t\t\tif (onPath && !pathWindingL && !pathWindingR) {\n\t\t\t\t\t\tpathWindingL = pathWindingR = path.isClockwise(closed) ^ dir\n\t\t\t\t\t\t\t\t? 1 : -1;\n\t\t\t\t\t}\n\t\t\t\t\twindingL += pathWindingL;\n\t\t\t\t\twindingR += pathWindingR;\n\t\t\t\t\tpathWindingL = pathWindingR = 0;\n\t\t\t\t\tif (onPath) {\n\t\t\t\t\t\tonAnyPath = true;\n\t\t\t\t\t\tonPath = false;\n\t\t\t\t\t}\n\t\t\t\t\tvClose = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\twindingL = abs(windingL);\n\t\t\twindingR = abs(windingR);\n\t\t\treturn {\n\t\t\t\twinding: max(windingL, windingR),\n\t\t\t\twindingL: windingL,\n\t\t\t\twindingR: windingR,\n\t\t\t\tquality: quality,\n\t\t\t\tonPath: onAnyPath\n\t\t\t};\n\t\t}\n\t\n\t\tfunction propagateWinding(segment, path1, path2, curves, operator) {\n\t\t\tvar chain = [],\n\t\t\t\tstart = segment,\n\t\t\t\ttotalLength = 0,\n\t\t\t\twinding;\n\t\t\tdo {\n\t\t\t\tvar curve = segment.getCurve(),\n\t\t\t\t\tlength = curve.getLength();\n\t\t\t\tchain.push({ segment: segment, curve: curve, length: length });\n\t\t\t\ttotalLength += length;\n\t\t\t\tsegment = segment.getNext();\n\t\t\t} while (segment && !segment._intersection && segment !== start);\n\t\t\tvar offsets = [0.5, 0.25, 0.75],\n\t\t\t\twinding = { winding: 0, quality: -1 },\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tfor (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n\t\t\t\tvar length = totalLength * offsets[i];\n\t\t\t\tfor (var j = 0, l = chain.length; j < l; j++) {\n\t\t\t\t\tvar entry = chain[j],\n\t\t\t\t\t\tcurveLength = entry.length;\n\t\t\t\t\tif (length <= curveLength) {\n\t\t\t\t\t\tvar curve = entry.curve,\n\t\t\t\t\t\t\tpath = curve._path,\n\t\t\t\t\t\t\tparent = path._parent,\n\t\t\t\t\t\t\toperand = parent instanceof CompoundPath ? parent : path,\n\t\t\t\t\t\t\tt = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n\t\t\t\t\t\t\tpt = curve.getPointAtTime(t),\n\t\t\t\t\t\t\tdir = abs(curve.getTangentAtTime(t).y) < Math.SQRT1_2;\n\t\t\t\t\t\tvar wind = !(operator.subtract && path2 && (\n\t\t\t\t\t\t\t\toperand === path1 &&\n\t\t\t\t\t\t\t\t\tpath2._getWinding(pt, dir, true).winding ||\n\t\t\t\t\t\t\t\toperand === path2 &&\n\t\t\t\t\t\t\t\t\t!path1._getWinding(pt, dir, true).winding))\n\t\t\t\t\t\t\t\t? getWinding(pt, curves, dir, true)\n\t\t\t\t\t\t\t\t: { winding: 0, quality: 1 };\n\t\t\t\t\t\tif (wind.quality > winding.quality)\n\t\t\t\t\t\t\twinding = wind;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tlength -= curveLength;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var j = chain.length - 1; j >= 0; j--) {\n\t\t\t\tchain[j].segment._winding = winding;\n\t\t\t}\n\t\t}\n\t\n\t\tfunction tracePaths(segments, operator) {\n\t\t\tvar paths = [],\n\t\t\t\tstarts;\n\t\n\t\t\tfunction isValid(seg) {\n\t\t\t\tvar winding;\n\t\t\t\treturn !!(seg && !seg._visited && (!operator\n\t\t\t\t\t\t|| operator[(winding = seg._winding || {}).winding]\n\t\t\t\t\t\t\t&& !(operator.unite && winding.winding === 2\n\t\t\t\t\t\t\t\t&& winding.windingL && winding.windingR)));\n\t\t\t}\n\t\n\t\t\tfunction isStart(seg) {\n\t\t\t\tif (seg) {\n\t\t\t\t\tfor (var i = 0, l = starts.length; i < l; i++) {\n\t\t\t\t\t\tif (seg === starts[i])\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tfunction visitPath(path) {\n\t\t\t\tvar segments = path._segments;\n\t\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\t\tsegments[i]._visited = true;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfunction getCrossingSegments(segment, collectStarts) {\n\t\t\t\tvar inter = segment._intersection,\n\t\t\t\t\tstart = inter,\n\t\t\t\t\tcrossings = [];\n\t\t\t\tif (collectStarts)\n\t\t\t\t\tstarts = [segment];\n\t\n\t\t\t\tfunction collect(inter, end) {\n\t\t\t\t\twhile (inter && inter !== end) {\n\t\t\t\t\t\tvar other = inter._segment,\n\t\t\t\t\t\t\tpath = other._path,\n\t\t\t\t\t\t\tnext = other.getNext() || path && path.getFirstSegment(),\n\t\t\t\t\t\t\tnextInter = next && next._intersection;\n\t\t\t\t\t\tif (other !== segment && (isStart(other) || isStart(next)\n\t\t\t\t\t\t\t|| next && (isValid(other) && (isValid(next)\n\t\t\t\t\t\t\t\t|| nextInter && isValid(nextInter._segment))))) {\n\t\t\t\t\t\t\tcrossings.push(other);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (collectStarts)\n\t\t\t\t\t\t\tstarts.push(other);\n\t\t\t\t\t\tinter = inter._next;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (inter) {\n\t\t\t\t\tcollect(inter);\n\t\t\t\t\twhile (inter && inter._prev)\n\t\t\t\t\t\tinter = inter._prev;\n\t\t\t\t\tcollect(inter, start);\n\t\t\t\t}\n\t\t\t\treturn crossings;\n\t\t\t}\n\t\n\t\t\tsegments.sort(function(seg1, seg2) {\n\t\t\t\tvar inter1 = seg1._intersection,\n\t\t\t\t\tinter2 = seg2._intersection,\n\t\t\t\t\tover1 = !!(inter1 && inter1._overlap),\n\t\t\t\t\tover2 = !!(inter2 && inter2._overlap),\n\t\t\t\t\tpath1 = seg1._path,\n\t\t\t\t\tpath2 = seg2._path;\n\t\t\t\treturn over1 ^ over2\n\t\t\t\t\t\t? over1 ? 1 : -1\n\t\t\t\t\t\t: !inter1 ^ !inter2\n\t\t\t\t\t\t\t? inter1 ? 1 : -1\n\t\t\t\t\t\t\t: path1 !== path2\n\t\t\t\t\t\t\t\t? path1._id - path2._id\n\t\t\t\t\t\t\t\t: seg1._index - seg2._index;\n\t\t\t});\n\t\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar seg = segments[i],\n\t\t\t\t\tvalid = isValid(seg),\n\t\t\t\t\tpath = null,\n\t\t\t\t\tfinished = false,\n\t\t\t\t\tclosed = true,\n\t\t\t\t\tbranches = [],\n\t\t\t\t\tbranch,\n\t\t\t\t\tvisited,\n\t\t\t\t\thandleIn;\n\t\t\t\tif (valid && seg._path._overlapsOnly) {\n\t\t\t\t\tvar path1 = seg._path,\n\t\t\t\t\t\tpath2 = seg._intersection._segment._path;\n\t\t\t\t\tif (path1.compare(path2)) {\n\t\t\t\t\t\tif (path1.getArea())\n\t\t\t\t\t\t\tpaths.push(path1.clone(false));\n\t\t\t\t\t\tvisitPath(path1);\n\t\t\t\t\t\tvisitPath(path2);\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twhile (valid) {\n\t\t\t\t\tvar first = !path,\n\t\t\t\t\t\tcrossings = getCrossingSegments(seg, first),\n\t\t\t\t\t\tother = crossings.shift(),\n\t\t\t\t\t\tfinished = !first && (isStart(seg) || isStart(other)),\n\t\t\t\t\t\tcross = !finished && other;\n\t\t\t\t\tif (first) {\n\t\t\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\t\t\tbranch = null;\n\t\t\t\t\t}\n\t\t\t\t\tif (finished) {\n\t\t\t\t\t\tif (seg.isFirst() || seg.isLast())\n\t\t\t\t\t\t\tclosed = seg._path._closed;\n\t\t\t\t\t\tseg._visited = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (cross && branch) {\n\t\t\t\t\t\tbranches.push(branch);\n\t\t\t\t\t\tbranch = null;\n\t\t\t\t\t}\n\t\t\t\t\tif (!branch) {\n\t\t\t\t\t\tif (cross)\n\t\t\t\t\t\t\tcrossings.push(seg);\n\t\t\t\t\t\tbranch = {\n\t\t\t\t\t\t\tstart: path._segments.length,\n\t\t\t\t\t\t\tcrossings: crossings,\n\t\t\t\t\t\t\tvisited: visited = [],\n\t\t\t\t\t\t\thandleIn: handleIn\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif (cross)\n\t\t\t\t\t\tseg = other;\n\t\t\t\t\tif (!isValid(seg)) {\n\t\t\t\t\t\tpath.removeSegments(branch.start);\n\t\t\t\t\t\tfor (var j = 0, k = visited.length; j < k; j++) {\n\t\t\t\t\t\t\tvisited[j]._visited = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvisited.length = 0;\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tseg = branch && branch.crossings.shift();\n\t\t\t\t\t\t\tif (!seg) {\n\t\t\t\t\t\t\t\tbranch = branches.pop();\n\t\t\t\t\t\t\t\tif (branch) {\n\t\t\t\t\t\t\t\t\tvisited = branch.visited;\n\t\t\t\t\t\t\t\t\thandleIn = branch.handleIn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} while (branch && !isValid(seg));\n\t\t\t\t\t\tif (!seg)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tvar next = seg.getNext();\n\t\t\t\t\tpath.add(new Segment(seg._point, handleIn,\n\t\t\t\t\t\t\tnext && seg._handleOut));\n\t\t\t\t\tseg._visited = true;\n\t\t\t\t\tvisited.push(seg);\n\t\t\t\t\tseg = next || seg._path.getFirstSegment();\n\t\t\t\t\thandleIn = next && next._handleIn;\n\t\t\t\t}\n\t\t\t\tif (finished) {\n\t\t\t\t\tif (closed) {\n\t\t\t\t\t\tpath.getFirstSegment().setHandleIn(handleIn);\n\t\t\t\t\t\tpath.setClosed(closed);\n\t\t\t\t\t}\n\t\t\t\t\tif (path.getArea() !== 0) {\n\t\t\t\t\t\tpaths.push(path);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn paths;\n\t\t}\n\t\n\t\treturn {\n\t\t\t_getWinding: function(point, dir, closed) {\n\t\t\t\treturn getWinding(point, this.getCurves(), dir, closed);\n\t\t\t},\n\t\n\t\t\tunite: function(path, options) {\n\t\t\t\treturn traceBoolean(this, path, 'unite', options);\n\t\t\t},\n\t\n\t\t\tintersect: function(path, options) {\n\t\t\t\treturn traceBoolean(this, path, 'intersect', options);\n\t\t\t},\n\t\n\t\t\tsubtract: function(path, options) {\n\t\t\t\treturn traceBoolean(this, path, 'subtract', options);\n\t\t\t},\n\t\n\t\t\texclude: function(path, options) {\n\t\t\t\treturn traceBoolean(this, path, 'exclude', options);\n\t\t\t},\n\t\n\t\t\tdivide: function(path, options) {\n\t\t\t\treturn options && (options.trace == false || options.stroke)\n\t\t\t\t\t\t? splitBoolean(this, path, 'divide')\n\t\t\t\t\t\t: createResult([\n\t\t\t\t\t\t\tthis.subtract(path, options),\n\t\t\t\t\t\t\tthis.intersect(path, options)\n\t\t\t\t\t\t], true, this, path, options);\n\t\t\t},\n\t\n\t\t\tresolveCrossings: function() {\n\t\t\t\tvar children = this._children,\n\t\t\t\t\tpaths = children || [this];\n\t\n\t\t\t\tfunction hasOverlap(seg) {\n\t\t\t\t\tvar inter = seg && seg._intersection;\n\t\t\t\t\treturn inter && inter._overlap;\n\t\t\t\t}\n\t\n\t\t\t\tvar hasOverlaps = false,\n\t\t\t\t\thasCrossings = false,\n\t\t\t\t\tintersections = this.getIntersections(null, function(inter) {\n\t\t\t\t\t\treturn inter.hasOverlap() && (hasOverlaps = true) ||\n\t\t\t\t\t\t\t\tinter.isCrossing() && (hasCrossings = true);\n\t\t\t\t\t}),\n\t\t\t\t\tclearCurves = hasOverlaps && hasCrossings && [];\n\t\t\t\tintersections = CurveLocation.expand(intersections);\n\t\t\t\tif (hasOverlaps) {\n\t\t\t\t\tvar overlaps = divideLocations(intersections, function(inter) {\n\t\t\t\t\t\treturn inter.hasOverlap();\n\t\t\t\t\t}, clearCurves);\n\t\t\t\t\tfor (var i = overlaps.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tvar seg = overlaps[i]._segment,\n\t\t\t\t\t\t\tprev = seg.getPrevious(),\n\t\t\t\t\t\t\tnext = seg.getNext();\n\t\t\t\t\t\tif (hasOverlap(prev) && hasOverlap(next)) {\n\t\t\t\t\t\t\tseg.remove();\n\t\t\t\t\t\t\tprev._handleOut._set(0, 0);\n\t\t\t\t\t\t\tnext._handleIn._set(0, 0);\n\t\t\t\t\t\t\tif (prev !== seg && !prev.getCurve().hasLength()) {\n\t\t\t\t\t\t\t\tnext._handleIn.set(prev._handleIn);\n\t\t\t\t\t\t\t\tprev.remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (hasCrossings) {\n\t\t\t\t\tdivideLocations(intersections, hasOverlaps && function(inter) {\n\t\t\t\t\t\tvar curve1 = inter.getCurve(),\n\t\t\t\t\t\t\tseg1 = inter.getSegment(),\n\t\t\t\t\t\t\tother = inter._intersection,\n\t\t\t\t\t\t\tcurve2 = other._curve,\n\t\t\t\t\t\t\tseg2 = other._segment;\n\t\t\t\t\t\tif (curve1 && curve2 && curve1._path && curve2._path)\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\tif (seg1)\n\t\t\t\t\t\t\tseg1._intersection = null;\n\t\t\t\t\t\tif (seg2)\n\t\t\t\t\t\t\tseg2._intersection = null;\n\t\t\t\t\t}, clearCurves);\n\t\t\t\t\tif (clearCurves)\n\t\t\t\t\t\tclearCurveHandles(clearCurves);\n\t\t\t\t\tpaths = tracePaths(Base.each(paths, function(path) {\n\t\t\t\t\t\tthis.push.apply(this, path._segments);\n\t\t\t\t\t}, []));\n\t\t\t\t}\n\t\t\t\tvar length = paths.length,\n\t\t\t\t\titem;\n\t\t\t\tif (length > 1 && children) {\n\t\t\t\t\tif (paths !== children)\n\t\t\t\t\t\tthis.setChildren(paths);\n\t\t\t\t\titem = this;\n\t\t\t\t} else if (length === 1 && !children) {\n\t\t\t\t\tif (paths[0] !== this)\n\t\t\t\t\t\tthis.setSegments(paths[0].removeSegments());\n\t\t\t\t\titem = this;\n\t\t\t\t}\n\t\t\t\tif (!item) {\n\t\t\t\t\titem = new CompoundPath(Item.NO_INSERT);\n\t\t\t\t\titem.addChildren(paths);\n\t\t\t\t\titem = item.reduce();\n\t\t\t\t\titem.copyAttributes(this);\n\t\t\t\t\tthis.replaceWith(item);\n\t\t\t\t}\n\t\t\t\treturn item;\n\t\t\t},\n\t\n\t\t\treorient: function(nonZero, clockwise) {\n\t\t\t\tvar children = this._children;\n\t\t\t\tif (children && children.length) {\n\t\t\t\t\tthis.setChildren(reorientPaths(this.removeChildren(),\n\t\t\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\t\t\treturn !!(nonZero ? w : w & 1);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tclockwise));\n\t\t\t\t} else if (clockwise !== undefined) {\n\t\t\t\t\tthis.setClockwise(clockwise);\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\n\t\t\tgetInteriorPoint: function() {\n\t\t\t\tvar bounds = this.getBounds(),\n\t\t\t\t\tpoint = bounds.getCenter(true);\n\t\t\t\tif (!this.contains(point)) {\n\t\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\t\ty = point.y,\n\t\t\t\t\t\tintercepts = [],\n\t\t\t\t\t\troots = [];\n\t\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\t\t\tvar v = curves[i].getValues(),\n\t\t\t\t\t\t\to0 = v[1],\n\t\t\t\t\t\t\to1 = v[3],\n\t\t\t\t\t\t\to2 = v[5],\n\t\t\t\t\t\t\to3 = v[7];\n\t\t\t\t\t\tif (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n\t\t\t\t\t\t\tvar monoCurves = Curve.getMonoCurves(v);\n\t\t\t\t\t\t\tfor (var j = 0, m = monoCurves.length; j < m; j++) {\n\t\t\t\t\t\t\t\tvar mv = monoCurves[j],\n\t\t\t\t\t\t\t\t\tmo0 = mv[1],\n\t\t\t\t\t\t\t\t\tmo3 = mv[7];\n\t\t\t\t\t\t\t\tif ((mo0 !== mo3) &&\n\t\t\t\t\t\t\t\t\t(y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)){\n\t\t\t\t\t\t\t\t\tvar x = y === mo0 ? mv[0]\n\t\t\t\t\t\t\t\t\t\t: y === mo3 ? mv[6]\n\t\t\t\t\t\t\t\t\t\t: Curve.solveCubic(mv, 1, y, roots, 0, 1)\n\t\t\t\t\t\t\t\t\t\t\t=== 1\n\t\t\t\t\t\t\t\t\t\t\t? Curve.getPoint(mv, roots[0]).x\n\t\t\t\t\t\t\t\t\t\t\t: (mv[0] + mv[6]) / 2;\n\t\t\t\t\t\t\t\t\tintercepts.push(x);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (intercepts.length > 1) {\n\t\t\t\t\t\tintercepts.sort(function(a, b) { return a - b; });\n\t\t\t\t\t\tpoint.x = (intercepts[0] + intercepts[1]) / 2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn point;\n\t\t\t}\n\t\t};\n\t});\n\t\n\tvar PathFlattener = Base.extend({\n\t\t_class: 'PathFlattener',\n\t\n\t\tinitialize: function(path, flatness, maxRecursion, ignoreStraight, matrix) {\n\t\t\tvar curves = [],\n\t\t\t\tparts = [],\n\t\t\t\tlength = 0,\n\t\t\t\tminSpan = 1 / (maxRecursion || 32),\n\t\t\t\tsegments = path._segments,\n\t\t\t\tsegment1 = segments[0],\n\t\t\t\tsegment2;\n\t\n\t\t\tfunction addCurve(segment1, segment2) {\n\t\t\t\tvar curve = Curve.getValues(segment1, segment2, matrix);\n\t\t\t\tcurves.push(curve);\n\t\t\t\tcomputeParts(curve, segment1._index, 0, 1);\n\t\t\t}\n\t\n\t\t\tfunction computeParts(curve, index, t1, t2) {\n\t\t\t\tif ((t2 - t1) > minSpan\n\t\t\t\t\t\t&& !(ignoreStraight && Curve.isStraight(curve))\n\t\t\t\t\t\t&& !Curve.isFlatEnough(curve, flatness || 0.25)) {\n\t\t\t\t\tvar halves = Curve.subdivide(curve, 0.5),\n\t\t\t\t\t\ttMid = (t1 + t2) / 2;\n\t\t\t\t\tcomputeParts(halves[0], index, t1, tMid);\n\t\t\t\t\tcomputeParts(halves[1], index, tMid, t2);\n\t\t\t\t} else {\n\t\t\t\t\tvar dx = curve[6] - curve[0],\n\t\t\t\t\t\tdy = curve[7] - curve[1],\n\t\t\t\t\t\tdist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\t\tif (dist > 0) {\n\t\t\t\t\t\tlength += dist;\n\t\t\t\t\t\tparts.push({\n\t\t\t\t\t\t\toffset: length,\n\t\t\t\t\t\t\tcurve: curve,\n\t\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\t\ttime: t2,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfor (var i = 1, l = segments.length; i < l; i++) {\n\t\t\t\tsegment2 = segments[i];\n\t\t\t\taddCurve(segment1, segment2);\n\t\t\t\tsegment1 = segment2;\n\t\t\t}\n\t\t\tif (path._closed)\n\t\t\t\taddCurve(segment2, segments[0]);\n\t\t\tthis.curves = curves;\n\t\t\tthis.parts = parts;\n\t\t\tthis.length = length;\n\t\t\tthis.index = 0;\n\t\t},\n\t\n\t\t_get: function(offset) {\n\t\t\tvar parts = this.parts,\n\t\t\t\tlength = parts.length,\n\t\t\t\tstart,\n\t\t\t\ti, j = this.index;\n\t\t\tfor (;;) {\n\t\t\t\ti = j;\n\t\t\t\tif (!j || parts[--j].offset < offset)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tfor (; i < length; i++) {\n\t\t\t\tvar part = parts[i];\n\t\t\t\tif (part.offset >= offset) {\n\t\t\t\t\tthis.index = i;\n\t\t\t\t\tvar prev = parts[i - 1],\n\t\t\t\t\t\tprevTime = prev && prev.index === part.index ? prev.time : 0,\n\t\t\t\t\t\tprevOffset = prev ? prev.offset : 0;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tindex: part.index,\n\t\t\t\t\t\ttime: prevTime + (part.time - prevTime)\n\t\t\t\t\t\t\t* (offset - prevOffset) / (part.offset - prevOffset)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tindex: parts[length - 1].index,\n\t\t\t\ttime: 1\n\t\t\t};\n\t\t},\n\t\n\t\tdrawPart: function(ctx, from, to) {\n\t\t\tvar start = this._get(from),\n\t\t\t\tend = this._get(to);\n\t\t\tfor (var i = start.index, l = end.index; i <= l; i++) {\n\t\t\t\tvar curve = Curve.getPart(this.curves[i],\n\t\t\t\t\t\ti === start.index ? start.time : 0,\n\t\t\t\t\t\ti === end.index ? end.time : 1);\n\t\t\t\tif (i === start.index)\n\t\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\t\tctx.bezierCurveTo.apply(ctx, curve.slice(2));\n\t\t\t}\n\t\t}\n\t}, Base.each(Curve._evaluateMethods,\n\t\tfunction(name) {\n\t\t\tthis[name + 'At'] = function(offset) {\n\t\t\t\tvar param = this._get(offset);\n\t\t\t\treturn Curve[name](this.curves[param.index], param.time);\n\t\t\t};\n\t\t}, {})\n\t);\n\t\n\tvar PathFitter = Base.extend({\n\t\tinitialize: function(path) {\n\t\t\tvar points = this.points = [],\n\t\t\t\tsegments = path._segments,\n\t\t\t\tclosed = path._closed;\n\t\t\tfor (var i = 0, prev, l = segments.length; i < l; i++) {\n\t\t\t\tvar point = segments[i].point;\n\t\t\t\tif (!prev || !prev.equals(point)) {\n\t\t\t\t\tpoints.push(prev = point.clone());\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\tpoints.unshift(points[points.length - 1]);\n\t\t\t\tpoints.push(points[1]);\n\t\t\t}\n\t\t\tthis.closed = closed;\n\t\t},\n\t\n\t\tfit: function(error) {\n\t\t\tvar points = this.points,\n\t\t\t\tlength = points.length,\n\t\t\t\tsegments = null;\n\t\t\tif (length > 0) {\n\t\t\t\tsegments = [new Segment(points[0])];\n\t\t\t\tif (length > 1) {\n\t\t\t\t\tthis.fitCubic(segments, error, 0, length - 1,\n\t\t\t\t\t\t\tpoints[1].subtract(points[0]),\n\t\t\t\t\t\t\tpoints[length - 2].subtract(points[length - 1]));\n\t\t\t\t\tif (this.closed) {\n\t\t\t\t\t\tsegments.shift();\n\t\t\t\t\t\tsegments.pop();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn segments;\n\t\t},\n\t\n\t\tfitCubic: function(segments, error, first, last, tan1, tan2) {\n\t\t\tvar points = this.points;\n\t\t\tif (last - first === 1) {\n\t\t\t\tvar pt1 = points[first],\n\t\t\t\t\tpt2 = points[last],\n\t\t\t\t\tdist = pt1.getDistance(pt2) / 3;\n\t\t\t\tthis.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)),\n\t\t\t\t\t\tpt2.add(tan2.normalize(dist)), pt2]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar uPrime = this.chordLengthParameterize(first, last),\n\t\t\t\tmaxError = Math.max(error, error * error),\n\t\t\t\tsplit,\n\t\t\t\tparametersInOrder = true;\n\t\t\tfor (var i = 0; i <= 4; i++) {\n\t\t\t\tvar curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n\t\t\t\tvar max = this.findMaxError(first, last, curve, uPrime);\n\t\t\t\tif (max.error < error && parametersInOrder) {\n\t\t\t\t\tthis.addCurve(segments, curve);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsplit = max.index;\n\t\t\t\tif (max.error >= maxError)\n\t\t\t\t\tbreak;\n\t\t\t\tparametersInOrder = this.reparameterize(first, last, uPrime, curve);\n\t\t\t\tmaxError = max.error;\n\t\t\t}\n\t\t\tvar tanCenter = points[split - 1].subtract(points[split + 1]);\n\t\t\tthis.fitCubic(segments, error, first, split, tan1, tanCenter);\n\t\t\tthis.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n\t\t},\n\t\n\t\taddCurve: function(segments, curve) {\n\t\t\tvar prev = segments[segments.length - 1];\n\t\t\tprev.setHandleOut(curve[1].subtract(curve[0]));\n\t\t\tsegments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n\t\t},\n\t\n\t\tgenerateBezier: function(first, last, uPrime, tan1, tan2) {\n\t\t\tvar epsilon = 1e-12,\n\t\t\t\tabs = Math.abs,\n\t\t\t\tpoints = this.points,\n\t\t\t\tpt1 = points[first],\n\t\t\t\tpt2 = points[last],\n\t\t\t\tC = [[0, 0], [0, 0]],\n\t\t\t\tX = [0, 0];\n\t\n\t\t\tfor (var i = 0, l = last - first + 1; i < l; i++) {\n\t\t\t\tvar u = uPrime[i],\n\t\t\t\t\tt = 1 - u,\n\t\t\t\t\tb = 3 * u * t,\n\t\t\t\t\tb0 = t * t * t,\n\t\t\t\t\tb1 = b * t,\n\t\t\t\t\tb2 = b * u,\n\t\t\t\t\tb3 = u * u * u,\n\t\t\t\t\ta1 = tan1.normalize(b1),\n\t\t\t\t\ta2 = tan2.normalize(b2),\n\t\t\t\t\ttmp = points[first + i]\n\t\t\t\t\t\t.subtract(pt1.multiply(b0 + b1))\n\t\t\t\t\t\t.subtract(pt2.multiply(b2 + b3));\n\t\t\t\tC[0][0] += a1.dot(a1);\n\t\t\t\tC[0][1] += a1.dot(a2);\n\t\t\t\tC[1][0] = C[0][1];\n\t\t\t\tC[1][1] += a2.dot(a2);\n\t\t\t\tX[0] += a1.dot(tmp);\n\t\t\t\tX[1] += a2.dot(tmp);\n\t\t\t}\n\t\n\t\t\tvar detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n\t\t\t\talpha1,\n\t\t\t\talpha2;\n\t\t\tif (abs(detC0C1) > epsilon) {\n\t\t\t\tvar detC0X = C[0][0] * X[1]    - C[1][0] * X[0],\n\t\t\t\t\tdetXC1 = X[0]    * C[1][1] - X[1]    * C[0][1];\n\t\t\t\talpha1 = detXC1 / detC0C1;\n\t\t\t\talpha2 = detC0X / detC0C1;\n\t\t\t} else {\n\t\t\t\tvar c0 = C[0][0] + C[0][1],\n\t\t\t\t\tc1 = C[1][0] + C[1][1];\n\t\t\t\talpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0\n\t\t\t\t\t\t\t\t: abs(c1) > epsilon ? X[1] / c1\n\t\t\t\t\t\t\t\t: 0;\n\t\t\t}\n\t\n\t\t\tvar segLength = pt2.getDistance(pt1),\n\t\t\t\teps = epsilon * segLength,\n\t\t\t\thandle1,\n\t\t\t\thandle2;\n\t\t\tif (alpha1 < eps || alpha2 < eps) {\n\t\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t\t} else {\n\t\t\t\tvar line = pt2.subtract(pt1);\n\t\t\t\thandle1 = tan1.normalize(alpha1);\n\t\t\t\thandle2 = tan2.normalize(alpha2);\n\t\t\t\tif (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n\t\t\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t\t\t\thandle1 = handle2 = null;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn [pt1,\n\t\t\t\t\tpt1.add(handle1 || tan1.normalize(alpha1)),\n\t\t\t\t\tpt2.add(handle2 || tan2.normalize(alpha2)),\n\t\t\t\t\tpt2];\n\t\t},\n\t\n\t\treparameterize: function(first, last, u, curve) {\n\t\t\tfor (var i = first; i <= last; i++) {\n\t\t\t\tu[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n\t\t\t}\n\t\t\tfor (var i = 1, l = u.length; i < l; i++) {\n\t\t\t\tif (u[i] <= u[i - 1])\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\n\t\tfindRoot: function(curve, point, u) {\n\t\t\tvar curve1 = [],\n\t\t\t\tcurve2 = [];\n\t\t\tfor (var i = 0; i <= 2; i++) {\n\t\t\t\tcurve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n\t\t\t}\n\t\t\tfor (var i = 0; i <= 1; i++) {\n\t\t\t\tcurve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n\t\t\t}\n\t\t\tvar pt = this.evaluate(3, curve, u),\n\t\t\t\tpt1 = this.evaluate(2, curve1, u),\n\t\t\t\tpt2 = this.evaluate(1, curve2, u),\n\t\t\t\tdiff = pt.subtract(point),\n\t\t\t\tdf = pt1.dot(pt1) + diff.dot(pt2);\n\t\t\treturn Numerical.isZero(df) ? u : u - diff.dot(pt1) / df;\n\t\t},\n\t\n\t\tevaluate: function(degree, curve, t) {\n\t\t\tvar tmp = curve.slice();\n\t\t\tfor (var i = 1; i <= degree; i++) {\n\t\t\t\tfor (var j = 0; j <= degree - i; j++) {\n\t\t\t\t\ttmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn tmp[0];\n\t\t},\n\t\n\t\tchordLengthParameterize: function(first, last) {\n\t\t\tvar u = [0];\n\t\t\tfor (var i = first + 1; i <= last; i++) {\n\t\t\t\tu[i - first] = u[i - first - 1]\n\t\t\t\t\t\t+ this.points[i].getDistance(this.points[i - 1]);\n\t\t\t}\n\t\t\tfor (var i = 1, m = last - first; i <= m; i++) {\n\t\t\t\tu[i] /= u[m];\n\t\t\t}\n\t\t\treturn u;\n\t\t},\n\t\n\t\tfindMaxError: function(first, last, curve, u) {\n\t\t\tvar index = Math.floor((last - first + 1) / 2),\n\t\t\t\tmaxDist = 0;\n\t\t\tfor (var i = first + 1; i < last; i++) {\n\t\t\t\tvar P = this.evaluate(3, curve, u[i - first]);\n\t\t\t\tvar v = P.subtract(this.points[i]);\n\t\t\t\tvar dist = v.x * v.x + v.y * v.y;\n\t\t\t\tif (dist >= maxDist) {\n\t\t\t\t\tmaxDist = dist;\n\t\t\t\t\tindex = i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\terror: maxDist,\n\t\t\t\tindex: index\n\t\t\t};\n\t\t}\n\t});\n\t\n\tvar TextItem = Item.extend({\n\t\t_class: 'TextItem',\n\t\t_applyMatrix: false,\n\t\t_canApplyMatrix: false,\n\t\t_serializeFields: {\n\t\t\tcontent: null\n\t\t},\n\t\t_boundsOptions: { stroke: false, handle: false },\n\t\n\t\tinitialize: function TextItem(arg) {\n\t\t\tthis._content = '';\n\t\t\tthis._lines = [];\n\t\t\tvar hasProps = arg && Base.isPlainObject(arg)\n\t\t\t\t\t&& arg.x === undefined && arg.y === undefined;\n\t\t\tthis._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n\t\t},\n\t\n\t\t_equals: function(item) {\n\t\t\treturn this._content === item._content;\n\t\t},\n\t\n\t\tcopyContent: function(source) {\n\t\t\tthis.setContent(source._content);\n\t\t},\n\t\n\t\tgetContent: function() {\n\t\t\treturn this._content;\n\t\t},\n\t\n\t\tsetContent: function(content) {\n\t\t\tthis._content = '' + content;\n\t\t\tthis._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\t\t\tthis._changed(265);\n\t\t},\n\t\n\t\tisEmpty: function() {\n\t\t\treturn !this._content;\n\t\t},\n\t\n\t\tgetCharacterStyle: '#getStyle',\n\t\tsetCharacterStyle: '#setStyle',\n\t\n\t\tgetParagraphStyle: '#getStyle',\n\t\tsetParagraphStyle: '#setStyle'\n\t});\n\t\n\tvar PointText = TextItem.extend({\n\t\t_class: 'PointText',\n\t\n\t\tinitialize: function PointText() {\n\t\t\tTextItem.apply(this, arguments);\n\t\t},\n\t\n\t\tgetPoint: function() {\n\t\t\tvar point = this._matrix.getTranslation();\n\t\t\treturn new LinkedPoint(point.x, point.y, this, 'setPoint');\n\t\t},\n\t\n\t\tsetPoint: function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis.translate(point.subtract(this._matrix.getTranslation()));\n\t\t},\n\t\n\t\t_draw: function(ctx, param, viewMatrix) {\n\t\t\tif (!this._content)\n\t\t\t\treturn;\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tvar lines = this._lines,\n\t\t\t\tstyle = this._style,\n\t\t\t\thasFill = style.hasFill(),\n\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\tleading = style.getLeading(),\n\t\t\t\tshadowColor = ctx.shadowColor;\n\t\t\tctx.font = style.getFontStyle();\n\t\t\tctx.textAlign = style.getJustification();\n\t\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\t\t\t\tctx.shadowColor = shadowColor;\n\t\t\t\tvar line = lines[i];\n\t\t\t\tif (hasFill) {\n\t\t\t\t\tctx.fillText(line, 0, 0);\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (hasStroke)\n\t\t\t\t\tctx.strokeText(line, 0, 0);\n\t\t\t\tctx.translate(0, leading);\n\t\t\t}\n\t\t},\n\t\n\t\t_getBounds: function(matrix, options) {\n\t\t\tvar style = this._style,\n\t\t\t\tlines = this._lines,\n\t\t\t\tnumLines = lines.length,\n\t\t\t\tjustification = style.getJustification(),\n\t\t\t\tleading = style.getLeading(),\n\t\t\t\twidth = this.getView().getTextWidth(style.getFontStyle(), lines),\n\t\t\t\tx = 0;\n\t\t\tif (justification !== 'left')\n\t\t\t\tx -= width / (justification === 'center' ? 2: 1);\n\t\t\tvar rect = new Rectangle(x,\n\t\t\t\t\t\tnumLines ? - 0.75 * leading : 0,\n\t\t\t\t\t\twidth, numLines * leading);\n\t\t\treturn matrix ? matrix._transformBounds(rect, rect) : rect;\n\t\t}\n\t});\n\t\n\tvar Color = Base.extend(new function() {\n\t\tvar types = {\n\t\t\tgray: ['gray'],\n\t\t\trgb: ['red', 'green', 'blue'],\n\t\t\thsb: ['hue', 'saturation', 'brightness'],\n\t\t\thsl: ['hue', 'saturation', 'lightness'],\n\t\t\tgradient: ['gradient', 'origin', 'destination', 'highlight']\n\t\t};\n\t\n\t\tvar componentParsers = {},\n\t\t\tcolorCache = {},\n\t\t\tcolorCtx;\n\t\n\t\tfunction fromCSS(string) {\n\t\t\tvar match = string.match(/^#(\\w{1,2})(\\w{1,2})(\\w{1,2})$/),\n\t\t\t\tcomponents;\n\t\t\tif (match) {\n\t\t\t\tcomponents = [0, 0, 0];\n\t\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\t\tvar value = match[i + 1];\n\t\t\t\t\tcomponents[i] = parseInt(value.length == 1\n\t\t\t\t\t\t\t? value + value : value, 16) / 255;\n\t\t\t\t}\n\t\t\t} else if (match = string.match(/^rgba?\\((.*)\\)$/)) {\n\t\t\t\tcomponents = match[1].split(',');\n\t\t\t\tfor (var i = 0, l = components.length; i < l; i++) {\n\t\t\t\t\tvar value = +components[i];\n\t\t\t\t\tcomponents[i] = i < 3 ? value / 255 : value;\n\t\t\t\t}\n\t\t\t} else if (window) {\n\t\t\t\tvar cached = colorCache[string];\n\t\t\t\tif (!cached) {\n\t\t\t\t\tif (!colorCtx) {\n\t\t\t\t\t\tcolorCtx = CanvasProvider.getContext(1, 1);\n\t\t\t\t\t\tcolorCtx.globalCompositeOperation = 'copy';\n\t\t\t\t\t}\n\t\t\t\t\tcolorCtx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\tcolorCtx.fillStyle = string;\n\t\t\t\t\tcolorCtx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tvar data = colorCtx.getImageData(0, 0, 1, 1).data;\n\t\t\t\t\tcached = colorCache[string] = [\n\t\t\t\t\t\tdata[0] / 255,\n\t\t\t\t\t\tdata[1] / 255,\n\t\t\t\t\t\tdata[2] / 255\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t\tcomponents = cached.slice();\n\t\t\t} else {\n\t\t\t\tcomponents = [0, 0, 0];\n\t\t\t}\n\t\t\treturn components;\n\t\t}\n\t\n\t\tvar hsbIndices = [\n\t\t\t[0, 3, 1],\n\t\t\t[2, 0, 1],\n\t\t\t[1, 0, 3],\n\t\t\t[1, 2, 0],\n\t\t\t[3, 1, 0],\n\t\t\t[0, 1, 2]\n\t\t];\n\t\n\t\tvar converters = {\n\t\t\t'rgb-hsb': function(r, g, b) {\n\t\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\t\tdelta = max - min,\n\t\t\t\t\th = delta === 0 ? 0\n\t\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t\t:            (r - g) / delta + 4) * 60;\n\t\t\t\treturn [h, max === 0 ? 0 : delta / max, max];\n\t\t\t},\n\t\n\t\t\t'hsb-rgb': function(h, s, b) {\n\t\t\t\th = (((h / 60) % 6) + 6) % 6;\n\t\t\t\tvar i = Math.floor(h),\n\t\t\t\t\tf = h - i,\n\t\t\t\t\ti = hsbIndices[i],\n\t\t\t\t\tv = [\n\t\t\t\t\t\tb,\n\t\t\t\t\t\tb * (1 - s),\n\t\t\t\t\t\tb * (1 - s * f),\n\t\t\t\t\t\tb * (1 - s * (1 - f))\n\t\t\t\t\t];\n\t\t\t\treturn [v[i[0]], v[i[1]], v[i[2]]];\n\t\t\t},\n\t\n\t\t\t'rgb-hsl': function(r, g, b) {\n\t\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\t\tdelta = max - min,\n\t\t\t\t\tachromatic = delta === 0,\n\t\t\t\t\th = achromatic ? 0\n\t\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t\t:            (r - g) / delta + 4) * 60,\n\t\t\t\t\tl = (max + min) / 2,\n\t\t\t\t\ts = achromatic ? 0 : l < 0.5\n\t\t\t\t\t\t\t? delta / (max + min)\n\t\t\t\t\t\t\t: delta / (2 - max - min);\n\t\t\t\treturn [h, s, l];\n\t\t\t},\n\t\n\t\t\t'hsl-rgb': function(h, s, l) {\n\t\t\t\th = (((h / 360) % 1) + 1) % 1;\n\t\t\t\tif (s === 0)\n\t\t\t\t\treturn [l, l, l];\n\t\t\t\tvar t3s = [ h + 1 / 3, h, h - 1 / 3 ],\n\t\t\t\t\tt2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n\t\t\t\t\tt1 = 2 * l - t2,\n\t\t\t\t\tc = [];\n\t\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\t\tvar t3 = t3s[i];\n\t\t\t\t\tif (t3 < 0) t3 += 1;\n\t\t\t\t\tif (t3 > 1) t3 -= 1;\n\t\t\t\t\tc[i] = 6 * t3 < 1\n\t\t\t\t\t\t? t1 + (t2 - t1) * 6 * t3\n\t\t\t\t\t\t: 2 * t3 < 1\n\t\t\t\t\t\t\t? t2\n\t\t\t\t\t\t\t: 3 * t3 < 2\n\t\t\t\t\t\t\t\t? t1 + (t2 - t1) * ((2 / 3) - t3) * 6\n\t\t\t\t\t\t\t\t: t1;\n\t\t\t\t}\n\t\t\t\treturn c;\n\t\t\t},\n\t\n\t\t\t'rgb-gray': function(r, g, b) {\n\t\t\t\treturn [r * 0.2989 + g * 0.587 + b * 0.114];\n\t\t\t},\n\t\n\t\t\t'gray-rgb': function(g) {\n\t\t\t\treturn [g, g, g];\n\t\t\t},\n\t\n\t\t\t'gray-hsb': function(g) {\n\t\t\t\treturn [0, 0, g];\n\t\t\t},\n\t\n\t\t\t'gray-hsl': function(g) {\n\t\t\t\treturn [0, 0, g];\n\t\t\t},\n\t\n\t\t\t'gradient-rgb': function() {\n\t\t\t\treturn [];\n\t\t\t},\n\t\n\t\t\t'rgb-gradient': function() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\n\t\t};\n\t\n\t\treturn Base.each(types, function(properties, type) {\n\t\t\tcomponentParsers[type] = [];\n\t\t\tBase.each(properties, function(name, index) {\n\t\t\t\tvar part = Base.capitalize(name),\n\t\t\t\t\thasOverlap = /^(hue|saturation)$/.test(name),\n\t\t\t\t\tparser = componentParsers[type][index] = name === 'gradient'\n\t\t\t\t\t\t? function(value) {\n\t\t\t\t\t\t\tvar current = this._components[0];\n\t\t\t\t\t\t\tvalue = Gradient.read(Array.isArray(value) ? value\n\t\t\t\t\t\t\t\t\t: arguments, 0, { readNull: true });\n\t\t\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\t\t\tif (current)\n\t\t\t\t\t\t\t\t\tcurrent._removeOwner(this);\n\t\t\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t\t\t\tvalue._addOwner(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: type === 'gradient'\n\t\t\t\t\t\t\t? function() {\n\t\t\t\t\t\t\t\treturn Point.read(arguments, 0, {\n\t\t\t\t\t\t\t\t\t\treadNull: name === 'highlight',\n\t\t\t\t\t\t\t\t\t\tclone: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: function(value) {\n\t\t\t\t\t\t\t\treturn value == null || isNaN(value) ? 0 : value;\n\t\t\t\t\t\t\t};\n\t\n\t\t\t\tthis['get' + part] = function() {\n\t\t\t\t\treturn this._type === type\n\t\t\t\t\t\t|| hasOverlap && /^hs[bl]$/.test(this._type)\n\t\t\t\t\t\t\t? this._components[index]\n\t\t\t\t\t\t\t: this._convert(type)[index];\n\t\t\t\t};\n\t\n\t\t\t\tthis['set' + part] = function(value) {\n\t\t\t\t\tif (this._type !== type\n\t\t\t\t\t\t\t&& !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n\t\t\t\t\t\tthis._components = this._convert(type);\n\t\t\t\t\t\tthis._properties = types[type];\n\t\t\t\t\t\tthis._type = type;\n\t\t\t\t\t}\n\t\t\t\t\tthis._components[index] = parser.call(this, value);\n\t\t\t\t\tthis._changed();\n\t\t\t\t};\n\t\t\t}, this);\n\t\t}, {\n\t\t\t_class: 'Color',\n\t\t\t_readIndex: true,\n\t\n\t\t\tinitialize: function Color(arg) {\n\t\t\t\tvar args = arguments,\n\t\t\t\t\treading = this.__read,\n\t\t\t\t\tread = 0,\n\t\t\t\t\ttype,\n\t\t\t\t\tcomponents,\n\t\t\t\t\talpha,\n\t\t\t\t\tvalues;\n\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\targs = arg;\n\t\t\t\t\targ = args[0];\n\t\t\t\t}\n\t\t\t\tvar argType = arg != null && typeof arg;\n\t\t\t\tif (argType === 'string' && arg in types) {\n\t\t\t\t\ttype = arg;\n\t\t\t\t\targ = args[1];\n\t\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\t\tcomponents = arg;\n\t\t\t\t\t\talpha = args[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (reading)\n\t\t\t\t\t\t\tread = 1;\n\t\t\t\t\t\targs = Base.slice(args, 1);\n\t\t\t\t\t\targType = typeof arg;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!components) {\n\t\t\t\t\tvalues = argType === 'number'\n\t\t\t\t\t\t\t? args\n\t\t\t\t\t\t\t: argType === 'object' && arg.length != null\n\t\t\t\t\t\t\t\t? arg\n\t\t\t\t\t\t\t\t: null;\n\t\t\t\t\tif (values) {\n\t\t\t\t\t\tif (!type)\n\t\t\t\t\t\t\ttype = values.length >= 3\n\t\t\t\t\t\t\t\t\t? 'rgb'\n\t\t\t\t\t\t\t\t\t: 'gray';\n\t\t\t\t\t\tvar length = types[type].length;\n\t\t\t\t\t\talpha = values[length];\n\t\t\t\t\t\tif (reading) {\n\t\t\t\t\t\t\tread += values === arguments\n\t\t\t\t\t\t\t\t? length + (alpha != null ? 1 : 0)\n\t\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (values.length > length)\n\t\t\t\t\t\t\tvalues = Base.slice(values, 0, length);\n\t\t\t\t\t} else if (argType === 'string') {\n\t\t\t\t\t\ttype = 'rgb';\n\t\t\t\t\t\tcomponents = fromCSS(arg);\n\t\t\t\t\t\tif (components.length === 4) {\n\t\t\t\t\t\t\talpha = components[3];\n\t\t\t\t\t\t\tcomponents.length--;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\t\tif (arg.constructor === Color) {\n\t\t\t\t\t\t\ttype = arg._type;\n\t\t\t\t\t\t\tcomponents = arg._components.slice();\n\t\t\t\t\t\t\talpha = arg._alpha;\n\t\t\t\t\t\t\tif (type === 'gradient') {\n\t\t\t\t\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\t\t\t\t\tvar point = components[i];\n\t\t\t\t\t\t\t\t\tif (point)\n\t\t\t\t\t\t\t\t\t\tcomponents[i] = point.clone();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (arg.constructor === Gradient) {\n\t\t\t\t\t\t\ttype = 'gradient';\n\t\t\t\t\t\t\tvalues = args;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttype = 'hue' in arg\n\t\t\t\t\t\t\t\t? 'lightness' in arg\n\t\t\t\t\t\t\t\t\t? 'hsl'\n\t\t\t\t\t\t\t\t\t: 'hsb'\n\t\t\t\t\t\t\t\t: 'gradient' in arg || 'stops' in arg\n\t\t\t\t\t\t\t\t\t\t|| 'radial' in arg\n\t\t\t\t\t\t\t\t\t? 'gradient'\n\t\t\t\t\t\t\t\t\t: 'gray' in arg\n\t\t\t\t\t\t\t\t\t\t? 'gray'\n\t\t\t\t\t\t\t\t\t\t: 'rgb';\n\t\t\t\t\t\t\tvar properties = types[type],\n\t\t\t\t\t\t\t\tparsers = componentParsers[type];\n\t\t\t\t\t\t\tthis._components = components = [];\n\t\t\t\t\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\t\t\t\t\tvar value = arg[properties[i]];\n\t\t\t\t\t\t\t\tif (value == null && !i && type === 'gradient'\n\t\t\t\t\t\t\t\t\t\t&& 'stops' in arg) {\n\t\t\t\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\t\t\t\tstops: arg.stops,\n\t\t\t\t\t\t\t\t\t\tradial: arg.radial\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue = parsers[i].call(this, value);\n\t\t\t\t\t\t\t\tif (value != null)\n\t\t\t\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\talpha = arg.alpha;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (reading && type)\n\t\t\t\t\t\tread = 1;\n\t\t\t\t}\n\t\t\t\tthis._type = type || 'rgb';\n\t\t\t\tif (!components) {\n\t\t\t\t\tthis._components = components = [];\n\t\t\t\t\tvar parsers = componentParsers[this._type];\n\t\t\t\t\tfor (var i = 0, l = parsers.length; i < l; i++) {\n\t\t\t\t\t\tvar value = parsers[i].call(this, values && values[i]);\n\t\t\t\t\t\tif (value != null)\n\t\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._components = components;\n\t\t\t\tthis._properties = types[this._type];\n\t\t\t\tthis._alpha = alpha;\n\t\t\t\tif (reading)\n\t\t\t\t\tthis.__read = read;\n\t\t\t\treturn this;\n\t\t\t},\n\t\n\t\t\tset: '#initialize',\n\t\n\t\t\t_serialize: function(options, dictionary) {\n\t\t\t\tvar components = this.getComponents();\n\t\t\t\treturn Base.serialize(\n\t\t\t\t\t\t/^(gray|rgb)$/.test(this._type)\n\t\t\t\t\t\t\t? components\n\t\t\t\t\t\t\t: [this._type].concat(components),\n\t\t\t\t\t\toptions, true, dictionary);\n\t\t\t},\n\t\n\t\t\t_changed: function() {\n\t\t\t\tthis._canvasStyle = null;\n\t\t\t\tif (this._owner)\n\t\t\t\t\tthis._owner._changed(65);\n\t\t\t},\n\t\n\t\t\t_convert: function(type) {\n\t\t\t\tvar converter;\n\t\t\t\treturn this._type === type\n\t\t\t\t\t\t? this._components.slice()\n\t\t\t\t\t\t: (converter = converters[this._type + '-' + type])\n\t\t\t\t\t\t\t? converter.apply(this, this._components)\n\t\t\t\t\t\t\t: converters['rgb-' + type].apply(this,\n\t\t\t\t\t\t\t\tconverters[this._type + '-rgb'].apply(this,\n\t\t\t\t\t\t\t\t\tthis._components));\n\t\t\t},\n\t\n\t\t\tconvert: function(type) {\n\t\t\t\treturn new Color(type, this._convert(type), this._alpha);\n\t\t\t},\n\t\n\t\t\tgetType: function() {\n\t\t\t\treturn this._type;\n\t\t\t},\n\t\n\t\t\tsetType: function(type) {\n\t\t\t\tthis._components = this._convert(type);\n\t\t\t\tthis._properties = types[type];\n\t\t\t\tthis._type = type;\n\t\t\t},\n\t\n\t\t\tgetComponents: function() {\n\t\t\t\tvar components = this._components.slice();\n\t\t\t\tif (this._alpha != null)\n\t\t\t\t\tcomponents.push(this._alpha);\n\t\t\t\treturn components;\n\t\t\t},\n\t\n\t\t\tgetAlpha: function() {\n\t\t\t\treturn this._alpha != null ? this._alpha : 1;\n\t\t\t},\n\t\n\t\t\tsetAlpha: function(alpha) {\n\t\t\t\tthis._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\t\t\t\tthis._changed();\n\t\t\t},\n\t\n\t\t\thasAlpha: function() {\n\t\t\t\treturn this._alpha != null;\n\t\t\t},\n\t\n\t\t\tequals: function(color) {\n\t\t\t\tvar col = Base.isPlainValue(color, true)\n\t\t\t\t\t\t? Color.read(arguments)\n\t\t\t\t\t\t: color;\n\t\t\t\treturn col === this || col && this._class === col._class\n\t\t\t\t\t\t&& this._type === col._type\n\t\t\t\t\t\t&& this.getAlpha() === col.getAlpha()\n\t\t\t\t\t\t&& Base.equals(this._components, col._components)\n\t\t\t\t\t\t|| false;\n\t\t\t},\n\t\n\t\t\ttoString: function() {\n\t\t\t\tvar properties = this._properties,\n\t\t\t\t\tparts = [],\n\t\t\t\t\tisGradient = this._type === 'gradient',\n\t\t\t\t\tf = Formatter.instance;\n\t\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\t\tvar value = this._components[i];\n\t\t\t\t\tif (value != null)\n\t\t\t\t\t\tparts.push(properties[i] + ': '\n\t\t\t\t\t\t\t\t+ (isGradient ? value : f.number(value)));\n\t\t\t\t}\n\t\t\t\tif (this._alpha != null)\n\t\t\t\t\tparts.push('alpha: ' + f.number(this._alpha));\n\t\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t\t},\n\t\n\t\t\ttoCSS: function(hex) {\n\t\t\t\tvar components = this._convert('rgb'),\n\t\t\t\t\talpha = hex || this._alpha == null ? 1 : this._alpha;\n\t\t\t\tfunction convert(val) {\n\t\t\t\t\treturn Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n\t\t\t\t}\n\t\t\t\tcomponents = [\n\t\t\t\t\tconvert(components[0]),\n\t\t\t\t\tconvert(components[1]),\n\t\t\t\t\tconvert(components[2])\n\t\t\t\t];\n\t\t\t\tif (alpha < 1)\n\t\t\t\t\tcomponents.push(alpha < 0 ? 0 : alpha);\n\t\t\t\treturn hex\n\t\t\t\t\t\t? '#' + ((1 << 24) + (components[0] << 16)\n\t\t\t\t\t\t\t+ (components[1] << 8)\n\t\t\t\t\t\t\t+ components[2]).toString(16).slice(1)\n\t\t\t\t\t\t: (components.length == 4 ? 'rgba(' : 'rgb(')\n\t\t\t\t\t\t\t+ components.join(',') + ')';\n\t\t\t},\n\t\n\t\t\ttoCanvasStyle: function(ctx, matrix) {\n\t\t\t\tif (this._canvasStyle)\n\t\t\t\t\treturn this._canvasStyle;\n\t\t\t\tif (this._type !== 'gradient')\n\t\t\t\t\treturn this._canvasStyle = this.toCSS();\n\t\t\t\tvar components = this._components,\n\t\t\t\t\tgradient = components[0],\n\t\t\t\t\tstops = gradient._stops,\n\t\t\t\t\torigin = components[1],\n\t\t\t\t\tdestination = components[2],\n\t\t\t\t\thighlight = components[3],\n\t\t\t\t\tinverse = matrix && matrix.inverted(),\n\t\t\t\t\tcanvasGradient;\n\t\t\t\tif (inverse) {\n\t\t\t\t\torigin = inverse._transformPoint(origin);\n\t\t\t\t\tdestination = inverse._transformPoint(destination);\n\t\t\t\t\tif (highlight)\n\t\t\t\t\t\thighlight = inverse._transformPoint(highlight);\n\t\t\t\t}\n\t\t\t\tif (gradient._radial) {\n\t\t\t\t\tvar radius = destination.getDistance(origin);\n\t\t\t\t\tif (highlight) {\n\t\t\t\t\t\tvar vector = highlight.subtract(origin);\n\t\t\t\t\t\tif (vector.getLength() > radius)\n\t\t\t\t\t\t\thighlight = origin.add(vector.normalize(radius - 0.1));\n\t\t\t\t\t}\n\t\t\t\t\tvar start = highlight || origin;\n\t\t\t\t\tcanvasGradient = ctx.createRadialGradient(start.x, start.y,\n\t\t\t\t\t\t\t0, origin.x, origin.y, radius);\n\t\t\t\t} else {\n\t\t\t\t\tcanvasGradient = ctx.createLinearGradient(origin.x, origin.y,\n\t\t\t\t\t\t\tdestination.x, destination.y);\n\t\t\t\t}\n\t\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\t\tvar stop = stops[i],\n\t\t\t\t\t\toffset = stop._offset;\n\t\t\t\t\tcanvasGradient.addColorStop(\n\t\t\t\t\t\t\toffset == null ? i / (l - 1) : offset,\n\t\t\t\t\t\t\tstop._color.toCanvasStyle());\n\t\t\t\t}\n\t\t\t\treturn this._canvasStyle = canvasGradient;\n\t\t\t},\n\t\n\t\t\ttransform: function(matrix) {\n\t\t\t\tif (this._type === 'gradient') {\n\t\t\t\t\tvar components = this._components;\n\t\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\t\tvar point = components[i];\n\t\t\t\t\t\tmatrix._transformPoint(point, point, true);\n\t\t\t\t\t}\n\t\t\t\t\tthis._changed();\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tstatics: {\n\t\t\t\t_types: types,\n\t\n\t\t\t\trandom: function() {\n\t\t\t\t\tvar random = Math.random;\n\t\t\t\t\treturn new Color(random(), random(), random());\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tnew function() {\n\t\tvar operators = {\n\t\t\tadd: function(a, b) {\n\t\t\t\treturn a + b;\n\t\t\t},\n\t\n\t\t\tsubtract: function(a, b) {\n\t\t\t\treturn a - b;\n\t\t\t},\n\t\n\t\t\tmultiply: function(a, b) {\n\t\t\t\treturn a * b;\n\t\t\t},\n\t\n\t\t\tdivide: function(a, b) {\n\t\t\t\treturn a / b;\n\t\t\t}\n\t\t};\n\t\n\t\treturn Base.each(operators, function(operator, name) {\n\t\t\tthis[name] = function(color) {\n\t\t\t\tcolor = Color.read(arguments);\n\t\t\t\tvar type = this._type,\n\t\t\t\t\tcomponents1 = this._components,\n\t\t\t\t\tcomponents2 = color._convert(type);\n\t\t\t\tfor (var i = 0, l = components1.length; i < l; i++)\n\t\t\t\t\tcomponents2[i] = operator(components1[i], components2[i]);\n\t\t\t\treturn new Color(type, components2,\n\t\t\t\t\t\tthis._alpha != null\n\t\t\t\t\t\t\t\t? operator(this._alpha, color.getAlpha())\n\t\t\t\t\t\t\t\t: null);\n\t\t\t};\n\t\t}, {\n\t\t});\n\t});\n\t\n\tvar Gradient = Base.extend({\n\t\t_class: 'Gradient',\n\t\n\t\tinitialize: function Gradient(stops, radial) {\n\t\t\tthis._id = UID.get();\n\t\t\tif (stops && Base.isPlainObject(stops)) {\n\t\t\t\tthis.set(stops);\n\t\t\t\tstops = radial = null;\n\t\t\t}\n\t\t\tif (this._stops == null) {\n\t\t\t\tthis.setStops(stops || ['white', 'black']);\n\t\t\t}\n\t\t\tif (this._radial == null) {\n\t\t\t\tthis.setRadial(typeof radial === 'string' && radial === 'radial'\n\t\t\t\t\t\t|| radial || false);\n\t\t\t}\n\t\t},\n\t\n\t\t_serialize: function(options, dictionary) {\n\t\t\treturn dictionary.add(this, function() {\n\t\t\t\treturn Base.serialize([this._stops, this._radial],\n\t\t\t\t\t\toptions, true, dictionary);\n\t\t\t});\n\t\t},\n\t\n\t\t_changed: function() {\n\t\t\tfor (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n\t\t\t\tthis._owners[i]._changed();\n\t\t\t}\n\t\t},\n\t\n\t\t_addOwner: function(color) {\n\t\t\tif (!this._owners)\n\t\t\t\tthis._owners = [];\n\t\t\tthis._owners.push(color);\n\t\t},\n\t\n\t\t_removeOwner: function(color) {\n\t\t\tvar index = this._owners ? this._owners.indexOf(color) : -1;\n\t\t\tif (index != -1) {\n\t\t\t\tthis._owners.splice(index, 1);\n\t\t\t\tif (!this._owners.length)\n\t\t\t\t\tthis._owners = undefined;\n\t\t\t}\n\t\t},\n\t\n\t\tclone: function() {\n\t\t\tvar stops = [];\n\t\t\tfor (var i = 0, l = this._stops.length; i < l; i++) {\n\t\t\t\tstops[i] = this._stops[i].clone();\n\t\t\t}\n\t\t\treturn new Gradient(stops, this._radial);\n\t\t},\n\t\n\t\tgetStops: function() {\n\t\t\treturn this._stops;\n\t\t},\n\t\n\t\tsetStops: function(stops) {\n\t\t\tif (stops.length < 2) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Gradient stop list needs to contain at least two stops.');\n\t\t\t}\n\t\t\tvar _stops = this._stops;\n\t\t\tif (_stops) {\n\t\t\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t\t\t_stops[i]._owner = undefined;\n\t\t\t}\n\t\t\t_stops = this._stops = GradientStop.readList(stops, 0, { clone: true });\n\t\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t\t_stops[i]._owner = this;\n\t\t\tthis._changed();\n\t\t},\n\t\n\t\tgetRadial: function() {\n\t\t\treturn this._radial;\n\t\t},\n\t\n\t\tsetRadial: function(radial) {\n\t\t\tthis._radial = radial;\n\t\t\tthis._changed();\n\t\t},\n\t\n\t\tequals: function(gradient) {\n\t\t\tif (gradient === this)\n\t\t\t\treturn true;\n\t\t\tif (gradient && this._class === gradient._class) {\n\t\t\t\tvar stops1 = this._stops,\n\t\t\t\t\tstops2 = gradient._stops,\n\t\t\t\t\tlength = stops1.length;\n\t\t\t\tif (length === stops2.length) {\n\t\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\t\tif (!stops1[i].equals(stops2[i]))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t});\n\t\n\tvar GradientStop = Base.extend({\n\t\t_class: 'GradientStop',\n\t\n\t\tinitialize: function GradientStop(arg0, arg1) {\n\t\t\tvar color = arg0,\n\t\t\t\toffset = arg1;\n\t\t\tif (typeof arg0 === 'object' && arg1 === undefined) {\n\t\t\t\tif (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n\t\t\t\t\tcolor = arg0[0];\n\t\t\t\t\toffset = arg0[1];\n\t\t\t\t} else if ('color' in arg0 || 'offset' in arg0\n\t\t\t\t\t\t|| 'rampPoint' in arg0) {\n\t\t\t\t\tcolor = arg0.color;\n\t\t\t\t\toffset = arg0.offset || arg0.rampPoint || 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setColor(color);\n\t\t\tthis.setOffset(offset);\n\t\t},\n\t\n\t\tclone: function() {\n\t\t\treturn new GradientStop(this._color.clone(), this._offset);\n\t\t},\n\t\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar color = this._color,\n\t\t\t\toffset = this._offset;\n\t\t\treturn Base.serialize(offset == null ? [color] : [color, offset],\n\t\t\t\t\toptions, true, dictionary);\n\t\t},\n\t\n\t\t_changed: function() {\n\t\t\tif (this._owner)\n\t\t\t\tthis._owner._changed(65);\n\t\t},\n\t\n\t\tgetOffset: function() {\n\t\t\treturn this._offset;\n\t\t},\n\t\n\t\tsetOffset: function(offset) {\n\t\t\tthis._offset = offset;\n\t\t\tthis._changed();\n\t\t},\n\t\n\t\tgetRampPoint: '#getOffset',\n\t\tsetRampPoint: '#setOffset',\n\t\n\t\tgetColor: function() {\n\t\t\treturn this._color;\n\t\t},\n\t\n\t\tsetColor: function() {\n\t\t\tvar color = Color.read(arguments, 0, { clone: true });\n\t\t\tif (color)\n\t\t\t\tcolor._owner = this;\n\t\t\tthis._color = color;\n\t\t\tthis._changed();\n\t\t},\n\t\n\t\tequals: function(stop) {\n\t\t\treturn stop === this || stop && this._class === stop._class\n\t\t\t\t\t&& this._color.equals(stop._color)\n\t\t\t\t\t&& this._offset == stop._offset\n\t\t\t\t\t|| false;\n\t\t}\n\t});\n\t\n\tvar Style = Base.extend(new function() {\n\t\tvar itemDefaults = {\n\t\t\tfillColor: null,\n\t\t\tfillRule: 'nonzero',\n\t\t\tstrokeColor: null,\n\t\t\tstrokeWidth: 1,\n\t\t\tstrokeCap: 'butt',\n\t\t\tstrokeJoin: 'miter',\n\t\t\tstrokeScaling: true,\n\t\t\tmiterLimit: 10,\n\t\t\tdashOffset: 0,\n\t\t\tdashArray: [],\n\t\t\tshadowColor: null,\n\t\t\tshadowBlur: 0,\n\t\t\tshadowOffset: new Point(),\n\t\t\tselectedColor: null\n\t\t},\n\t\tgroupDefaults = Base.set({}, itemDefaults, {\n\t\t\tfontFamily: 'sans-serif',\n\t\t\tfontWeight: 'normal',\n\t\t\tfontSize: 12,\n\t\t\tleading: null,\n\t\t\tjustification: 'left'\n\t\t}),\n\t\ttextDefaults = Base.set({}, groupDefaults, {\n\t\t\tfillColor: new Color()\n\t\t}),\n\t\tflags = {\n\t\t\tstrokeWidth: 97,\n\t\t\tstrokeCap: 97,\n\t\t\tstrokeJoin: 97,\n\t\t\tstrokeScaling: 105,\n\t\t\tmiterLimit: 97,\n\t\t\tfontFamily: 9,\n\t\t\tfontWeight: 9,\n\t\t\tfontSize: 9,\n\t\t\tfont: 9,\n\t\t\tleading: 9,\n\t\t\tjustification: 9\n\t\t},\n\t\titem = {\n\t\t\tbeans: true\n\t\t},\n\t\tfields = {\n\t\t\t_class: 'Style',\n\t\t\tbeans: true,\n\t\n\t\t\tinitialize: function Style(style, _owner, _project) {\n\t\t\t\tthis._values = {};\n\t\t\t\tthis._owner = _owner;\n\t\t\t\tthis._project = _owner && _owner._project || _project\n\t\t\t\t\t\t|| paper.project;\n\t\t\t\tthis._defaults = !_owner || _owner instanceof Group ? groupDefaults\n\t\t\t\t\t\t: _owner instanceof TextItem ? textDefaults\n\t\t\t\t\t\t: itemDefaults;\n\t\t\t\tif (style)\n\t\t\t\t\tthis.set(style);\n\t\t\t}\n\t\t};\n\t\n\t\tBase.each(groupDefaults, function(value, key) {\n\t\t\tvar isColor = /Color$/.test(key),\n\t\t\t\tisPoint = key === 'shadowOffset',\n\t\t\t\tpart = Base.capitalize(key),\n\t\t\t\tflag = flags[key],\n\t\t\t\tset = 'set' + part,\n\t\t\t\tget = 'get' + part;\n\t\n\t\t\tfields[set] = function(value) {\n\t\t\t\tvar owner = this._owner,\n\t\t\t\t\tchildren = owner && owner._children;\n\t\t\t\tif (children && children.length > 0\n\t\t\t\t\t\t&& !(owner instanceof CompoundPath)) {\n\t\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\t\tchildren[i]._style[set](value);\n\t\t\t\t} else if (key in this._defaults) {\n\t\t\t\t\tvar old = this._values[key];\n\t\t\t\t\tif (old !== value) {\n\t\t\t\t\t\tif (isColor) {\n\t\t\t\t\t\t\tif (old && old._owner !== undefined)\n\t\t\t\t\t\t\t\told._owner = undefined;\n\t\t\t\t\t\t\tif (value && value.constructor === Color) {\n\t\t\t\t\t\t\t\tif (value._owner)\n\t\t\t\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t\t\t\t\tvalue._owner = owner;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._values[key] = value;\n\t\t\t\t\t\tif (owner)\n\t\t\t\t\t\t\towner._changed(flag || 65);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tfields[get] = function(_dontMerge) {\n\t\t\t\tvar owner = this._owner,\n\t\t\t\t\tchildren = owner && owner._children,\n\t\t\t\t\tvalue;\n\t\t\t\tif (key in this._defaults && (!children || !children.length\n\t\t\t\t\t\t|| _dontMerge || owner instanceof CompoundPath)) {\n\t\t\t\t\tvar value = this._values[key];\n\t\t\t\t\tif (value === undefined) {\n\t\t\t\t\t\tvalue = this._defaults[key];\n\t\t\t\t\t\tif (value && value.clone)\n\t\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar ctor = isColor ? Color : isPoint ? Point : null;\n\t\t\t\t\t\tif (ctor && !(value && value.constructor === ctor)) {\n\t\t\t\t\t\t\tthis._values[key] = value = ctor.read([value], 0,\n\t\t\t\t\t\t\t\t\t{ readNull: true, clone: true });\n\t\t\t\t\t\t\tif (value && isColor)\n\t\t\t\t\t\t\t\tvalue._owner = owner;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (children) {\n\t\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\t\tvar childValue = children[i]._style[get]();\n\t\t\t\t\t\tif (!i) {\n\t\t\t\t\t\t\tvalue = childValue;\n\t\t\t\t\t\t} else if (!Base.equals(value, childValue)) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t};\n\t\n\t\t\titem[get] = function(_dontMerge) {\n\t\t\t\treturn this._style[get](_dontMerge);\n\t\t\t};\n\t\n\t\t\titem[set] = function(value) {\n\t\t\t\tthis._style[set](value);\n\t\t\t};\n\t\t});\n\t\n\t\tBase.each({\n\t\t\tFont: 'FontFamily',\n\t\t\tWindingRule: 'FillRule'\n\t\t}, function(value, key) {\n\t\t\tvar get = 'get' + key,\n\t\t\t\tset = 'set' + key;\n\t\t\tfields[get] = item[get] = '#get' + value;\n\t\t\tfields[set] = item[set] = '#set' + value;\n\t\t});\n\t\n\t\tItem.inject(item);\n\t\treturn fields;\n\t}, {\n\t\tset: function(style) {\n\t\t\tvar isStyle = style instanceof Style,\n\t\t\t\tvalues = isStyle ? style._values : style;\n\t\t\tif (values) {\n\t\t\t\tfor (var key in values) {\n\t\t\t\t\tif (key in this._defaults) {\n\t\t\t\t\t\tvar value = values[key];\n\t\t\t\t\t\tthis[key] = value && isStyle && value.clone\n\t\t\t\t\t\t\t\t? value.clone() : value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tequals: function(style) {\n\t\t\tfunction compare(style1, style2, secondary) {\n\t\t\t\tvar values1 = style1._values,\n\t\t\t\t\tvalues2 = style2._values,\n\t\t\t\t\tdefaults2 = style2._defaults;\n\t\t\t\tfor (var key in values1) {\n\t\t\t\t\tvar value1 = values1[key],\n\t\t\t\t\t\tvalue2 = values2[key];\n\t\t\t\t\tif (!(secondary && key in values2) && !Base.equals(value1,\n\t\t\t\t\t\t\tvalue2 === undefined ? defaults2[key] : value2))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\n\t\t\treturn style === this || style && this._class === style._class\n\t\t\t\t\t&& compare(this, style)\n\t\t\t\t\t&& compare(style, this, true)\n\t\t\t\t\t|| false;\n\t\t},\n\t\n\t\thasFill: function() {\n\t\t\tvar color = this.getFillColor();\n\t\t\treturn !!color && color.alpha > 0;\n\t\t},\n\t\n\t\thasStroke: function() {\n\t\t\tvar color = this.getStrokeColor();\n\t\t\treturn !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n\t\t},\n\t\n\t\thasShadow: function() {\n\t\t\tvar color = this.getShadowColor();\n\t\t\treturn !!color && color.alpha > 0 && (this.getShadowBlur() > 0\n\t\t\t\t\t|| !this.getShadowOffset().isZero());\n\t\t},\n\t\n\t\tgetView: function() {\n\t\t\treturn this._project._view;\n\t\t},\n\t\n\t\tgetFontStyle: function() {\n\t\t\tvar fontSize = this.getFontSize();\n\t\t\treturn this.getFontWeight()\n\t\t\t\t\t+ ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ')\n\t\t\t\t\t+ this.getFontFamily();\n\t\t},\n\t\n\t\tgetFont: '#getFontFamily',\n\t\tsetFont: '#setFontFamily',\n\t\n\t\tgetLeading: function getLeading() {\n\t\t\tvar leading = getLeading.base.call(this),\n\t\t\t\tfontSize = this.getFontSize();\n\t\t\tif (/pt|em|%|px/.test(fontSize))\n\t\t\t\tfontSize = this.getView().getPixelSize(fontSize);\n\t\t\treturn leading != null ? leading : fontSize * 1.2;\n\t\t}\n\t\n\t});\n\t\n\tvar DomElement = new function() {\n\t\tfunction handlePrefix(el, name, set, value) {\n\t\t\tvar prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n\t\t\t\tsuffix = name[0].toUpperCase() + name.substring(1);\n\t\t\tfor (var i = 0; i < 6; i++) {\n\t\t\t\tvar prefix = prefixes[i],\n\t\t\t\t\tkey = prefix ? prefix + suffix : name;\n\t\t\t\tif (key in el) {\n\t\t\t\t\tif (set) {\n\t\t\t\t\t\tel[key] = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn el[key];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn {\n\t\t\tgetStyles: function(el) {\n\t\t\t\tvar doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n\t\t\t\t\tview = doc && doc.defaultView;\n\t\t\t\treturn view && view.getComputedStyle(el, '');\n\t\t\t},\n\t\n\t\t\tgetBounds: function(el, viewport) {\n\t\t\t\tvar doc = el.ownerDocument,\n\t\t\t\t\tbody = doc.body,\n\t\t\t\t\thtml = doc.documentElement,\n\t\t\t\t\trect;\n\t\t\t\ttry {\n\t\t\t\t\trect = el.getBoundingClientRect();\n\t\t\t\t} catch (e) {\n\t\t\t\t\trect = { left: 0, top: 0, width: 0, height: 0 };\n\t\t\t\t}\n\t\t\t\tvar x = rect.left - (html.clientLeft || body.clientLeft || 0),\n\t\t\t\t\ty = rect.top - (html.clientTop || body.clientTop || 0);\n\t\t\t\tif (!viewport) {\n\t\t\t\t\tvar view = doc.defaultView;\n\t\t\t\t\tx += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n\t\t\t\t\ty += view.pageYOffset || html.scrollTop || body.scrollTop;\n\t\t\t\t}\n\t\t\t\treturn new Rectangle(x, y, rect.width, rect.height);\n\t\t\t},\n\t\n\t\t\tgetViewportBounds: function(el) {\n\t\t\t\tvar doc = el.ownerDocument,\n\t\t\t\t\tview = doc.defaultView,\n\t\t\t\t\thtml = doc.documentElement;\n\t\t\t\treturn new Rectangle(0, 0,\n\t\t\t\t\tview.innerWidth || html.clientWidth,\n\t\t\t\t\tview.innerHeight || html.clientHeight\n\t\t\t\t);\n\t\t\t},\n\t\n\t\t\tgetOffset: function(el, viewport) {\n\t\t\t\treturn DomElement.getBounds(el, viewport).getPoint();\n\t\t\t},\n\t\n\t\t\tgetSize: function(el) {\n\t\t\t\treturn DomElement.getBounds(el, true).getSize();\n\t\t\t},\n\t\n\t\t\tisInvisible: function(el) {\n\t\t\t\treturn DomElement.getSize(el).equals(new Size(0, 0));\n\t\t\t},\n\t\n\t\t\tisInView: function(el) {\n\t\t\t\treturn !DomElement.isInvisible(el)\n\t\t\t\t\t\t&& DomElement.getViewportBounds(el).intersects(\n\t\t\t\t\t\t\tDomElement.getBounds(el, true));\n\t\t\t},\n\t\n\t\t\tisInserted: function(el) {\n\t\t\t\treturn document.body.contains(el);\n\t\t\t},\n\t\n\t\t\tgetPrefixed: function(el, name) {\n\t\t\t\treturn el && handlePrefix(el, name);\n\t\t\t},\n\t\n\t\t\tsetPrefixed: function(el, name, value) {\n\t\t\t\tif (typeof name === 'object') {\n\t\t\t\t\tfor (var key in name)\n\t\t\t\t\t\thandlePrefix(el, key, true, name[key]);\n\t\t\t\t} else {\n\t\t\t\t\thandlePrefix(el, name, true, value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\t\n\tvar DomEvent = {\n\t\tadd: function(el, events) {\n\t\t\tif (el) {\n\t\t\t\tfor (var type in events) {\n\t\t\t\t\tvar func = events[type],\n\t\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\t\tel.addEventListener(parts[i], func, false);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tremove: function(el, events) {\n\t\t\tif (el) {\n\t\t\t\tfor (var type in events) {\n\t\t\t\t\tvar func = events[type],\n\t\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\t\tel.removeEventListener(parts[i], func, false);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\tgetPoint: function(event) {\n\t\t\tvar pos = event.targetTouches\n\t\t\t\t\t? event.targetTouches.length\n\t\t\t\t\t\t? event.targetTouches[0]\n\t\t\t\t\t\t: event.changedTouches[0]\n\t\t\t\t\t: event;\n\t\t\treturn new Point(\n\t\t\t\tpos.pageX || pos.clientX + document.documentElement.scrollLeft,\n\t\t\t\tpos.pageY || pos.clientY + document.documentElement.scrollTop\n\t\t\t);\n\t\t},\n\t\n\t\tgetTarget: function(event) {\n\t\t\treturn event.target || event.srcElement;\n\t\t},\n\t\n\t\tgetRelatedTarget: function(event) {\n\t\t\treturn event.relatedTarget || event.toElement;\n\t\t},\n\t\n\t\tgetOffset: function(event, target) {\n\t\t\treturn DomEvent.getPoint(event).subtract(DomElement.getOffset(\n\t\t\t\t\ttarget || DomEvent.getTarget(event)));\n\t\t}\n\t};\n\t\n\tDomEvent.requestAnimationFrame = new function() {\n\t\tvar nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n\t\t\trequested = false,\n\t\t\tcallbacks = [],\n\t\t\ttimer;\n\t\n\t\tfunction handleCallbacks() {\n\t\t\tvar functions = callbacks;\n\t\t\tcallbacks = [];\n\t\t\tfor (var i = 0, l = functions.length; i < l; i++)\n\t\t\t\tfunctions[i]();\n\t\t\trequested = nativeRequest && callbacks.length;\n\t\t\tif (requested)\n\t\t\t\tnativeRequest(handleCallbacks);\n\t\t}\n\t\n\t\treturn function(callback) {\n\t\t\tcallbacks.push(callback);\n\t\t\tif (nativeRequest) {\n\t\t\t\tif (!requested) {\n\t\t\t\t\tnativeRequest(handleCallbacks);\n\t\t\t\t\trequested = true;\n\t\t\t\t}\n\t\t\t} else if (!timer) {\n\t\t\t\ttimer = setInterval(handleCallbacks, 1000 / 60);\n\t\t\t}\n\t\t};\n\t};\n\t\n\tvar View = Base.extend(Emitter, {\n\t\t_class: 'View',\n\t\n\t\tinitialize: function View(project, element) {\n\t\n\t\t\tfunction getSize(name) {\n\t\t\t\treturn element[name] || parseInt(element.getAttribute(name), 10);\n\t\t\t}\n\t\n\t\t\tfunction getCanvasSize() {\n\t\t\t\tvar size = DomElement.getSize(element);\n\t\t\t\treturn size.isNaN() || size.isZero()\n\t\t\t\t\t\t? new Size(getSize('width'), getSize('height'))\n\t\t\t\t\t\t: size;\n\t\t\t}\n\t\n\t\t\tvar size;\n\t\t\tif (window && element) {\n\t\t\t\tthis._id = element.getAttribute('id');\n\t\t\t\tif (this._id == null)\n\t\t\t\t\telement.setAttribute('id', this._id = 'view-' + View._id++);\n\t\t\t\tDomEvent.add(element, this._viewEvents);\n\t\t\t\tvar none = 'none';\n\t\t\t\tDomElement.setPrefixed(element.style, {\n\t\t\t\t\tuserDrag: none,\n\t\t\t\t\tuserSelect: none,\n\t\t\t\t\ttouchCallout: none,\n\t\t\t\t\tcontentZooming: none,\n\t\t\t\t\ttapHighlightColor: 'rgba(0,0,0,0)'\n\t\t\t\t});\n\t\n\t\t\t\tif (PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\t\tvar that = this;\n\t\t\t\t\tDomEvent.add(window, this._windowEvents = {\n\t\t\t\t\t\tresize: function() {\n\t\t\t\t\t\t\tthat.setViewSize(getCanvasSize());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\tsize = getCanvasSize();\n\t\n\t\t\t\tif (PaperScope.hasAttribute(element, 'stats')\n\t\t\t\t\t\t&& typeof Stats !== 'undefined') {\n\t\t\t\t\tthis._stats = new Stats();\n\t\t\t\t\tvar stats = this._stats.domElement,\n\t\t\t\t\t\tstyle = stats.style,\n\t\t\t\t\t\toffset = DomElement.getOffset(element);\n\t\t\t\t\tstyle.position = 'absolute';\n\t\t\t\t\tstyle.left = offset.x + 'px';\n\t\t\t\t\tstyle.top = offset.y + 'px';\n\t\t\t\t\tdocument.body.appendChild(stats);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsize = new Size(element);\n\t\t\t\telement = null;\n\t\t\t}\n\t\t\tthis._project = project;\n\t\t\tthis._scope = project._scope;\n\t\t\tthis._element = element;\n\t\t\tif (!this._pixelRatio)\n\t\t\t\tthis._pixelRatio = window && window.devicePixelRatio || 1;\n\t\t\tthis._setElementSize(size.width, size.height);\n\t\t\tthis._viewSize = size;\n\t\t\tView._views.push(this);\n\t\t\tView._viewsById[this._id] = this;\n\t\t\t(this._matrix = new Matrix())._owner = this;\n\t\t\tif (!View._focused)\n\t\t\t\tView._focused = this;\n\t\t\tthis._frameItems = {};\n\t\t\tthis._frameItemCount = 0;\n\t\t\tthis._itemEvents = { native: {}, virtual: {} };\n\t\t\tthis._autoUpdate = !paper.agent.node;\n\t\t\tthis._needsUpdate = false;\n\t\t},\n\t\n\t\tremove: function() {\n\t\t\tif (!this._project)\n\t\t\t\treturn false;\n\t\t\tif (View._focused === this)\n\t\t\t\tView._focused = null;\n\t\t\tView._views.splice(View._views.indexOf(this), 1);\n\t\t\tdelete View._viewsById[this._id];\n\t\t\tvar project = this._project;\n\t\t\tif (project._view === this)\n\t\t\t\tproject._view = null;\n\t\t\tDomEvent.remove(this._element, this._viewEvents);\n\t\t\tDomEvent.remove(window, this._windowEvents);\n\t\t\tthis._element = this._project = null;\n\t\t\tthis.off('frame');\n\t\t\tthis._animate = false;\n\t\t\tthis._frameItems = {};\n\t\t\treturn true;\n\t\t},\n\t\n\t\t_events: Base.each(\n\t\t\tItem._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']),\n\t\t\tfunction(name) {\n\t\t\t\tthis[name] = {};\n\t\t\t}, {\n\t\t\t\tonFrame: {\n\t\t\t\t\tinstall: function() {\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t},\n\t\n\t\t\t\t\tuninstall: function() {\n\t\t\t\t\t\tthis.pause();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t),\n\t\n\t\t_animate: false,\n\t\t_time: 0,\n\t\t_count: 0,\n\t\n\t\tgetAutoUpdate: function() {\n\t\t\treturn this._autoUpdate;\n\t\t},\n\t\n\t\tsetAutoUpdate: function(autoUpdate) {\n\t\t\tthis._autoUpdate = autoUpdate;\n\t\t\tif (autoUpdate)\n\t\t\t\tthis.requestUpdate();\n\t\t},\n\t\n\t\tupdate: function() {\n\t\t},\n\t\n\t\tdraw: function() {\n\t\t\tthis.update();\n\t\t},\n\t\n\t\trequestUpdate: function() {\n\t\t\tif (!this._requested) {\n\t\t\t\tvar that = this;\n\t\t\t\tDomEvent.requestAnimationFrame(function() {\n\t\t\t\t\tthat._requested = false;\n\t\t\t\t\tif (that._animate) {\n\t\t\t\t\t\tthat.requestUpdate();\n\t\t\t\t\t\tvar element = that._element;\n\t\t\t\t\t\tif ((!DomElement.getPrefixed(document, 'hidden')\n\t\t\t\t\t\t\t\t|| PaperScope.getAttribute(element, 'keepalive')\n\t\t\t\t\t\t\t\t\t=== 'true') && DomElement.isInView(element)) {\n\t\t\t\t\t\t\tthat._handleFrame();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (that._autoUpdate)\n\t\t\t\t\t\tthat.update();\n\t\t\t\t});\n\t\t\t\tthis._requested = true;\n\t\t\t}\n\t\t},\n\t\n\t\tplay: function() {\n\t\t\tthis._animate = true;\n\t\t\tthis.requestUpdate();\n\t\t},\n\t\n\t\tpause: function() {\n\t\t\tthis._animate = false;\n\t\t},\n\t\n\t\t_handleFrame: function() {\n\t\t\tpaper = this._scope;\n\t\t\tvar now = Date.now() / 1000,\n\t\t\t\tdelta = this._last ? now - this._last : 0;\n\t\t\tthis._last = now;\n\t\t\tthis.emit('frame', new Base({\n\t\t\t\tdelta: delta,\n\t\t\t\ttime: this._time += delta,\n\t\t\t\tcount: this._count++\n\t\t\t}));\n\t\t\tif (this._stats)\n\t\t\t\tthis._stats.update();\n\t\t},\n\t\n\t\t_animateItem: function(item, animate) {\n\t\t\tvar items = this._frameItems;\n\t\t\tif (animate) {\n\t\t\t\titems[item._id] = {\n\t\t\t\t\titem: item,\n\t\t\t\t\ttime: 0,\n\t\t\t\t\tcount: 0\n\t\t\t\t};\n\t\t\t\tif (++this._frameItemCount === 1)\n\t\t\t\t\tthis.on('frame', this._handleFrameItems);\n\t\t\t} else {\n\t\t\t\tdelete items[item._id];\n\t\t\t\tif (--this._frameItemCount === 0) {\n\t\t\t\t\tthis.off('frame', this._handleFrameItems);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t_handleFrameItems: function(event) {\n\t\t\tfor (var i in this._frameItems) {\n\t\t\t\tvar entry = this._frameItems[i];\n\t\t\t\tentry.item.emit('frame', new Base(event, {\n\t\t\t\t\ttime: entry.time += event.delta,\n\t\t\t\t\tcount: entry.count++\n\t\t\t\t}));\n\t\t\t}\n\t\t},\n\t\n\t\t_changed: function() {\n\t\t\tthis._project._changed(2049);\n\t\t\tthis._bounds = this._decomposed = undefined;\n\t\t},\n\t\n\t\tgetElement: function() {\n\t\t\treturn this._element;\n\t\t},\n\t\n\t\tgetPixelRatio: function() {\n\t\t\treturn this._pixelRatio;\n\t\t},\n\t\n\t\tgetResolution: function() {\n\t\t\treturn this._pixelRatio * 72;\n\t\t},\n\t\n\t\tgetViewSize: function() {\n\t\t\tvar size = this._viewSize;\n\t\t\treturn new LinkedSize(size.width, size.height, this, 'setViewSize');\n\t\t},\n\t\n\t\tsetViewSize: function() {\n\t\t\tvar size = Size.read(arguments),\n\t\t\t\tdelta = size.subtract(this._viewSize);\n\t\t\tif (delta.isZero())\n\t\t\t\treturn;\n\t\t\tthis._setElementSize(size.width, size.height);\n\t\t\tthis._viewSize.set(size);\n\t\t\tthis._changed();\n\t\t\tthis.emit('resize', { size: size, delta: delta });\n\t\t\tif (this._autoUpdate) {\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t},\n\t\n\t\t_setElementSize: function(width, height) {\n\t\t\tvar element = this._element;\n\t\t\tif (element) {\n\t\t\t\tif (element.width !== width)\n\t\t\t\t\telement.width = width;\n\t\t\t\tif (element.height !== height)\n\t\t\t\t\telement.height = height;\n\t\t\t}\n\t\t},\n\t\n\t\tgetBounds: function() {\n\t\t\tif (!this._bounds)\n\t\t\t\tthis._bounds = this._matrix.inverted()._transformBounds(\n\t\t\t\t\t\tnew Rectangle(new Point(), this._viewSize));\n\t\t\treturn this._bounds;\n\t\t},\n\t\n\t\tgetSize: function() {\n\t\t\treturn this.getBounds().getSize();\n\t\t},\n\t\n\t\tisVisible: function() {\n\t\t\treturn DomElement.isInView(this._element);\n\t\t},\n\t\n\t\tisInserted: function() {\n\t\t\treturn DomElement.isInserted(this._element);\n\t\t},\n\t\n\t\tgetPixelSize: function(size) {\n\t\t\tvar element = this._element,\n\t\t\t\tpixels;\n\t\t\tif (element) {\n\t\t\t\tvar parent = element.parentNode,\n\t\t\t\t\ttemp = document.createElement('div');\n\t\t\t\ttemp.style.fontSize = size;\n\t\t\t\tparent.appendChild(temp);\n\t\t\t\tpixels = parseFloat(DomElement.getStyles(temp).fontSize);\n\t\t\t\tparent.removeChild(temp);\n\t\t\t} else {\n\t\t\t\tpixels = parseFloat(pixels);\n\t\t\t}\n\t\t\treturn pixels;\n\t\t},\n\t\n\t\tgetTextWidth: function(font, lines) {\n\t\t\treturn 0;\n\t\t}\n\t}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\t\tvar rotate = key === 'rotate';\n\t\tthis[key] = function() {\n\t\t\tvar value = (rotate ? Base : Point).read(arguments),\n\t\t\t\tcenter = Point.read(arguments, 0, { readNull: true });\n\t\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\t\tcenter || this.getCenter(true)));\n\t\t};\n\t}, {\n\t\t_decompose: function() {\n\t\t\treturn this._decomposed || (this._decomposed = this._matrix.decompose());\n\t\t},\n\t\n\t\ttranslate: function() {\n\t\t\tvar mx = new Matrix();\n\t\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t\t},\n\t\n\t\tgetCenter: function() {\n\t\t\treturn this.getBounds().getCenter();\n\t\t},\n\t\n\t\tsetCenter: function() {\n\t\t\tvar center = Point.read(arguments);\n\t\t\tthis.translate(this.getCenter().subtract(center));\n\t\t},\n\t\n\t\tgetZoom: function() {\n\t\t\tvar decomposed = this._decompose(),\n\t\t\t\tscaling = decomposed && decomposed.scaling;\n\t\t\treturn scaling ? (scaling.x + scaling.y) / 2 : 0;\n\t\t},\n\t\n\t\tsetZoom: function(zoom) {\n\t\t\tthis.transform(new Matrix().scale(zoom / this.getZoom(),\n\t\t\t\tthis.getCenter()));\n\t\t},\n\t\n\t\tgetRotation: function() {\n\t\t\tvar decomposed = this._decompose();\n\t\t\treturn decomposed && decomposed.rotation;\n\t\t},\n\t\n\t\tsetRotation: function(rotation) {\n\t\t\tvar current = this.getRotation();\n\t\t\tif (current != null && rotation != null) {\n\t\t\t\tthis.rotate(rotation - current);\n\t\t\t}\n\t\t},\n\t\n\t\tgetScaling: function() {\n\t\t\tvar decomposed = this._decompose(),\n\t\t\t\tscaling = decomposed && decomposed.scaling;\n\t\t\treturn scaling\n\t\t\t\t\t? new LinkedPoint(scaling.x, scaling.y, this, 'setScaling')\n\t\t\t\t\t: undefined;\n\t\t},\n\t\n\t\tsetScaling: function() {\n\t\t\tvar current = this.getScaling(),\n\t\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\t\tif (current && scaling) {\n\t\t\t\tthis.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t\t}\n\t\t},\n\t\n\t\tgetMatrix: function() {\n\t\t\treturn this._matrix;\n\t\t},\n\t\n\t\tsetMatrix: function() {\n\t\t\tvar matrix = this._matrix;\n\t\t\tmatrix.initialize.apply(matrix, arguments);\n\t\t},\n\t\n\t\ttransform: function(matrix) {\n\t\t\tthis._matrix.append(matrix);\n\t\t},\n\t\n\t\tscrollBy: function() {\n\t\t\tthis.translate(Point.read(arguments).negate());\n\t\t}\n\t}), {\n\t\n\t\tprojectToView: function() {\n\t\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t\t},\n\t\n\t\tviewToProject: function() {\n\t\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t\t},\n\t\n\t\tgetEventPoint: function(event) {\n\t\t\treturn this.viewToProject(DomEvent.getOffset(event, this._element));\n\t\t},\n\t\n\t}, {\n\t\tstatics: {\n\t\t\t_views: [],\n\t\t\t_viewsById: {},\n\t\t\t_id: 0,\n\t\n\t\t\tcreate: function(project, element) {\n\t\t\t\tif (document && typeof element === 'string')\n\t\t\t\t\telement = document.getElementById(element);\n\t\t\t\tvar ctor = window ? CanvasView : View;\n\t\t\t\treturn new ctor(project, element);\n\t\t\t}\n\t\t}\n\t},\n\tnew function() {\n\t\tif (!window)\n\t\t\treturn;\n\t\tvar prevFocus,\n\t\t\ttempFocus,\n\t\t\tdragging = false,\n\t\t\tmouseDown = false;\n\t\n\t\tfunction getView(event) {\n\t\t\tvar target = DomEvent.getTarget(event);\n\t\t\treturn target.getAttribute && View._viewsById[\n\t\t\t\t\ttarget.getAttribute('id')];\n\t\t}\n\t\n\t\tfunction updateFocus() {\n\t\t\tvar view = View._focused;\n\t\t\tif (!view || !view.isVisible()) {\n\t\t\t\tfor (var i = 0, l = View._views.length; i < l; i++) {\n\t\t\t\t\tif ((view = View._views[i]).isVisible()) {\n\t\t\t\t\t\tView._focused = tempFocus = view;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction handleMouseMove(view, event, point) {\n\t\t\tview._handleMouseEvent('mousemove', event, point);\n\t\t}\n\t\n\t\tvar navigator = window.navigator,\n\t\t\tmousedown, mousemove, mouseup;\n\t\tif (navigator.pointerEnabled || navigator.msPointerEnabled) {\n\t\t\tmousedown = 'pointerdown MSPointerDown';\n\t\t\tmousemove = 'pointermove MSPointerMove';\n\t\t\tmouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n\t\t} else {\n\t\t\tmousedown = 'touchstart';\n\t\t\tmousemove = 'touchmove';\n\t\t\tmouseup = 'touchend touchcancel';\n\t\t\tif (!('ontouchstart' in window && navigator.userAgent.match(\n\t\t\t\t\t/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n\t\t\t\tmousedown += ' mousedown';\n\t\t\t\tmousemove += ' mousemove';\n\t\t\t\tmouseup += ' mouseup';\n\t\t\t}\n\t\t}\n\t\n\t\tvar viewEvents = {},\n\t\t\tdocEvents = {\n\t\t\t\tmouseout: function(event) {\n\t\t\t\t\tvar view = View._focused,\n\t\t\t\t\t\ttarget = DomEvent.getRelatedTarget(event);\n\t\t\t\t\tif (view && (!target || target.nodeName === 'HTML')) {\n\t\t\t\t\t\tvar offset = DomEvent.getOffset(event, view._element),\n\t\t\t\t\t\t\tx = offset.x,\n\t\t\t\t\t\t\tabs = Math.abs,\n\t\t\t\t\t\t\tax = abs(x),\n\t\t\t\t\t\t\tmax = 1 << 25,\n\t\t\t\t\t\t\tdiff = ax - max;\n\t\t\t\t\t\toffset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n\t\t\t\t\t\thandleMouseMove(view, event, view.viewToProject(offset));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tscroll: updateFocus\n\t\t\t};\n\t\n\t\tviewEvents[mousedown] = function(event) {\n\t\t\tvar view = View._focused = getView(event);\n\t\t\tif (!dragging) {\n\t\t\t\tdragging = true;\n\t\t\t\tview._handleMouseEvent('mousedown', event);\n\t\t\t}\n\t\t};\n\t\n\t\tdocEvents[mousemove] = function(event) {\n\t\t\tvar view = View._focused;\n\t\t\tif (!mouseDown) {\n\t\t\t\tvar target = getView(event);\n\t\t\t\tif (target) {\n\t\t\t\t\tif (view !== target) {\n\t\t\t\t\t\tif (view)\n\t\t\t\t\t\t\thandleMouseMove(view, event);\n\t\t\t\t\t\tif (!prevFocus)\n\t\t\t\t\t\t\tprevFocus = view;\n\t\t\t\t\t\tview = View._focused = tempFocus = target;\n\t\t\t\t\t}\n\t\t\t\t} else if (tempFocus && tempFocus === view) {\n\t\t\t\t\tif (prevFocus && !prevFocus.isInserted())\n\t\t\t\t\t\tprevFocus = null;\n\t\t\t\t\tview = View._focused = prevFocus;\n\t\t\t\t\tprevFocus = null;\n\t\t\t\t\tupdateFocus();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (view)\n\t\t\t\thandleMouseMove(view, event);\n\t\t};\n\t\n\t\tdocEvents[mousedown] = function() {\n\t\t\tmouseDown = true;\n\t\t};\n\t\n\t\tdocEvents[mouseup] = function(event) {\n\t\t\tvar view = View._focused;\n\t\t\tif (view && dragging)\n\t\t\t\tview._handleMouseEvent('mouseup', event);\n\t\t\tmouseDown = dragging = false;\n\t\t};\n\t\n\t\tDomEvent.add(document, docEvents);\n\t\n\t\tDomEvent.add(window, {\n\t\t\tload: updateFocus\n\t\t});\n\t\n\t\tvar called = false,\n\t\t\tprevented = false,\n\t\t\tfallbacks = {\n\t\t\t\tdoubleclick: 'click',\n\t\t\t\tmousedrag: 'mousemove'\n\t\t\t},\n\t\t\twasInView = false,\n\t\t\toverView,\n\t\t\tdownPoint,\n\t\t\tlastPoint,\n\t\t\tdownItem,\n\t\t\toverItem,\n\t\t\tdragItem,\n\t\t\tclickItem,\n\t\t\tclickTime,\n\t\t\tdblClick;\n\t\n\t\tfunction emitMouseEvent(obj, target, type, event, point, prevPoint,\n\t\t\t\tstopItem) {\n\t\t\tvar stopped = false,\n\t\t\t\tmouseEvent;\n\t\n\t\t\tfunction emit(obj, type) {\n\t\t\t\tif (obj.responds(type)) {\n\t\t\t\t\tif (!mouseEvent) {\n\t\t\t\t\t\tmouseEvent = new MouseEvent(type, event, point,\n\t\t\t\t\t\t\t\ttarget || obj,\n\t\t\t\t\t\t\t\tprevPoint ? point.subtract(prevPoint) : null);\n\t\t\t\t\t}\n\t\t\t\t\tif (obj.emit(type, mouseEvent)) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tif (mouseEvent.prevented)\n\t\t\t\t\t\t\tprevented = true;\n\t\t\t\t\t\tif (mouseEvent.stopped)\n\t\t\t\t\t\t\treturn stopped = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar fallback = fallbacks[type];\n\t\t\t\t\tif (fallback)\n\t\t\t\t\t\treturn emit(obj, fallback);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\twhile (obj && obj !== stopItem) {\n\t\t\t\tif (emit(obj, type))\n\t\t\t\t\tbreak;\n\t\t\t\tobj = obj._parent;\n\t\t\t}\n\t\t\treturn stopped;\n\t\t}\n\t\n\t\tfunction emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n\t\t\tview._project.removeOn(type);\n\t\t\tprevented = called = false;\n\t\t\treturn (dragItem && emitMouseEvent(dragItem, null, type, event,\n\t\t\t\t\t\tpoint, prevPoint)\n\t\t\t\t|| hitItem && hitItem !== dragItem\n\t\t\t\t\t&& !hitItem.isDescendant(dragItem)\n\t\t\t\t\t&& emitMouseEvent(hitItem, null, type, event, point, prevPoint,\n\t\t\t\t\t\tdragItem)\n\t\t\t\t|| emitMouseEvent(view, dragItem || hitItem || view, type, event,\n\t\t\t\t\t\tpoint, prevPoint));\n\t\t}\n\t\n\t\tvar itemEventsMap = {\n\t\t\tmousedown: {\n\t\t\t\tmousedown: 1,\n\t\t\t\tmousedrag: 1,\n\t\t\t\tclick: 1,\n\t\t\t\tdoubleclick: 1\n\t\t\t},\n\t\t\tmouseup: {\n\t\t\t\tmouseup: 1,\n\t\t\t\tmousedrag: 1,\n\t\t\t\tclick: 1,\n\t\t\t\tdoubleclick: 1\n\t\t\t},\n\t\t\tmousemove: {\n\t\t\t\tmousedrag: 1,\n\t\t\t\tmousemove: 1,\n\t\t\t\tmouseenter: 1,\n\t\t\t\tmouseleave: 1\n\t\t\t}\n\t\t};\n\t\n\t\treturn {\n\t\t\t_viewEvents: viewEvents,\n\t\n\t\t\t_handleMouseEvent: function(type, event, point) {\n\t\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\t\thitItems = itemEvents.native[type],\n\t\t\t\t\tnativeMove = type === 'mousemove',\n\t\t\t\t\ttool = this._scope.tool,\n\t\t\t\t\tview = this;\n\t\n\t\t\t\tfunction responds(type) {\n\t\t\t\t\treturn itemEvents.virtual[type] || view.responds(type)\n\t\t\t\t\t\t\t|| tool && tool.responds(type);\n\t\t\t\t}\n\t\n\t\t\t\tif (nativeMove && dragging && responds('mousedrag'))\n\t\t\t\t\ttype = 'mousedrag';\n\t\t\t\tif (!point)\n\t\t\t\t\tpoint = this.getEventPoint(event);\n\t\n\t\t\t\tvar inView = this.getBounds().contains(point),\n\t\t\t\t\thit = hitItems && inView && view._project.hitTest(point, {\n\t\t\t\t\t\ttolerance: 0,\n\t\t\t\t\t\tfill: true,\n\t\t\t\t\t\tstroke: true\n\t\t\t\t\t}),\n\t\t\t\t\thitItem = hit && hit.item || null,\n\t\t\t\t\thandle = false,\n\t\t\t\t\tmouse = {};\n\t\t\t\tmouse[type.substr(5)] = true;\n\t\n\t\t\t\tif (hitItems && hitItem !== overItem) {\n\t\t\t\t\tif (overItem) {\n\t\t\t\t\t\temitMouseEvent(overItem, null, 'mouseleave', event, point);\n\t\t\t\t\t}\n\t\t\t\t\tif (hitItem) {\n\t\t\t\t\t\temitMouseEvent(hitItem, null, 'mouseenter', event, point);\n\t\t\t\t\t}\n\t\t\t\t\toverItem = hitItem;\n\t\t\t\t}\n\t\t\t\tif (wasInView ^ inView) {\n\t\t\t\t\temitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave',\n\t\t\t\t\t\t\tevent, point);\n\t\t\t\t\toverView = inView ? this : null;\n\t\t\t\t\thandle = true;\n\t\t\t\t}\n\t\t\t\tif ((inView || mouse.drag) && !point.equals(lastPoint)) {\n\t\t\t\t\temitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove',\n\t\t\t\t\t\t\tevent, point, lastPoint);\n\t\t\t\t\thandle = true;\n\t\t\t\t}\n\t\t\t\twasInView = inView;\n\t\t\t\tif (mouse.down && inView || mouse.up && downPoint) {\n\t\t\t\t\temitMouseEvents(this, hitItem, type, event, point, downPoint);\n\t\t\t\t\tif (mouse.down) {\n\t\t\t\t\t\tdblClick = hitItem === clickItem\n\t\t\t\t\t\t\t&& (Date.now() - clickTime < 300);\n\t\t\t\t\t\tdownItem = clickItem = hitItem;\n\t\t\t\t\t\tif (!prevented && hitItem) {\n\t\t\t\t\t\t\tvar item = hitItem;\n\t\t\t\t\t\t\twhile (item && !item.responds('mousedrag'))\n\t\t\t\t\t\t\t\titem = item._parent;\n\t\t\t\t\t\t\tif (item)\n\t\t\t\t\t\t\t\tdragItem = hitItem;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdownPoint = point;\n\t\t\t\t\t} else if (mouse.up) {\n\t\t\t\t\t\tif (!prevented && hitItem === downItem) {\n\t\t\t\t\t\t\tclickTime = Date.now();\n\t\t\t\t\t\t\temitMouseEvents(this, hitItem, dblClick ? 'doubleclick'\n\t\t\t\t\t\t\t\t\t: 'click', event, point, downPoint);\n\t\t\t\t\t\t\tdblClick = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdownItem = dragItem = null;\n\t\t\t\t\t}\n\t\t\t\t\twasInView = false;\n\t\t\t\t\thandle = true;\n\t\t\t\t}\n\t\t\t\tlastPoint = point;\n\t\t\t\tif (handle && tool) {\n\t\t\t\t\tcalled = tool._handleMouseEvent(type, event, point, mouse)\n\t\t\t\t\t\t|| called;\n\t\t\t\t}\n\t\n\t\t\t\tif (called && !mouse.move || mouse.down && responds('mouseup'))\n\t\t\t\t\tevent.preventDefault();\n\t\t\t},\n\t\n\t\t\t_handleKeyEvent: function(type, event, key, character) {\n\t\t\t\tvar scope = this._scope,\n\t\t\t\t\ttool = scope.tool,\n\t\t\t\t\tkeyEvent;\n\t\n\t\t\t\tfunction emit(obj) {\n\t\t\t\t\tif (obj.responds(type)) {\n\t\t\t\t\t\tpaper = scope;\n\t\t\t\t\t\tobj.emit(type, keyEvent = keyEvent\n\t\t\t\t\t\t\t\t|| new KeyEvent(type, event, key, character));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (this.isVisible()) {\n\t\t\t\t\temit(this);\n\t\t\t\t\tif (tool && tool.responds(type))\n\t\t\t\t\t\temit(tool);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t_countItemEvent: function(type, sign) {\n\t\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\t\tnative = itemEvents.native,\n\t\t\t\t\tvirtual = itemEvents.virtual;\n\t\t\t\tfor (var key in itemEventsMap) {\n\t\t\t\t\tnative[key] = (native[key] || 0)\n\t\t\t\t\t\t\t+ (itemEventsMap[key][type] || 0) * sign;\n\t\t\t\t}\n\t\t\t\tvirtual[type] = (virtual[type] || 0) + sign;\n\t\t\t},\n\t\n\t\t\tstatics: {\n\t\t\t\tupdateFocus: updateFocus\n\t\t\t}\n\t\t};\n\t});\n\t\n\tvar CanvasView = View.extend({\n\t\t_class: 'CanvasView',\n\t\n\t\tinitialize: function CanvasView(project, canvas) {\n\t\t\tif (!(canvas instanceof window.HTMLCanvasElement)) {\n\t\t\t\tvar size = Size.read(arguments, 1);\n\t\t\t\tif (size.isZero())\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create CanvasView with the provided argument: '\n\t\t\t\t\t\t\t+ Base.slice(arguments, 1));\n\t\t\t\tcanvas = CanvasProvider.getCanvas(size);\n\t\t\t}\n\t\t\tvar ctx = this._context = canvas.getContext('2d');\n\t\t\tctx.save();\n\t\t\tthis._pixelRatio = 1;\n\t\t\tif (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n\t\t\t\tvar deviceRatio = window.devicePixelRatio || 1,\n\t\t\t\t\tbackingStoreRatio = DomElement.getPrefixed(ctx,\n\t\t\t\t\t\t\t'backingStorePixelRatio') || 1;\n\t\t\t\tthis._pixelRatio = deviceRatio / backingStoreRatio;\n\t\t\t}\n\t\t\tView.call(this, project, canvas);\n\t\t\tthis._needsUpdate = true;\n\t\t},\n\t\n\t\tremove: function remove() {\n\t\t\tthis._context.restore();\n\t\t\treturn remove.base.call(this);\n\t\t},\n\t\n\t\t_setElementSize: function _setElementSize(width, height) {\n\t\t\tvar pixelRatio = this._pixelRatio;\n\t\t\t_setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\t\t\tif (pixelRatio !== 1) {\n\t\t\t\tvar element = this._element,\n\t\t\t\t\tctx = this._context;\n\t\t\t\tif (!PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\t\tvar style = element.style;\n\t\t\t\t\tstyle.width = width + 'px';\n\t\t\t\t\tstyle.height = height + 'px';\n\t\t\t\t}\n\t\t\t\tctx.restore();\n\t\t\t\tctx.save();\n\t\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t\t}\n\t\t},\n\t\n\t\tgetPixelSize: function getPixelSize(size) {\n\t\t\tvar agent = paper.agent,\n\t\t\t\tpixels;\n\t\t\tif (agent && agent.firefox) {\n\t\t\t\tpixels = getPixelSize.base.call(this, size);\n\t\t\t} else {\n\t\t\t\tvar ctx = this._context,\n\t\t\t\t\tprevFont = ctx.font;\n\t\t\t\tctx.font = size + ' serif';\n\t\t\t\tpixels = parseFloat(ctx.font);\n\t\t\t\tctx.font = prevFont;\n\t\t\t}\n\t\t\treturn pixels;\n\t\t},\n\t\n\t\tgetTextWidth: function(font, lines) {\n\t\t\tvar ctx = this._context,\n\t\t\t\tprevFont = ctx.font,\n\t\t\t\twidth = 0;\n\t\t\tctx.font = font;\n\t\t\tfor (var i = 0, l = lines.length; i < l; i++)\n\t\t\t\twidth = Math.max(width, ctx.measureText(lines[i]).width);\n\t\t\tctx.font = prevFont;\n\t\t\treturn width;\n\t\t},\n\t\n\t\tupdate: function() {\n\t\t\tif (!this._needsUpdate)\n\t\t\t\treturn false;\n\t\t\tvar project = this._project,\n\t\t\t\tctx = this._context,\n\t\t\t\tsize = this._viewSize;\n\t\t\tctx.clearRect(0, 0, size.width + 1, size.height + 1);\n\t\t\tif (project)\n\t\t\t\tproject.draw(ctx, this._matrix, this._pixelRatio);\n\t\t\tthis._needsUpdate = false;\n\t\t\treturn true;\n\t\t}\n\t});\n\t\n\tvar Event = Base.extend({\n\t\t_class: 'Event',\n\t\n\t\tinitialize: function Event(event) {\n\t\t\tthis.event = event;\n\t\t\tthis.type = event && event.type;\n\t\t},\n\t\n\t\tprevented: false,\n\t\tstopped: false,\n\t\n\t\tpreventDefault: function() {\n\t\t\tthis.prevented = true;\n\t\t\tthis.event.preventDefault();\n\t\t},\n\t\n\t\tstopPropagation: function() {\n\t\t\tthis.stopped = true;\n\t\t\tthis.event.stopPropagation();\n\t\t},\n\t\n\t\tstop: function() {\n\t\t\tthis.stopPropagation();\n\t\t\tthis.preventDefault();\n\t\t},\n\t\n\t\tgetTimeStamp: function() {\n\t\t\treturn this.event.timeStamp;\n\t\t},\n\t\n\t\tgetModifiers: function() {\n\t\t\treturn Key.modifiers;\n\t\t}\n\t});\n\t\n\tvar KeyEvent = Event.extend({\n\t\t_class: 'KeyEvent',\n\t\n\t\tinitialize: function KeyEvent(type, event, key, character) {\n\t\t\tthis.type = type;\n\t\t\tthis.event = event;\n\t\t\tthis.key = key;\n\t\t\tthis.character = character;\n\t\t},\n\t\n\t\ttoString: function() {\n\t\t\treturn \"{ type: '\" + this.type\n\t\t\t\t\t+ \"', key: '\" + this.key\n\t\t\t\t\t+ \"', character: '\" + this.character\n\t\t\t\t\t+ \"', modifiers: \" + this.getModifiers()\n\t\t\t\t\t+ \" }\";\n\t\t}\n\t});\n\t\n\tvar Key = new function() {\n\t\tvar keyLookup = {\n\t\t\t\t'\\t': 'tab',\n\t\t\t\t' ': 'space',\n\t\t\t\t'\\b': 'backspace',\n\t\t\t\t'\\x7f': 'delete',\n\t\t\t\t'Spacebar': 'space',\n\t\t\t\t'Del': 'delete',\n\t\t\t\t'Win': 'meta',\n\t\t\t\t'Esc': 'escape'\n\t\t\t},\n\t\n\t\t\tcharLookup = {\n\t\t\t\t'tab': '\\t',\n\t\t\t\t'space': ' ',\n\t\t\t\t'enter': '\\r'\n\t\t\t},\n\t\n\t\t\tkeyMap = {},\n\t\t\tcharMap = {},\n\t\t\tmetaFixMap,\n\t\t\tdownKey,\n\t\n\t\t\tmodifiers = new Base({\n\t\t\t\tshift: false,\n\t\t\t\tcontrol: false,\n\t\t\t\talt: false,\n\t\t\t\tmeta: false,\n\t\t\t\tcapsLock: false,\n\t\t\t\tspace: false\n\t\t\t}).inject({\n\t\t\t\toption: {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn this.alt;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tcommand: {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\tvar agent = paper && paper.agent;\n\t\t\t\t\t\treturn agent && agent.mac ? this.meta : this.control;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\tfunction getKey(event) {\n\t\t\tvar key = event.key || event.keyIdentifier;\n\t\t\tkey = /^U\\+/.test(key)\n\t\t\t\t\t? String.fromCharCode(parseInt(key.substr(2), 16))\n\t\t\t\t\t: /^Arrow[A-Z]/.test(key) ? key.substr(5)\n\t\t\t\t\t: key === 'Unidentified' ? String.fromCharCode(event.keyCode)\n\t\t\t\t\t: key;\n\t\t\treturn keyLookup[key] ||\n\t\t\t\t\t(key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n\t\t}\n\t\n\t\tfunction handleKey(down, key, character, event) {\n\t\t\tvar type = down ? 'keydown' : 'keyup',\n\t\t\t\tview = View._focused,\n\t\t\t\tname;\n\t\t\tkeyMap[key] = down;\n\t\t\tif (down) {\n\t\t\t\tcharMap[key] = character;\n\t\t\t} else {\n\t\t\t\tdelete charMap[key];\n\t\t\t}\n\t\t\tif (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n\t\t\t\tmodifiers[name] = down;\n\t\t\t\tvar agent = paper && paper.agent;\n\t\t\t\tif (name === 'meta' && agent && agent.mac) {\n\t\t\t\t\tif (down) {\n\t\t\t\t\t\tmetaFixMap = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (var k in metaFixMap) {\n\t\t\t\t\t\t\tif (k in charMap)\n\t\t\t\t\t\t\t\thandleKey(false, k, metaFixMap[k], event);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmetaFixMap = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (down && metaFixMap) {\n\t\t\t\tmetaFixMap[key] = character;\n\t\t\t}\n\t\t\tif (view) {\n\t\t\t\tview._handleKeyEvent(down ? 'keydown' : 'keyup', event, key,\n\t\t\t\t\t\tcharacter);\n\t\t\t}\n\t\t}\n\t\n\t\tDomEvent.add(document, {\n\t\t\tkeydown: function(event) {\n\t\t\t\tvar key = getKey(event),\n\t\t\t\t\tagent = paper && paper.agent;\n\t\t\t\tif (key.length > 1 || agent && (agent.chrome && (event.altKey\n\t\t\t\t\t\t\t|| agent.mac && event.metaKey\n\t\t\t\t\t\t\t|| !agent.mac && event.ctrlKey))) {\n\t\t\t\t\thandleKey(true, key,\n\t\t\t\t\t\t\tcharLookup[key] || (key.length > 1 ? '' : key), event);\n\t\t\t\t} else {\n\t\t\t\t\tdownKey = key;\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tkeypress: function(event) {\n\t\t\t\tif (downKey) {\n\t\t\t\t\tvar key = getKey(event),\n\t\t\t\t\t\tcode = event.charCode,\n\t\t\t\t\t\tcharacter = code >= 32 ? String.fromCharCode(code)\n\t\t\t\t\t\t\t: key.length > 1 ? '' : key;\n\t\t\t\t\tif (key !== downKey) {\n\t\t\t\t\t\tkey = character.toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\thandleKey(true, key, character, event);\n\t\t\t\t\tdownKey = null;\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tkeyup: function(event) {\n\t\t\t\tvar key = getKey(event);\n\t\t\t\tif (key in charMap)\n\t\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t\t}\n\t\t});\n\t\n\t\tDomEvent.add(window, {\n\t\t\tblur: function(event) {\n\t\t\t\tfor (var key in charMap)\n\t\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t\t}\n\t\t});\n\t\n\t\treturn {\n\t\t\tmodifiers: modifiers,\n\t\n\t\t\tisDown: function(key) {\n\t\t\t\treturn !!keyMap[key];\n\t\t\t}\n\t\t};\n\t};\n\t\n\tvar MouseEvent = Event.extend({\n\t\t_class: 'MouseEvent',\n\t\n\t\tinitialize: function MouseEvent(type, event, point, target, delta) {\n\t\t\tthis.type = type;\n\t\t\tthis.event = event;\n\t\t\tthis.point = point;\n\t\t\tthis.target = target;\n\t\t\tthis.delta = delta;\n\t\t},\n\t\n\t\ttoString: function() {\n\t\t\treturn \"{ type: '\" + this.type\n\t\t\t\t\t+ \"', point: \" + this.point\n\t\t\t\t\t+ ', target: ' + this.target\n\t\t\t\t\t+ (this.delta ? ', delta: ' + this.delta : '')\n\t\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t\t+ ' }';\n\t\t}\n\t});\n\t\n\tvar ToolEvent = Event.extend({\n\t\t_class: 'ToolEvent',\n\t\t_item: null,\n\t\n\t\tinitialize: function ToolEvent(tool, type, event) {\n\t\t\tthis.tool = tool;\n\t\t\tthis.type = type;\n\t\t\tthis.event = event;\n\t\t},\n\t\n\t\t_choosePoint: function(point, toolPoint) {\n\t\t\treturn point ? point : toolPoint ? toolPoint.clone() : null;\n\t\t},\n\t\n\t\tgetPoint: function() {\n\t\t\treturn this._choosePoint(this._point, this.tool._point);\n\t\t},\n\t\n\t\tsetPoint: function(point) {\n\t\t\tthis._point = point;\n\t\t},\n\t\n\t\tgetLastPoint: function() {\n\t\t\treturn this._choosePoint(this._lastPoint, this.tool._lastPoint);\n\t\t},\n\t\n\t\tsetLastPoint: function(lastPoint) {\n\t\t\tthis._lastPoint = lastPoint;\n\t\t},\n\t\n\t\tgetDownPoint: function() {\n\t\t\treturn this._choosePoint(this._downPoint, this.tool._downPoint);\n\t\t},\n\t\n\t\tsetDownPoint: function(downPoint) {\n\t\t\tthis._downPoint = downPoint;\n\t\t},\n\t\n\t\tgetMiddlePoint: function() {\n\t\t\tif (!this._middlePoint && this.tool._lastPoint) {\n\t\t\t\treturn this.tool._point.add(this.tool._lastPoint).divide(2);\n\t\t\t}\n\t\t\treturn this._middlePoint;\n\t\t},\n\t\n\t\tsetMiddlePoint: function(middlePoint) {\n\t\t\tthis._middlePoint = middlePoint;\n\t\t},\n\t\n\t\tgetDelta: function() {\n\t\t\treturn !this._delta && this.tool._lastPoint\n\t\t\t\t\t? this.tool._point.subtract(this.tool._lastPoint)\n\t\t\t\t\t: this._delta;\n\t\t},\n\t\n\t\tsetDelta: function(delta) {\n\t\t\tthis._delta = delta;\n\t\t},\n\t\n\t\tgetCount: function() {\n\t\t\treturn this.tool[/^mouse(down|up)$/.test(this.type)\n\t\t\t\t\t? '_downCount' : '_moveCount'];\n\t\t},\n\t\n\t\tsetCount: function(count) {\n\t\t\tthis.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count']\n\t\t\t\t= count;\n\t\t},\n\t\n\t\tgetItem: function() {\n\t\t\tif (!this._item) {\n\t\t\t\tvar result = this.tool._scope.project.hitTest(this.getPoint());\n\t\t\t\tif (result) {\n\t\t\t\t\tvar item = result.item,\n\t\t\t\t\t\tparent = item._parent;\n\t\t\t\t\twhile (/^(Group|CompoundPath)$/.test(parent._class)) {\n\t\t\t\t\t\titem = parent;\n\t\t\t\t\t\tparent = parent._parent;\n\t\t\t\t\t}\n\t\t\t\t\tthis._item = item;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this._item;\n\t\t},\n\t\n\t\tsetItem: function(item) {\n\t\t\tthis._item = item;\n\t\t},\n\t\n\t\ttoString: function() {\n\t\t\treturn '{ type: ' + this.type\n\t\t\t\t\t+ ', point: ' + this.getPoint()\n\t\t\t\t\t+ ', count: ' + this.getCount()\n\t\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t\t+ ' }';\n\t\t}\n\t});\n\t\n\tvar Tool = PaperScopeItem.extend({\n\t\t_class: 'Tool',\n\t\t_list: 'tools',\n\t\t_reference: 'tool',\n\t\t_events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove',\n\t\t\t\t'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown',\n\t\t\t\t'onKeyUp'],\n\t\n\t\tinitialize: function Tool(props) {\n\t\t\tPaperScopeItem.call(this);\n\t\t\tthis._moveCount = -1;\n\t\t\tthis._downCount = -1;\n\t\t\tthis.set(props);\n\t\t},\n\t\n\t\tgetMinDistance: function() {\n\t\t\treturn this._minDistance;\n\t\t},\n\t\n\t\tsetMinDistance: function(minDistance) {\n\t\t\tthis._minDistance = minDistance;\n\t\t\tif (minDistance != null && this._maxDistance != null\n\t\t\t\t\t&& minDistance > this._maxDistance) {\n\t\t\t\tthis._maxDistance = minDistance;\n\t\t\t}\n\t\t},\n\t\n\t\tgetMaxDistance: function() {\n\t\t\treturn this._maxDistance;\n\t\t},\n\t\n\t\tsetMaxDistance: function(maxDistance) {\n\t\t\tthis._maxDistance = maxDistance;\n\t\t\tif (this._minDistance != null && maxDistance != null\n\t\t\t\t\t&& maxDistance < this._minDistance) {\n\t\t\t\tthis._minDistance = maxDistance;\n\t\t\t}\n\t\t},\n\t\n\t\tgetFixedDistance: function() {\n\t\t\treturn this._minDistance == this._maxDistance\n\t\t\t\t? this._minDistance : null;\n\t\t},\n\t\n\t\tsetFixedDistance: function(distance) {\n\t\t\tthis._minDistance = this._maxDistance = distance;\n\t\t},\n\t\n\t\t_handleMouseEvent: function(type, event, point, mouse) {\n\t\t\tpaper = this._scope;\n\t\t\tif (mouse.drag && !this.responds(type))\n\t\t\t\ttype = 'mousemove';\n\t\t\tvar move = mouse.move || mouse.drag,\n\t\t\t\tresponds = this.responds(type),\n\t\t\t\tminDistance = this.minDistance,\n\t\t\t\tmaxDistance = this.maxDistance,\n\t\t\t\tcalled = false,\n\t\t\t\ttool = this;\n\t\t\tfunction update(minDistance, maxDistance) {\n\t\t\t\tvar pt = point,\n\t\t\t\t\ttoolPoint = move ? tool._point : (tool._downPoint || pt);\n\t\t\t\tif (move) {\n\t\t\t\t\tif (tool._moveCount && pt.equals(toolPoint)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (toolPoint && (minDistance != null || maxDistance != null)) {\n\t\t\t\t\t\tvar vector = pt.subtract(toolPoint),\n\t\t\t\t\t\t\tdistance = vector.getLength();\n\t\t\t\t\t\tif (distance < (minDistance || 0))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\tif (maxDistance) {\n\t\t\t\t\t\t\tpt = toolPoint.add(vector.normalize(\n\t\t\t\t\t\t\t\t\tMath.min(distance, maxDistance)));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttool._moveCount++;\n\t\t\t\t}\n\t\t\t\ttool._point = pt;\n\t\t\t\ttool._lastPoint = toolPoint || pt;\n\t\t\t\tif (mouse.down) {\n\t\t\t\t\ttool._moveCount = -1;\n\t\t\t\t\ttool._downPoint = pt;\n\t\t\t\t\ttool._downCount++;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\n\t\t\tfunction emit() {\n\t\t\t\tif (responds) {\n\t\t\t\t\tcalled = tool.emit(type, new ToolEvent(tool, type, event))\n\t\t\t\t\t\t\t|| called;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (mouse.down) {\n\t\t\t\tupdate();\n\t\t\t\temit();\n\t\t\t} else if (mouse.up) {\n\t\t\t\tupdate(null, maxDistance);\n\t\t\t\temit();\n\t\t\t} else if (responds) {\n\t\t\t\twhile (update(minDistance, maxDistance))\n\t\t\t\t\temit();\n\t\t\t}\n\t\t\treturn called;\n\t\t}\n\t\n\t});\n\t\n\tvar Http = {\n\t\trequest: function(options) {\n\t\t\tvar xhr = new self.XMLHttpRequest();\n\t\t\txhr.open((options.method || 'get').toUpperCase(), options.url,\n\t\t\t\t\tBase.pick(options.async, true));\n\t\t\tif (options.mimeType)\n\t\t\t\txhr.overrideMimeType(options.mimeType);\n\t\t\txhr.onload = function() {\n\t\t\t\tvar status = xhr.status;\n\t\t\t\tif (status === 0 || status === 200) {\n\t\t\t\t\tif (options.onLoad) {\n\t\t\t\t\t\toptions.onLoad.call(xhr, xhr.responseText);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\txhr.onerror();\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.onerror = function() {\n\t\t\t\tvar status = xhr.status,\n\t\t\t\t\tmessage = 'Could not load \"' + options.url + '\" (Status: '\n\t\t\t\t\t\t\t+ status + ')';\n\t\t\t\tif (options.onError) {\n\t\t\t\t\toptions.onError(message, status);\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(message);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn xhr.send(null);\n\t\t}\n\t};\n\t\n\tvar CanvasProvider = {\n\t\tcanvases: [],\n\t\n\t\tgetCanvas: function(width, height) {\n\t\t\tif (!window)\n\t\t\t\treturn null;\n\t\t\tvar canvas,\n\t\t\t\tclear = true;\n\t\t\tif (typeof width === 'object') {\n\t\t\t\theight = width.height;\n\t\t\t\twidth = width.width;\n\t\t\t}\n\t\t\tif (this.canvases.length) {\n\t\t\t\tcanvas = this.canvases.pop();\n\t\t\t} else {\n\t\t\t\tcanvas = document.createElement('canvas');\n\t\t\t\tclear = false;\n\t\t\t}\n\t\t\tvar ctx = canvas.getContext('2d');\n\t\t\tif (!ctx) {\n\t\t\t\tthrow new Error('Canvas ' + canvas +\n\t\t\t\t\t\t' is unable to provide a 2D context.');\n\t\t\t}\n\t\t\tif (canvas.width === width && canvas.height === height) {\n\t\t\t\tif (clear)\n\t\t\t\t\tctx.clearRect(0, 0, width + 1, height + 1);\n\t\t\t} else {\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\t\t\t}\n\t\t\tctx.save();\n\t\t\treturn canvas;\n\t\t},\n\t\n\t\tgetContext: function(width, height) {\n\t\t\tvar canvas = this.getCanvas(width, height);\n\t\t\treturn canvas ? canvas.getContext('2d') : null;\n\t\t},\n\t\n\t\trelease: function(obj) {\n\t\t\tvar canvas = obj && obj.canvas ? obj.canvas : obj;\n\t\t\tif (canvas && canvas.getContext) {\n\t\t\t\tcanvas.getContext('2d').restore();\n\t\t\t\tthis.canvases.push(canvas);\n\t\t\t}\n\t\t}\n\t};\n\t\n\tvar BlendMode = new function() {\n\t\tvar min = Math.min,\n\t\t\tmax = Math.max,\n\t\t\tabs = Math.abs,\n\t\t\tsr, sg, sb, sa,\n\t\t\tbr, bg, bb, ba,\n\t\t\tdr, dg, db;\n\t\n\t\tfunction getLum(r, g, b) {\n\t\t\treturn 0.2989 * r + 0.587 * g + 0.114 * b;\n\t\t}\n\t\n\t\tfunction setLum(r, g, b, l) {\n\t\t\tvar d = l - getLum(r, g, b);\n\t\t\tdr = r + d;\n\t\t\tdg = g + d;\n\t\t\tdb = b + d;\n\t\t\tvar l = getLum(dr, dg, db),\n\t\t\t\tmn = min(dr, dg, db),\n\t\t\t\tmx = max(dr, dg, db);\n\t\t\tif (mn < 0) {\n\t\t\t\tvar lmn = l - mn;\n\t\t\t\tdr = l + (dr - l) * l / lmn;\n\t\t\t\tdg = l + (dg - l) * l / lmn;\n\t\t\t\tdb = l + (db - l) * l / lmn;\n\t\t\t}\n\t\t\tif (mx > 255) {\n\t\t\t\tvar ln = 255 - l,\n\t\t\t\t\tmxl = mx - l;\n\t\t\t\tdr = l + (dr - l) * ln / mxl;\n\t\t\t\tdg = l + (dg - l) * ln / mxl;\n\t\t\t\tdb = l + (db - l) * ln / mxl;\n\t\t\t}\n\t\t}\n\t\n\t\tfunction getSat(r, g, b) {\n\t\t\treturn max(r, g, b) - min(r, g, b);\n\t\t}\n\t\n\t\tfunction setSat(r, g, b, s) {\n\t\t\tvar col = [r, g, b],\n\t\t\t\tmx = max(r, g, b),\n\t\t\t\tmn = min(r, g, b),\n\t\t\t\tmd;\n\t\t\tmn = mn === r ? 0 : mn === g ? 1 : 2;\n\t\t\tmx = mx === r ? 0 : mx === g ? 1 : 2;\n\t\t\tmd = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\t\t\tif (col[mx] > col[mn]) {\n\t\t\t\tcol[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n\t\t\t\tcol[mx] = s;\n\t\t\t} else {\n\t\t\t\tcol[md] = col[mx] = 0;\n\t\t\t}\n\t\t\tcol[mn] = 0;\n\t\t\tdr = col[0];\n\t\t\tdg = col[1];\n\t\t\tdb = col[2];\n\t\t}\n\t\n\t\tvar modes = {\n\t\t\tmultiply: function() {\n\t\t\t\tdr = br * sr / 255;\n\t\t\t\tdg = bg * sg / 255;\n\t\t\t\tdb = bb * sb / 255;\n\t\t\t},\n\t\n\t\t\tscreen: function() {\n\t\t\t\tdr = br + sr - (br * sr / 255);\n\t\t\t\tdg = bg + sg - (bg * sg / 255);\n\t\t\t\tdb = bb + sb - (bb * sb / 255);\n\t\t\t},\n\t\n\t\t\toverlay: function() {\n\t\t\t\tdr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n\t\t\t\tdg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n\t\t\t\tdb = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n\t\t\t},\n\t\n\t\t\t'soft-light': function() {\n\t\t\t\tvar t = sr * br / 255;\n\t\t\t\tdr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n\t\t\t\tt = sg * bg / 255;\n\t\t\t\tdg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n\t\t\t\tt = sb * bb / 255;\n\t\t\t\tdb = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n\t\t\t},\n\t\n\t\t\t'hard-light': function() {\n\t\t\t\tdr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n\t\t\t\tdg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n\t\t\t\tdb = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n\t\t\t},\n\t\n\t\t\t'color-dodge': function() {\n\t\t\t\tdr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n\t\t\t\tdg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n\t\t\t\tdb = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n\t\t\t},\n\t\n\t\t\t'color-burn': function() {\n\t\t\t\tdr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n\t\t\t\tdg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n\t\t\t\tdb = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n\t\t\t},\n\t\n\t\t\tdarken: function() {\n\t\t\t\tdr = br < sr ? br : sr;\n\t\t\t\tdg = bg < sg ? bg : sg;\n\t\t\t\tdb = bb < sb ? bb : sb;\n\t\t\t},\n\t\n\t\t\tlighten: function() {\n\t\t\t\tdr = br > sr ? br : sr;\n\t\t\t\tdg = bg > sg ? bg : sg;\n\t\t\t\tdb = bb > sb ? bb : sb;\n\t\t\t},\n\t\n\t\t\tdifference: function() {\n\t\t\t\tdr = br - sr;\n\t\t\t\tif (dr < 0)\n\t\t\t\t\tdr = -dr;\n\t\t\t\tdg = bg - sg;\n\t\t\t\tif (dg < 0)\n\t\t\t\t\tdg = -dg;\n\t\t\t\tdb = bb - sb;\n\t\t\t\tif (db < 0)\n\t\t\t\t\tdb = -db;\n\t\t\t},\n\t\n\t\t\texclusion: function() {\n\t\t\t\tdr = br + sr * (255 - br - br) / 255;\n\t\t\t\tdg = bg + sg * (255 - bg - bg) / 255;\n\t\t\t\tdb = bb + sb * (255 - bb - bb) / 255;\n\t\t\t},\n\t\n\t\t\thue: function() {\n\t\t\t\tsetSat(sr, sg, sb, getSat(br, bg, bb));\n\t\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t\t},\n\t\n\t\t\tsaturation: function() {\n\t\t\t\tsetSat(br, bg, bb, getSat(sr, sg, sb));\n\t\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t\t},\n\t\n\t\t\tluminosity: function() {\n\t\t\t\tsetLum(br, bg, bb, getLum(sr, sg, sb));\n\t\t\t},\n\t\n\t\t\tcolor: function() {\n\t\t\t\tsetLum(sr, sg, sb, getLum(br, bg, bb));\n\t\t\t},\n\t\n\t\t\tadd: function() {\n\t\t\t\tdr = min(br + sr, 255);\n\t\t\t\tdg = min(bg + sg, 255);\n\t\t\t\tdb = min(bb + sb, 255);\n\t\t\t},\n\t\n\t\t\tsubtract: function() {\n\t\t\t\tdr = max(br - sr, 0);\n\t\t\t\tdg = max(bg - sg, 0);\n\t\t\t\tdb = max(bb - sb, 0);\n\t\t\t},\n\t\n\t\t\taverage: function() {\n\t\t\t\tdr = (br + sr) / 2;\n\t\t\t\tdg = (bg + sg) / 2;\n\t\t\t\tdb = (bb + sb) / 2;\n\t\t\t},\n\t\n\t\t\tnegation: function() {\n\t\t\t\tdr = 255 - abs(255 - sr - br);\n\t\t\t\tdg = 255 - abs(255 - sg - bg);\n\t\t\t\tdb = 255 - abs(255 - sb - bb);\n\t\t\t}\n\t\t};\n\t\n\t\tvar nativeModes = this.nativeModes = Base.each([\n\t\t\t'source-over', 'source-in', 'source-out', 'source-atop',\n\t\t\t'destination-over', 'destination-in', 'destination-out',\n\t\t\t'destination-atop', 'lighter', 'darker', 'copy', 'xor'\n\t\t], function(mode) {\n\t\t\tthis[mode] = true;\n\t\t}, {});\n\t\n\t\tvar ctx = CanvasProvider.getContext(1, 1);\n\t\tif (ctx) {\n\t\t\tBase.each(modes, function(func, mode) {\n\t\t\t\tvar darken = mode === 'darken',\n\t\t\t\t\tok = false;\n\t\t\t\tctx.save();\n\t\t\t\ttry {\n\t\t\t\t\tctx.fillStyle = darken ? '#300' : '#a00';\n\t\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tctx.globalCompositeOperation = mode;\n\t\t\t\t\tif (ctx.globalCompositeOperation === mode) {\n\t\t\t\t\t\tctx.fillStyle = darken ? '#a00' : '#300';\n\t\t\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\t\t\tok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken\n\t\t\t\t\t\t\t\t? 170 : 51;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t\tctx.restore();\n\t\t\t\tnativeModes[mode] = ok;\n\t\t\t});\n\t\t\tCanvasProvider.release(ctx);\n\t\t}\n\t\n\t\tthis.process = function(mode, srcContext, dstContext, alpha, offset) {\n\t\t\tvar srcCanvas = srcContext.canvas,\n\t\t\t\tnormal = mode === 'normal';\n\t\t\tif (normal || nativeModes[mode]) {\n\t\t\t\tdstContext.save();\n\t\t\t\tdstContext.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\t\tdstContext.globalAlpha = alpha;\n\t\t\t\tif (!normal)\n\t\t\t\t\tdstContext.globalCompositeOperation = mode;\n\t\t\t\tdstContext.drawImage(srcCanvas, offset.x, offset.y);\n\t\t\t\tdstContext.restore();\n\t\t\t} else {\n\t\t\t\tvar process = modes[mode];\n\t\t\t\tif (!process)\n\t\t\t\t\treturn;\n\t\t\t\tvar dstData = dstContext.getImageData(offset.x, offset.y,\n\t\t\t\t\t\tsrcCanvas.width, srcCanvas.height),\n\t\t\t\t\tdst = dstData.data,\n\t\t\t\t\tsrc = srcContext.getImageData(0, 0,\n\t\t\t\t\t\tsrcCanvas.width, srcCanvas.height).data;\n\t\t\t\tfor (var i = 0, l = dst.length; i < l; i += 4) {\n\t\t\t\t\tsr = src[i];\n\t\t\t\t\tbr = dst[i];\n\t\t\t\t\tsg = src[i + 1];\n\t\t\t\t\tbg = dst[i + 1];\n\t\t\t\t\tsb = src[i + 2];\n\t\t\t\t\tbb = dst[i + 2];\n\t\t\t\t\tsa = src[i + 3];\n\t\t\t\t\tba = dst[i + 3];\n\t\t\t\t\tprocess();\n\t\t\t\t\tvar a1 = sa * alpha / 255,\n\t\t\t\t\t\ta2 = 1 - a1;\n\t\t\t\t\tdst[i] = a1 * dr + a2 * br;\n\t\t\t\t\tdst[i + 1] = a1 * dg + a2 * bg;\n\t\t\t\t\tdst[i + 2] = a1 * db + a2 * bb;\n\t\t\t\t\tdst[i + 3] = sa * alpha + a2 * ba;\n\t\t\t\t}\n\t\t\t\tdstContext.putImageData(dstData, offset.x, offset.y);\n\t\t\t}\n\t\t};\n\t};\n\t\n\tvar SvgElement = new function() {\n\t\tvar svg = 'http://www.w3.org/2000/svg',\n\t\t\txmlns = 'http://www.w3.org/2000/xmlns',\n\t\t\txlink = 'http://www.w3.org/1999/xlink',\n\t\t\tattributeNamespace = {\n\t\t\t\thref: xlink,\n\t\t\t\txlink: xmlns,\n\t\t\t\txmlns: xmlns + '/',\n\t\t\t\t'xmlns:xlink': xmlns + '/'\n\t\t\t};\n\t\n\t\tfunction create(tag, attributes, formatter) {\n\t\t\treturn set(document.createElementNS(svg, tag), attributes, formatter);\n\t\t}\n\t\n\t\tfunction get(node, name) {\n\t\t\tvar namespace = attributeNamespace[name],\n\t\t\t\tvalue = namespace\n\t\t\t\t\t? node.getAttributeNS(namespace, name)\n\t\t\t\t\t: node.getAttribute(name);\n\t\t\treturn value === 'null' ? null : value;\n\t\t}\n\t\n\t\tfunction set(node, attributes, formatter) {\n\t\t\tfor (var name in attributes) {\n\t\t\t\tvar value = attributes[name],\n\t\t\t\t\tnamespace = attributeNamespace[name];\n\t\t\t\tif (typeof value === 'number' && formatter)\n\t\t\t\t\tvalue = formatter.number(value);\n\t\t\t\tif (namespace) {\n\t\t\t\t\tnode.setAttributeNS(namespace, name, value);\n\t\t\t\t} else {\n\t\t\t\t\tnode.setAttribute(name, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn node;\n\t\t}\n\t\n\t\treturn {\n\t\t\tsvg: svg,\n\t\t\txmlns: xmlns,\n\t\t\txlink: xlink,\n\t\n\t\t\tcreate: create,\n\t\t\tget: get,\n\t\t\tset: set\n\t\t};\n\t};\n\t\n\tvar SvgStyles = Base.each({\n\t\tfillColor: ['fill', 'color'],\n\t\tfillRule: ['fill-rule', 'string'],\n\t\tstrokeColor: ['stroke', 'color'],\n\t\tstrokeWidth: ['stroke-width', 'number'],\n\t\tstrokeCap: ['stroke-linecap', 'string'],\n\t\tstrokeJoin: ['stroke-linejoin', 'string'],\n\t\tstrokeScaling: ['vector-effect', 'lookup', {\n\t\t\ttrue: 'none',\n\t\t\tfalse: 'non-scaling-stroke'\n\t\t}, function(item, value) {\n\t\t\treturn !value\n\t\t\t\t\t&& (item instanceof PathItem\n\t\t\t\t\t\t|| item instanceof Shape\n\t\t\t\t\t\t|| item instanceof TextItem);\n\t\t}],\n\t\tmiterLimit: ['stroke-miterlimit', 'number'],\n\t\tdashArray: ['stroke-dasharray', 'array'],\n\t\tdashOffset: ['stroke-dashoffset', 'number'],\n\t\tfontFamily: ['font-family', 'string'],\n\t\tfontWeight: ['font-weight', 'string'],\n\t\tfontSize: ['font-size', 'number'],\n\t\tjustification: ['text-anchor', 'lookup', {\n\t\t\tleft: 'start',\n\t\t\tcenter: 'middle',\n\t\t\tright: 'end'\n\t\t}],\n\t\topacity: ['opacity', 'number'],\n\t\tblendMode: ['mix-blend-mode', 'style']\n\t}, function(entry, key) {\n\t\tvar part = Base.capitalize(key),\n\t\t\tlookup = entry[2];\n\t\tthis[key] = {\n\t\t\ttype: entry[1],\n\t\t\tproperty: key,\n\t\t\tattribute: entry[0],\n\t\t\ttoSVG: lookup,\n\t\t\tfromSVG: lookup && Base.each(lookup, function(value, name) {\n\t\t\t\tthis[value] = name;\n\t\t\t}, {}),\n\t\t\texportFilter: entry[3],\n\t\t\tget: 'get' + part,\n\t\t\tset: 'set' + part\n\t\t};\n\t}, {});\n\t\n\tnew function() {\n\t\tvar formatter;\n\t\n\t\tfunction getTransform(matrix, coordinates, center) {\n\t\t\tvar attrs = new Base(),\n\t\t\t\ttrans = matrix.getTranslation();\n\t\t\tif (coordinates) {\n\t\t\t\tmatrix = matrix._shiftless();\n\t\t\t\tvar point = matrix._inverseTransform(trans);\n\t\t\t\tattrs[center ? 'cx' : 'x'] = point.x;\n\t\t\t\tattrs[center ? 'cy' : 'y'] = point.y;\n\t\t\t\ttrans = null;\n\t\t\t}\n\t\t\tif (!matrix.isIdentity()) {\n\t\t\t\tvar decomposed = matrix.decompose();\n\t\t\t\tif (decomposed) {\n\t\t\t\t\tvar parts = [],\n\t\t\t\t\t\tangle = decomposed.rotation,\n\t\t\t\t\t\tscale = decomposed.scaling,\n\t\t\t\t\t\tskew = decomposed.skewing;\n\t\t\t\t\tif (trans && !trans.isZero())\n\t\t\t\t\t\tparts.push('translate(' + formatter.point(trans) + ')');\n\t\t\t\t\tif (angle)\n\t\t\t\t\t\tparts.push('rotate(' + formatter.number(angle) + ')');\n\t\t\t\t\tif (!Numerical.isZero(scale.x - 1)\n\t\t\t\t\t\t\t|| !Numerical.isZero(scale.y - 1))\n\t\t\t\t\t\tparts.push('scale(' + formatter.point(scale) +')');\n\t\t\t\t\tif (skew.x)\n\t\t\t\t\t\tparts.push('skewX(' + formatter.number(skew.x) + ')');\n\t\t\t\t\tif (skew.y)\n\t\t\t\t\t\tparts.push('skewY(' + formatter.number(skew.y) + ')');\n\t\t\t\t\tattrs.transform = parts.join(' ');\n\t\t\t\t} else {\n\t\t\t\t\tattrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn attrs;\n\t\t}\n\t\n\t\tfunction exportGroup(item, options) {\n\t\t\tvar attrs = getTransform(item._matrix),\n\t\t\t\tchildren = item._children;\n\t\t\tvar node = SvgElement.create('g', attrs, formatter);\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar childNode = exportSVG(child, options);\n\t\t\t\tif (childNode) {\n\t\t\t\t\tif (child.isClipMask()) {\n\t\t\t\t\t\tvar clip = SvgElement.create('clipPath');\n\t\t\t\t\t\tclip.appendChild(childNode);\n\t\t\t\t\t\tsetDefinition(child, clip, 'clip');\n\t\t\t\t\t\tSvgElement.set(node, {\n\t\t\t\t\t\t\t'clip-path': 'url(#' + clip.id + ')'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode.appendChild(childNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn node;\n\t\t}\n\t\n\t\tfunction exportRaster(item, options) {\n\t\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\t\tsize = item.getSize(),\n\t\t\t\timage = item.getImage();\n\t\t\tattrs.x -= size.width / 2;\n\t\t\tattrs.y -= size.height / 2;\n\t\t\tattrs.width = size.width;\n\t\t\tattrs.height = size.height;\n\t\t\tattrs.href = options.embedImages == false && image && image.src\n\t\t\t\t\t|| item.toDataURL();\n\t\t\treturn SvgElement.create('image', attrs, formatter);\n\t\t}\n\t\n\t\tfunction exportPath(item, options) {\n\t\t\tvar matchShapes = options.matchShapes;\n\t\t\tif (matchShapes) {\n\t\t\t\tvar shape = item.toShape(false);\n\t\t\t\tif (shape)\n\t\t\t\t\treturn exportShape(shape, options);\n\t\t\t}\n\t\t\tvar segments = item._segments,\n\t\t\t\tlength = segments.length,\n\t\t\t\ttype,\n\t\t\t\tattrs = getTransform(item._matrix);\n\t\t\tif (matchShapes && length >= 2 && !item.hasHandles()) {\n\t\t\t\tif (length > 2) {\n\t\t\t\t\ttype = item._closed ? 'polygon' : 'polyline';\n\t\t\t\t\tvar parts = [];\n\t\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\t\tparts.push(formatter.point(segments[i]._point));\n\t\t\t\t\t}\n\t\t\t\t\tattrs.points = parts.join(' ');\n\t\t\t\t} else {\n\t\t\t\t\ttype = 'line';\n\t\t\t\t\tvar start = segments[0]._point,\n\t\t\t\t\t\tend = segments[1]._point;\n\t\t\t\t\tattrs.set({\n\t\t\t\t\t\tx1: start.x,\n\t\t\t\t\t\ty1: start.y,\n\t\t\t\t\t\tx2: end.x,\n\t\t\t\t\t\ty2: end.y\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttype = 'path';\n\t\t\t\tattrs.d = item.getPathData(null, options.precision);\n\t\t\t}\n\t\t\treturn SvgElement.create(type, attrs, formatter);\n\t\t}\n\t\n\t\tfunction exportShape(item) {\n\t\t\tvar type = item._type,\n\t\t\t\tradius = item._radius,\n\t\t\t\tattrs = getTransform(item._matrix, true, type !== 'rectangle');\n\t\t\tif (type === 'rectangle') {\n\t\t\t\ttype = 'rect';\n\t\t\t\tvar size = item._size,\n\t\t\t\t\twidth = size.width,\n\t\t\t\t\theight = size.height;\n\t\t\t\tattrs.x -= width / 2;\n\t\t\t\tattrs.y -= height / 2;\n\t\t\t\tattrs.width = width;\n\t\t\t\tattrs.height = height;\n\t\t\t\tif (radius.isZero())\n\t\t\t\t\tradius = null;\n\t\t\t}\n\t\t\tif (radius) {\n\t\t\t\tif (type === 'circle') {\n\t\t\t\t\tattrs.r = radius;\n\t\t\t\t} else {\n\t\t\t\t\tattrs.rx = radius.width;\n\t\t\t\t\tattrs.ry = radius.height;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn SvgElement.create(type, attrs, formatter);\n\t\t}\n\t\n\t\tfunction exportCompoundPath(item, options) {\n\t\t\tvar attrs = getTransform(item._matrix);\n\t\t\tvar data = item.getPathData(null, options.precision);\n\t\t\tif (data)\n\t\t\t\tattrs.d = data;\n\t\t\treturn SvgElement.create('path', attrs, formatter);\n\t\t}\n\t\n\t\tfunction exportSymbolItem(item, options) {\n\t\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\t\tdefinition = item._definition,\n\t\t\t\tnode = getDefinition(definition, 'symbol'),\n\t\t\t\tdefinitionItem = definition._item,\n\t\t\t\tbounds = definitionItem.getBounds();\n\t\t\tif (!node) {\n\t\t\t\tnode = SvgElement.create('symbol', {\n\t\t\t\t\tviewBox: formatter.rectangle(bounds)\n\t\t\t\t});\n\t\t\t\tnode.appendChild(exportSVG(definitionItem, options));\n\t\t\t\tsetDefinition(definition, node, 'symbol');\n\t\t\t}\n\t\t\tattrs.href = '#' + node.id;\n\t\t\tattrs.x += bounds.x;\n\t\t\tattrs.y += bounds.y;\n\t\t\tattrs.width = bounds.width;\n\t\t\tattrs.height = bounds.height;\n\t\t\tattrs.overflow = 'visible';\n\t\t\treturn SvgElement.create('use', attrs, formatter);\n\t\t}\n\t\n\t\tfunction exportGradient(color) {\n\t\t\tvar gradientNode = getDefinition(color, 'color');\n\t\t\tif (!gradientNode) {\n\t\t\t\tvar gradient = color.getGradient(),\n\t\t\t\t\tradial = gradient._radial,\n\t\t\t\t\torigin = color.getOrigin(),\n\t\t\t\t\tdestination = color.getDestination(),\n\t\t\t\t\tattrs;\n\t\t\t\tif (radial) {\n\t\t\t\t\tattrs = {\n\t\t\t\t\t\tcx: origin.x,\n\t\t\t\t\t\tcy: origin.y,\n\t\t\t\t\t\tr: origin.getDistance(destination)\n\t\t\t\t\t};\n\t\t\t\t\tvar highlight = color.getHighlight();\n\t\t\t\t\tif (highlight) {\n\t\t\t\t\t\tattrs.fx = highlight.x;\n\t\t\t\t\t\tattrs.fy = highlight.y;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tattrs = {\n\t\t\t\t\t\tx1: origin.x,\n\t\t\t\t\t\ty1: origin.y,\n\t\t\t\t\t\tx2: destination.x,\n\t\t\t\t\t\ty2: destination.y\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tattrs.gradientUnits = 'userSpaceOnUse';\n\t\t\t\tgradientNode = SvgElement.create((radial ? 'radial' : 'linear')\n\t\t\t\t\t\t+ 'Gradient', attrs, formatter);\n\t\t\t\tvar stops = gradient._stops;\n\t\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\t\tvar stop = stops[i],\n\t\t\t\t\t\tstopColor = stop._color,\n\t\t\t\t\t\talpha = stopColor.getAlpha(),\n\t\t\t\t\t\toffset = stop._offset;\n\t\t\t\t\tattrs = {\n\t\t\t\t\t\toffset: offset == null ? i / (l - 1) : offset\n\t\t\t\t\t};\n\t\t\t\t\tif (stopColor)\n\t\t\t\t\t\tattrs['stop-color'] = stopColor.toCSS(true);\n\t\t\t\t\tif (alpha < 1)\n\t\t\t\t\t\tattrs['stop-opacity'] = alpha;\n\t\t\t\t\tgradientNode.appendChild(\n\t\t\t\t\t\t\tSvgElement.create('stop', attrs, formatter));\n\t\t\t\t}\n\t\t\t\tsetDefinition(color, gradientNode, 'color');\n\t\t\t}\n\t\t\treturn 'url(#' + gradientNode.id + ')';\n\t\t}\n\t\n\t\tfunction exportText(item) {\n\t\t\tvar node = SvgElement.create('text', getTransform(item._matrix, true),\n\t\t\t\t\tformatter);\n\t\t\tnode.textContent = item._content;\n\t\t\treturn node;\n\t\t}\n\t\n\t\tvar exporters = {\n\t\t\tGroup: exportGroup,\n\t\t\tLayer: exportGroup,\n\t\t\tRaster: exportRaster,\n\t\t\tPath: exportPath,\n\t\t\tShape: exportShape,\n\t\t\tCompoundPath: exportCompoundPath,\n\t\t\tSymbolItem: exportSymbolItem,\n\t\t\tPointText: exportText\n\t\t};\n\t\n\t\tfunction applyStyle(item, node, isRoot) {\n\t\t\tvar attrs = {},\n\t\t\t\tparent = !isRoot && item.getParent(),\n\t\t\t\tstyle = [];\n\t\n\t\t\tif (item._name != null)\n\t\t\t\tattrs.id = item._name;\n\t\n\t\t\tBase.each(SvgStyles, function(entry) {\n\t\t\t\tvar get = entry.get,\n\t\t\t\t\ttype = entry.type,\n\t\t\t\t\tvalue = item[get]();\n\t\t\t\tif (entry.exportFilter\n\t\t\t\t\t\t? entry.exportFilter(item, value)\n\t\t\t\t\t\t: !parent || !Base.equals(parent[get](), value)) {\n\t\t\t\t\tif (type === 'color' && value != null) {\n\t\t\t\t\t\tvar alpha = value.getAlpha();\n\t\t\t\t\t\tif (alpha < 1)\n\t\t\t\t\t\t\tattrs[entry.attribute + '-opacity'] = alpha;\n\t\t\t\t\t}\n\t\t\t\t\tif (type === 'style') {\n\t\t\t\t\t\tstyle.push(entry.attribute + ': ' + value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tattrs[entry.attribute] = value == null ? 'none'\n\t\t\t\t\t\t\t\t: type === 'color' ? value.gradient\n\t\t\t\t\t\t\t\t\t? exportGradient(value, item)\n\t\t\t\t\t\t\t\t\t: value.toCSS(true)\n\t\t\t\t\t\t\t\t: type === 'array' ? value.join(',')\n\t\t\t\t\t\t\t\t: type === 'lookup' ? entry.toSVG[value]\n\t\t\t\t\t\t\t\t: value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\tif (style.length)\n\t\t\t\tattrs.style = style.join(';');\n\t\n\t\t\tif (attrs.opacity === 1)\n\t\t\t\tdelete attrs.opacity;\n\t\n\t\t\tif (!item._visible)\n\t\t\t\tattrs.visibility = 'hidden';\n\t\n\t\t\treturn SvgElement.set(node, attrs, formatter);\n\t\t}\n\t\n\t\tvar definitions;\n\t\tfunction getDefinition(item, type) {\n\t\t\tif (!definitions)\n\t\t\t\tdefinitions = { ids: {}, svgs: {} };\n\t\t\treturn item && definitions.svgs[type + '-'\n\t\t\t\t\t+ (item._id || item.__id || (item.__id = UID.get('svg')))];\n\t\t}\n\t\n\t\tfunction setDefinition(item, node, type) {\n\t\t\tif (!definitions)\n\t\t\t\tgetDefinition();\n\t\t\tvar typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n\t\t\tnode.id = type + '-' + typeId;\n\t\t\tdefinitions.svgs[type + '-' + (item._id || item.__id)] = node;\n\t\t}\n\t\n\t\tfunction exportDefinitions(node, options) {\n\t\t\tvar svg = node,\n\t\t\t\tdefs = null;\n\t\t\tif (definitions) {\n\t\t\t\tsvg = node.nodeName.toLowerCase() === 'svg' && node;\n\t\t\t\tfor (var i in definitions.svgs) {\n\t\t\t\t\tif (!defs) {\n\t\t\t\t\t\tif (!svg) {\n\t\t\t\t\t\t\tsvg = SvgElement.create('svg');\n\t\t\t\t\t\t\tsvg.appendChild(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdefs = svg.insertBefore(SvgElement.create('defs'),\n\t\t\t\t\t\t\t\tsvg.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tdefs.appendChild(definitions.svgs[i]);\n\t\t\t\t}\n\t\t\t\tdefinitions = null;\n\t\t\t}\n\t\t\treturn options.asString\n\t\t\t\t\t? new self.XMLSerializer().serializeToString(svg)\n\t\t\t\t\t: svg;\n\t\t}\n\t\n\t\tfunction exportSVG(item, options, isRoot) {\n\t\t\tvar exporter = exporters[item._class],\n\t\t\t\tnode = exporter && exporter(item, options);\n\t\t\tif (node) {\n\t\t\t\tvar onExport = options.onExport;\n\t\t\t\tif (onExport)\n\t\t\t\t\tnode = onExport(item, node, options) || node;\n\t\t\t\tvar data = JSON.stringify(item._data);\n\t\t\t\tif (data && data !== '{}' && data !== 'null')\n\t\t\t\t\tnode.setAttribute('data-paper-data', data);\n\t\t\t}\n\t\t\treturn node && applyStyle(item, node, isRoot);\n\t\t}\n\t\n\t\tfunction setOptions(options) {\n\t\t\tif (!options)\n\t\t\t\toptions = {};\n\t\t\tformatter = new Formatter(options.precision);\n\t\t\treturn options;\n\t\t}\n\t\n\t\tItem.inject({\n\t\t\texportSVG: function(options) {\n\t\t\t\toptions = setOptions(options);\n\t\t\t\treturn exportDefinitions(exportSVG(this, options, true), options);\n\t\t\t}\n\t\t});\n\t\n\t\tProject.inject({\n\t\t\texportSVG: function(options) {\n\t\t\t\toptions = setOptions(options);\n\t\t\t\tvar children = this._children,\n\t\t\t\t\tview = this.getView(),\n\t\t\t\t\tbounds = Base.pick(options.bounds, 'view'),\n\t\t\t\t\tmx = options.matrix || bounds === 'view' && view._matrix,\n\t\t\t\t\tmatrix = mx && Matrix.read([mx]),\n\t\t\t\t\trect = bounds === 'view'\n\t\t\t\t\t\t? new Rectangle([0, 0], view.getViewSize())\n\t\t\t\t\t\t: bounds === 'content'\n\t\t\t\t\t\t\t? Item._getBounds(children, matrix, { stroke: true })\n\t\t\t\t\t\t\t\t.rect\n\t\t\t\t\t\t\t: Rectangle.read([bounds], 0, { readNull: true }),\n\t\t\t\t\tattrs = {\n\t\t\t\t\t\tversion: '1.1',\n\t\t\t\t\t\txmlns: SvgElement.svg,\n\t\t\t\t\t\t'xmlns:xlink': SvgElement.xlink,\n\t\t\t\t\t};\n\t\t\t\tif (rect) {\n\t\t\t\t\tattrs.width = rect.width;\n\t\t\t\t\tattrs.height = rect.height;\n\t\t\t\t\tif (rect.x || rect.y)\n\t\t\t\t\t\tattrs.viewBox = formatter.rectangle(rect);\n\t\t\t\t}\n\t\t\t\tvar node = SvgElement.create('svg', attrs, formatter),\n\t\t\t\t\tparent = node;\n\t\t\t\tif (matrix && !matrix.isIdentity()) {\n\t\t\t\t\tparent = node.appendChild(SvgElement.create('g',\n\t\t\t\t\t\t\tgetTransform(matrix), formatter));\n\t\t\t\t}\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tparent.appendChild(exportSVG(children[i], options, true));\n\t\t\t\t}\n\t\t\t\treturn exportDefinitions(node, options);\n\t\t\t}\n\t\t});\n\t};\n\t\n\tnew function() {\n\t\n\t\tvar definitions = {},\n\t\t\trootSize;\n\t\n\t\tfunction getValue(node, name, isString, allowNull, allowPercent) {\n\t\t\tvar value = SvgElement.get(node, name),\n\t\t\t\tres = value == null\n\t\t\t\t\t? allowNull\n\t\t\t\t\t\t? null\n\t\t\t\t\t\t: isString ? '' : 0\n\t\t\t\t\t: isString\n\t\t\t\t\t\t? value\n\t\t\t\t\t\t: parseFloat(value);\n\t\t\treturn /%\\s*$/.test(value)\n\t\t\t\t? (res / 100) * (allowPercent ? 1\n\t\t\t\t\t: rootSize[/x|^width/.test(name) ? 'width' : 'height'])\n\t\t\t\t: res;\n\t\t}\n\t\n\t\tfunction getPoint(node, x, y, allowNull, allowPercent) {\n\t\t\tx = getValue(node, x || 'x', false, allowNull, allowPercent);\n\t\t\ty = getValue(node, y || 'y', false, allowNull, allowPercent);\n\t\t\treturn allowNull && (x == null || y == null) ? null\n\t\t\t\t\t: new Point(x, y);\n\t\t}\n\t\n\t\tfunction getSize(node, w, h, allowNull, allowPercent) {\n\t\t\tw = getValue(node, w || 'width', false, allowNull, allowPercent);\n\t\t\th = getValue(node, h || 'height', false, allowNull, allowPercent);\n\t\t\treturn allowNull && (w == null || h == null) ? null\n\t\t\t\t\t: new Size(w, h);\n\t\t}\n\t\n\t\tfunction convertValue(value, type, lookup) {\n\t\t\treturn value === 'none' ? null\n\t\t\t\t\t: type === 'number' ? parseFloat(value)\n\t\t\t\t\t: type === 'array' ?\n\t\t\t\t\t\tvalue ? value.split(/[\\s,]+/g).map(parseFloat) : []\n\t\t\t\t\t: type === 'color' ? getDefinition(value) || value\n\t\t\t\t\t: type === 'lookup' ? lookup[value]\n\t\t\t\t\t: value;\n\t\t}\n\t\n\t\tfunction importGroup(node, type, options, isRoot) {\n\t\t\tvar nodes = node.childNodes,\n\t\t\t\tisClip = type === 'clippath',\n\t\t\t\tisDefs = type === 'defs',\n\t\t\t\titem = new Group(),\n\t\t\t\tproject = item._project,\n\t\t\t\tcurrentStyle = project._currentStyle,\n\t\t\t\tchildren = [];\n\t\t\tif (!isClip && !isDefs) {\n\t\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\t\tproject._currentStyle = item._style.clone();\n\t\t\t}\n\t\t\tif (isRoot) {\n\t\t\t\tvar defs = node.querySelectorAll('defs');\n\t\t\t\tfor (var i = 0, l = defs.length; i < l; i++) {\n\t\t\t\t\timportNode(defs[i], options, false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar childNode = nodes[i],\n\t\t\t\t\tchild;\n\t\t\t\tif (childNode.nodeType === 1\n\t\t\t\t\t\t&& !/^defs$/i.test(childNode.nodeName)\n\t\t\t\t\t\t&& (child = importNode(childNode, options, false))\n\t\t\t\t\t\t&& !(child instanceof SymbolDefinition))\n\t\t\t\t\tchildren.push(child);\n\t\t\t}\n\t\t\titem.addChildren(children);\n\t\t\tif (isClip)\n\t\t\t\titem = applyAttributes(item.reduce(), node, isRoot);\n\t\t\tproject._currentStyle = currentStyle;\n\t\t\tif (isClip || isDefs) {\n\t\t\t\titem.remove();\n\t\t\t\titem = null;\n\t\t\t}\n\t\t\treturn item;\n\t\t}\n\t\n\t\tfunction importPoly(node, type) {\n\t\t\tvar coords = node.getAttribute('points').match(\n\t\t\t\t\t\t/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n\t\t\t\tpoints = [];\n\t\t\tfor (var i = 0, l = coords.length; i < l; i += 2)\n\t\t\t\tpoints.push(new Point(\n\t\t\t\t\t\tparseFloat(coords[i]),\n\t\t\t\t\t\tparseFloat(coords[i + 1])));\n\t\t\tvar path = new Path(points);\n\t\t\tif (type === 'polygon')\n\t\t\t\tpath.closePath();\n\t\t\treturn path;\n\t\t}\n\t\n\t\tfunction importPath(node) {\n\t\t\treturn PathItem.create(node.getAttribute('d'));\n\t\t}\n\t\n\t\tfunction importGradient(node, type) {\n\t\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\t\tradial = type === 'radialgradient',\n\t\t\t\tgradient;\n\t\t\tif (id) {\n\t\t\t\tgradient = definitions[id].getGradient();\n\t\t\t\tif (gradient._radial ^ radial) {\n\t\t\t\t\tgradient = gradient.clone();\n\t\t\t\t\tgradient._radial = radial;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar nodes = node.childNodes,\n\t\t\t\t\tstops = [];\n\t\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\t\tvar child = nodes[i];\n\t\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\t\tstops.push(applyAttributes(new GradientStop(), child));\n\t\t\t\t}\n\t\t\t\tgradient = new Gradient(stops, radial);\n\t\t\t}\n\t\t\tvar origin, destination, highlight,\n\t\t\t\tscaleToBounds = getValue(node, 'gradientUnits', true) !==\n\t\t\t\t\t'userSpaceOnUse';\n\t\t\tif (radial) {\n\t\t\t\torigin = getPoint(node, 'cx', 'cy', false, scaleToBounds);\n\t\t\t\tdestination = origin.add(\n\t\t\t\t\t\tgetValue(node, 'r', false, false, scaleToBounds), 0);\n\t\t\t\thighlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n\t\t\t} else {\n\t\t\t\torigin = getPoint(node, 'x1', 'y1', false, scaleToBounds);\n\t\t\t\tdestination = getPoint(node, 'x2', 'y2', false, scaleToBounds);\n\t\t\t}\n\t\t\tvar color = applyAttributes(\n\t\t\t\t\tnew Color(gradient, origin, destination, highlight), node);\n\t\t\tcolor._scaleToBounds = scaleToBounds;\n\t\t\treturn null;\n\t\t}\n\t\n\t\tvar importers = {\n\t\t\t'#document': function (node, type, options, isRoot) {\n\t\t\t\tvar nodes = node.childNodes;\n\t\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\t\tvar child = nodes[i];\n\t\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\t\treturn importNode(child, options, isRoot);\n\t\t\t\t}\n\t\t\t},\n\t\t\tg: importGroup,\n\t\t\tsvg: importGroup,\n\t\t\tclippath: importGroup,\n\t\t\tpolygon: importPoly,\n\t\t\tpolyline: importPoly,\n\t\t\tpath: importPath,\n\t\t\tlineargradient: importGradient,\n\t\t\tradialgradient: importGradient,\n\t\n\t\t\timage: function (node) {\n\t\t\t\tvar raster = new Raster(getValue(node, 'href', true));\n\t\t\t\traster.on('load', function() {\n\t\t\t\t\tvar size = getSize(node);\n\t\t\t\t\tthis.setSize(size);\n\t\t\t\t\tvar center = this._matrix._transformPoint(\n\t\t\t\t\t\t\tgetPoint(node).add(size.divide(2)));\n\t\t\t\t\tthis.translate(center);\n\t\t\t\t});\n\t\t\t\treturn raster;\n\t\t\t},\n\t\n\t\t\tsymbol: function(node, type, options, isRoot) {\n\t\t\t\treturn new SymbolDefinition(\n\t\t\t\t\t\timportGroup(node, type, options, isRoot), true);\n\t\t\t},\n\t\n\t\t\tdefs: importGroup,\n\t\n\t\t\tuse: function(node) {\n\t\t\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\t\t\tdefinition = definitions[id],\n\t\t\t\t\tpoint = getPoint(node);\n\t\t\t\treturn definition\n\t\t\t\t\t\t? definition instanceof SymbolDefinition\n\t\t\t\t\t\t\t? definition.place(point)\n\t\t\t\t\t\t\t: definition.clone().translate(point)\n\t\t\t\t\t\t: null;\n\t\t\t},\n\t\n\t\t\tcircle: function(node) {\n\t\t\t\treturn new Shape.Circle(\n\t\t\t\t\t\tgetPoint(node, 'cx', 'cy'),\n\t\t\t\t\t\tgetValue(node, 'r'));\n\t\t\t},\n\t\n\t\t\tellipse: function(node) {\n\t\t\t\treturn new Shape.Ellipse({\n\t\t\t\t\tcenter: getPoint(node, 'cx', 'cy'),\n\t\t\t\t\tradius: getSize(node, 'rx', 'ry')\n\t\t\t\t});\n\t\t\t},\n\t\n\t\t\trect: function(node) {\n\t\t\t\treturn new Shape.Rectangle(new Rectangle(\n\t\t\t\t\t\t\tgetPoint(node),\n\t\t\t\t\t\t\tgetSize(node)\n\t\t\t\t\t\t), getSize(node, 'rx', 'ry'));\n\t\t\t\t},\n\t\n\t\t\tline: function(node) {\n\t\t\t\treturn new Path.Line(\n\t\t\t\t\t\tgetPoint(node, 'x1', 'y1'),\n\t\t\t\t\t\tgetPoint(node, 'x2', 'y2'));\n\t\t\t},\n\t\n\t\t\ttext: function(node) {\n\t\t\t\tvar text = new PointText(getPoint(node).add(\n\t\t\t\t\t\tgetPoint(node, 'dx', 'dy')));\n\t\t\t\ttext.setContent(node.textContent.trim() || '');\n\t\t\t\treturn text;\n\t\t\t}\n\t\t};\n\t\n\t\tfunction applyTransform(item, value, name, node) {\n\t\t\tif (item.transform) {\n\t\t\t\tvar transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n\t\t\t\t\tmatrix = new Matrix();\n\t\t\t\tfor (var i = 0, l = transforms.length; i < l; i++) {\n\t\t\t\t\tvar transform = transforms[i];\n\t\t\t\t\tif (!transform)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tvar parts = transform.split(/\\(\\s*/),\n\t\t\t\t\t\tcommand = parts[0],\n\t\t\t\t\t\tv = parts[1].split(/[\\s,]+/g);\n\t\t\t\t\tfor (var j = 0, m = v.length; j < m; j++)\n\t\t\t\t\t\tv[j] = parseFloat(v[j]);\n\t\t\t\t\tswitch (command) {\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\tmatrix.append(\n\t\t\t\t\t\t\t\tnew Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tmatrix.rotate(v[0], v[1], v[2]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\tmatrix.translate(v[0], v[1]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\tmatrix.scale(v);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'skewX':\n\t\t\t\t\t\tmatrix.skew(v[0], 0);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'skewY':\n\t\t\t\t\t\tmatrix.skew(0, v[0]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\titem.transform(matrix);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction applyOpacity(item, value, name) {\n\t\t\tvar key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n\t\t\t\tcolor = item[key] && item[key]();\n\t\t\tif (color)\n\t\t\t\tcolor.setAlpha(parseFloat(value));\n\t\t}\n\t\n\t\tvar attributes = Base.set(Base.each(SvgStyles, function(entry) {\n\t\t\tthis[entry.attribute] = function(item, value) {\n\t\t\t\tif (item[entry.set]) {\n\t\t\t\t\titem[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\t\t\t\t\tif (entry.type === 'color') {\n\t\t\t\t\t\tvar color = item[entry.get]();\n\t\t\t\t\t\tif (color) {\n\t\t\t\t\t\t\tif (color._scaleToBounds) {\n\t\t\t\t\t\t\t\tvar bounds = item.getBounds();\n\t\t\t\t\t\t\t\tcolor.transform(new Matrix()\n\t\t\t\t\t\t\t\t\t.translate(bounds.getPoint())\n\t\t\t\t\t\t\t\t\t.scale(bounds.getSize()));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}, {}), {\n\t\t\tid: function(item, value) {\n\t\t\t\tdefinitions[value] = item;\n\t\t\t\tif (item.setName)\n\t\t\t\t\titem.setName(value);\n\t\t\t},\n\t\n\t\t\t'clip-path': function(item, value) {\n\t\t\t\tvar clip = getDefinition(value);\n\t\t\t\tif (clip) {\n\t\t\t\t\tclip = clip.clone();\n\t\t\t\t\tclip.setClipMask(true);\n\t\t\t\t\tif (item instanceof Group) {\n\t\t\t\t\t\titem.insertChild(0, clip);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn new Group(clip, item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tgradientTransform: applyTransform,\n\t\t\ttransform: applyTransform,\n\t\n\t\t\t'fill-opacity': applyOpacity,\n\t\t\t'stroke-opacity': applyOpacity,\n\t\n\t\t\tvisibility: function(item, value) {\n\t\t\t\tif (item.setVisible)\n\t\t\t\t\titem.setVisible(value === 'visible');\n\t\t\t},\n\t\n\t\t\tdisplay: function(item, value) {\n\t\t\t\tif (item.setVisible)\n\t\t\t\t\titem.setVisible(value !== null);\n\t\t\t},\n\t\n\t\t\t'stop-color': function(item, value) {\n\t\t\t\tif (item.setColor)\n\t\t\t\t\titem.setColor(value);\n\t\t\t},\n\t\n\t\t\t'stop-opacity': function(item, value) {\n\t\t\t\tif (item._color)\n\t\t\t\t\titem._color.setAlpha(parseFloat(value));\n\t\t\t},\n\t\n\t\t\toffset: function(item, value) {\n\t\t\t\tif (item.setOffset) {\n\t\t\t\t\tvar percent = value.match(/(.*)%$/);\n\t\t\t\t\titem.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tviewBox: function(item, value, name, node, styles) {\n\t\t\t\tvar rect = new Rectangle(convertValue(value, 'array')),\n\t\t\t\t\tsize = getSize(node, null, null, true),\n\t\t\t\t\tgroup,\n\t\t\t\t\tmatrix;\n\t\t\t\tif (item instanceof Group) {\n\t\t\t\t\tvar scale = size ? size.divide(rect.getSize()) : 1,\n\t\t\t\t\tmatrix = new Matrix().scale(scale)\n\t\t\t\t\t\t\t.translate(rect.getPoint().negate());\n\t\t\t\t\tgroup = item;\n\t\t\t\t} else if (item instanceof SymbolDefinition) {\n\t\t\t\t\tif (size)\n\t\t\t\t\t\trect.setSize(size);\n\t\t\t\t\tgroup = item._item;\n\t\t\t\t}\n\t\t\t\tif (group)  {\n\t\t\t\t\tif (getAttribute(node, 'overflow', styles) !== 'visible') {\n\t\t\t\t\t\tvar clip = new Shape.Rectangle(rect);\n\t\t\t\t\t\tclip.setClipMask(true);\n\t\t\t\t\t\tgroup.addChild(clip);\n\t\t\t\t\t}\n\t\t\t\t\tif (matrix)\n\t\t\t\t\t\tgroup.transform(matrix);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\tfunction getAttribute(node, name, styles) {\n\t\t\tvar attr = node.attributes[name],\n\t\t\t\tvalue = attr && attr.value;\n\t\t\tif (!value) {\n\t\t\t\tvar style = Base.camelize(name);\n\t\t\t\tvalue = node.style[style];\n\t\t\t\tif (!value && styles.node[style] !== styles.parent[style])\n\t\t\t\t\tvalue = styles.node[style];\n\t\t\t}\n\t\t\treturn !value ? undefined\n\t\t\t\t\t: value === 'none' ? null\n\t\t\t\t\t: value;\n\t\t}\n\t\n\t\tfunction applyAttributes(item, node, isRoot) {\n\t\t\tif (node.style) {\n\t\t\t\tvar parent = node.parentNode,\n\t\t\t\t\tstyles = {\n\t\t\t\t\t\tnode: DomElement.getStyles(node) || {},\n\t\t\t\t\t\tparent: !isRoot && !/^defs$/i.test(parent.tagName)\n\t\t\t\t\t\t\t\t&& DomElement.getStyles(parent) || {}\n\t\t\t\t\t};\n\t\t\t\tBase.each(attributes, function(apply, name) {\n\t\t\t\t\tvar value = getAttribute(node, name, styles);\n\t\t\t\t\titem = value !== undefined\n\t\t\t\t\t\t\t&& apply(item, value, name, node, styles) || item;\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn item;\n\t\t}\n\t\n\t\tfunction getDefinition(value) {\n\t\t\tvar match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n\t\t\t\tname = match && match[1],\n\t\t\t\tres = name && definitions[window\n\t\t\t\t\t\t? name.replace(window.location.href.split('#')[0] + '#', '')\n\t\t\t\t\t\t: name];\n\t\t\tif (res && res._scaleToBounds) {\n\t\t\t\tres = res.clone();\n\t\t\t\tres._scaleToBounds = true;\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\t\n\t\tfunction importNode(node, options, isRoot) {\n\t\t\tvar type = node.nodeName.toLowerCase(),\n\t\t\t\tisElement = type !== '#document',\n\t\t\t\tbody = document.body,\n\t\t\t\tcontainer,\n\t\t\t\tparent,\n\t\t\t\tnext;\n\t\t\tif (isRoot && isElement) {\n\t\t\t\trootSize = paper.getView().getSize();\n\t\t\t\trootSize = getSize(node, null, null, true) || rootSize;\n\t\t\t\tcontainer = SvgElement.create('svg', {\n\t\t\t\t\tstyle: 'stroke-width: 1px; stroke-miterlimit: 10'\n\t\t\t\t});\n\t\t\t\tparent = node.parentNode;\n\t\t\t\tnext = node.nextSibling;\n\t\t\t\tcontainer.appendChild(node);\n\t\t\t\tbody.appendChild(container);\n\t\t\t}\n\t\t\tvar settings = paper.settings,\n\t\t\t\tapplyMatrix = settings.applyMatrix,\n\t\t\t\tinsertItems = settings.insertItems;\n\t\t\tsettings.applyMatrix = false;\n\t\t\tsettings.insertItems = false;\n\t\t\tvar importer = importers[type],\n\t\t\t\titem = importer && importer(node, type, options, isRoot) || null;\n\t\t\tsettings.insertItems = insertItems;\n\t\t\tsettings.applyMatrix = applyMatrix;\n\t\t\tif (item) {\n\t\t\t\tif (isElement && !(item instanceof Group))\n\t\t\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\t\tvar onImport = options.onImport,\n\t\t\t\t\tdata = isElement && node.getAttribute('data-paper-data');\n\t\t\t\tif (onImport)\n\t\t\t\t\titem = onImport(node, item, options) || item;\n\t\t\t\tif (options.expandShapes && item instanceof Shape) {\n\t\t\t\t\titem.remove();\n\t\t\t\t\titem = item.toPath();\n\t\t\t\t}\n\t\t\t\tif (data)\n\t\t\t\t\titem._data = JSON.parse(data);\n\t\t\t}\n\t\t\tif (container) {\n\t\t\t\tbody.removeChild(container);\n\t\t\t\tif (parent) {\n\t\t\t\t\tif (next) {\n\t\t\t\t\t\tparent.insertBefore(node, next);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparent.appendChild(node);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isRoot) {\n\t\t\t\tdefinitions = {};\n\t\t\t\tif (item && Base.pick(options.applyMatrix, applyMatrix))\n\t\t\t\t\titem.matrix.apply(true, true);\n\t\t\t}\n\t\t\treturn item;\n\t\t}\n\t\n\t\tfunction importSVG(source, options, owner) {\n\t\t\tif (!source)\n\t\t\t\treturn null;\n\t\t\toptions = typeof options === 'function' ? { onLoad: options }\n\t\t\t\t\t: options || {};\n\t\t\tvar scope = paper,\n\t\t\t\titem = null;\n\t\n\t\t\tfunction onLoad(svg) {\n\t\t\t\ttry {\n\t\t\t\t\tvar node = typeof svg === 'object' ? svg : new self.DOMParser()\n\t\t\t\t\t\t\t.parseFromString(svg, 'image/svg+xml');\n\t\t\t\t\tif (!node.nodeName) {\n\t\t\t\t\t\tnode = null;\n\t\t\t\t\t\tthrow new Error('Unsupported SVG source: ' + source);\n\t\t\t\t\t}\n\t\t\t\t\tpaper = scope;\n\t\t\t\t\titem = importNode(node, options, true);\n\t\t\t\t\tif (!options || options.insert !== false) {\n\t\t\t\t\t\towner._insertItem(undefined, item);\n\t\t\t\t\t}\n\t\t\t\t\tvar onLoad = options.onLoad;\n\t\t\t\t\tif (onLoad)\n\t\t\t\t\t\tonLoad(item, svg);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tonError(e);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tfunction onError(message, status) {\n\t\t\t\tvar onError = options.onError;\n\t\t\t\tif (onError) {\n\t\t\t\t\tonError(message, status);\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(message);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (typeof source === 'string' && !/^.*</.test(source)) {\n\t\t\t\tvar node = document.getElementById(source);\n\t\t\t\tif (node) {\n\t\t\t\t\tonLoad(node);\n\t\t\t\t} else {\n\t\t\t\t\tHttp.request({\n\t\t\t\t\t\turl: source,\n\t\t\t\t\t\tasync: true,\n\t\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\t\tonError: onError\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (typeof File !== 'undefined' && source instanceof File) {\n\t\t\t\tvar reader = new FileReader();\n\t\t\t\treader.onload = function() {\n\t\t\t\t\tonLoad(reader.result);\n\t\t\t\t};\n\t\t\t\treader.onerror = function() {\n\t\t\t\t\tonError(reader.error);\n\t\t\t\t};\n\t\t\t\treturn reader.readAsText(source);\n\t\t\t} else {\n\t\t\t\tonLoad(source);\n\t\t\t}\n\t\n\t\t\treturn item;\n\t\t}\n\t\n\t\tItem.inject({\n\t\t\timportSVG: function(node, options) {\n\t\t\t\treturn importSVG(node, options, this);\n\t\t\t}\n\t\t});\n\t\n\t\tProject.inject({\n\t\t\timportSVG: function(node, options) {\n\t\t\t\tthis.activate();\n\t\t\t\treturn importSVG(node, options, this);\n\t\t\t}\n\t\t});\n\t};\n\t\n\tpaper = new (PaperScope.inject(Base.exports, {\n\t\tBase: Base,\n\t\tNumerical: Numerical,\n\t\tKey: Key,\n\t\tDomEvent: DomEvent,\n\t\tDomElement: DomElement,\n\t\tdocument: document,\n\t\twindow: window,\n\t\tSymbol: SymbolDefinition,\n\t\tPlacedSymbol: SymbolItem\n\t}))();\n\t\n\tif (paper.agent.node) {\n\t\t__webpack_require__(6)(paper);\n\t}\n\t\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (paper), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if (typeof module === 'object' && module) {\n\t\tmodule.exports = paper;\n\t}\n\t\n\treturn paper;\n\t}.call(this, typeof self === 'object' ? self : null);\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar opentype = __webpack_require__(2),\n\t\tpaper = __webpack_require__(4),\n\t\tGlyph = __webpack_require__(8),\n\t\tassign = __webpack_require__(10).assign;\n\t\n\tfunction mergeFont(url, name, user, arrayBuffer, merged, cb) {\n\t\tfetch(\n\t\t\t[\n\t\t\t\turl,\n\t\t\t\tencodeURIComponent(name.family),\n\t\t\t\tencodeURIComponent(name.style),\n\t\t\t\tencodeURIComponent(user),\n\t\t\t\tencodeURIComponent(name.template || 'unknown')\n\t\t\t].join('/') +\n\t\t\t(merged ? '/overlap' : ''), {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/otf' },\n\t\t\t\tbody: arrayBuffer\n\t\t})\n\t\t.then(function( response ) {\n\t\t\treturn response.arrayBuffer();\n\t\t})\n\t\t.then(cb);\n\t}\n\t\n\tfunction Font( args ) {\n\t\tpaper.Group.prototype.constructor.apply( this );\n\t\n\t\targs = assign({\n\t\t\tfamilyName: 'Default familyName',\n\t\t\tstyleName: 'Regular',\n\t\t\tascender: 1,\n\t\t\tdescender: -1,\n\t\t\tunitsPerEm: 1024\n\t\t}, args);\n\t\n\t\tthis.fontinfo = this.ot = new opentype.Font( args );\n\t\n\t\tthis.glyphMap = {};\n\t\tthis.charMap = {};\n\t\tthis.altMap = {};\n\t\tthis._subset = false;\n\t\tthis.fontMap = {};\n\t\n\t\tthis.addGlyph(new Glyph({\n\t\t\tname: '.notdef',\n\t\t\tunicode: 0,\n\t\t\tadvanceWidth: 650\n\t\t}));\n\t\n\t\tif ( args && args.glyphs ) {\n\t\t\tthis.addGlyphs( args.glyphs );\n\t\t}\n\t\n\t\tif ( typeof window === 'object' && window.document && !document.fonts ) {\n\t\t\tdocument.head.appendChild(\n\t\t\t\tthis.styleElement = document.createElement('style')\n\t\t\t);\n\t\t\t// let's find the corresponding CSSStyleSheet\n\t\t\t// (would be much easier with Array#find)\n\t\t\tthis.styleSheet = document.styleSheets[\n\t\t\t\t[].map.call(document.styleSheets, function(ss) {\n\t\t\t\t\treturn ss.ownerNode;\n\t\t\t\t}).indexOf(this.styleElement)\n\t\t\t];\n\t\t}\n\t}\n\t\n\tFont.prototype = Object.create(paper.Group.prototype);\n\tFont.prototype.constructor = Font;\n\t\n\t// proxy .glyphs to .children\n\t// TODO: handle unicode updates\n\tObject.defineProperty(\n\t\tFont.prototype,\n\t\t'glyphs',\n\t\tObject.getOwnPropertyDescriptor( paper.Item.prototype, 'children' )\n\t);\n\t\n\t// TODO: proper proxying of ...Glyph[s] methods to ...Child[ren] methods\n\t// see Glyph.js\n\tFont.prototype.addGlyph = function( glyph ) {\n\t\tthis.addChild( glyph );\n\t\tthis.glyphMap[glyph.name] = glyph;\n\t\n\t\tif ( glyph.ot.unicode === undefined ) {\n\t\t\treturn glyph;\n\t\t}\n\t\n\t\t// build the default cmap\n\t\t// if multiple glyphs share the same unicode, use the glyph where unicode\n\t\t// and name are equal\n\t\tif ( !this.charMap[glyph.ot.unicode] || glyph.name.indexOf('alt') === -1) {\n\t\n\t\t\tthis.charMap[glyph.ot.unicode] = glyph;\n\t\t}\n\t\n\t\t// build the alternates map\n\t\tif ( !this.altMap[glyph.ot.unicode] ) {\n\t\t\tthis.altMap[glyph.ot.unicode] = [];\n\t\t}\n\t\tthis.altMap[glyph.ot.unicode].push( glyph );\n\t\n\t\t// invalidate glyph subset cache\n\t\t// TODO: switch to immutable.js to avoid this maddness\n\t\tthis._lastSubset = undefined;\n\t\n\t\treturn glyph;\n\t};\n\t\n\tFont.prototype.addGlyphs = function( glyphs ) {\n\t\treturn glyphs.forEach(function( glyph ) {\n\t\t\tthis.addGlyph(glyph);\n\t\n\t\t}, this);\n\t};\n\t\n\tObject.defineProperty( Font.prototype, 'subset', {\n\t\tget: function() {\n\t\t\tif ( !this._subset ) {\n\t\t\t\tthis._subset = this.normalizeSubset( false );\n\t\t\t}\n\t\t\treturn this._subset;\n\t\t},\n\t\tset: function( set ) {\n\t\t\tthis._subset = this.normalizeSubset( set );\n\t\t}\n\t});\n\t\n\tFont.prototype.normalizeSubset = function( _set ) {\n\t\tvar set;\n\t\n\t\t// two cases where _set isn't an array\n\t\t// false set = all glyphs in the charMap\n\t\tif ( _set === false ) {\n\t\t\tset = Object.keys( this.charMap ).map(function( unicode ) {\n\t\t\t\treturn this.charMap[unicode];\n\t\t\t}.bind(this));\n\t\n\t\t// convert string to array of chars\n\t\t} else if ( typeof _set === 'string' ) {\n\t\t\tset = _set.split('').map(function(e) {\n\t\t\t\treturn e.charCodeAt(0);\n\t\t\t});\n\t\n\t\t} else {\n\t\t\tset = _set;\n\t\t}\n\t\n\t\t// convert array of number to array of glyphs\n\t\tif ( Array.isArray( set ) && typeof set[0] === 'number' ) {\n\t\t\tset = set.map(function( unicode ) {\n\t\t\t\treturn this.charMap[ unicode ];\n\t\t\t}.bind(this));\n\t\t}\n\t\n\t\t// always include .undef\n\t\tif ( set.indexOf( this.glyphMap['.notdef'] ) === -1 ) {\n\t\t\tset.unshift( this.glyphMap['.notdef'] );\n\t\t}\n\t\n\t\t// when encountering diacritics, include their base-glyph in the subset\n\t\tset.forEach(function( glyph ) {\n\t\t\tif ( glyph && glyph.base !== undefined ) {\n\t\t\t\tvar base = this.charMap[ glyph.base ];\n\t\t\t\tif ( set.indexOf( base ) === -1 ) {\n\t\t\t\t\tset.unshift( base );\n\t\t\t\t}\n\t\t\t}\n\t\t}, this);\n\t\n\t\t// remove undefined glyphs, dedupe the set and move diacritics at the end\n\t\treturn set.filter(function(e, i, arr) {\n\t\t\treturn e && arr.lastIndexOf(e) === i;\n\t\t});\n\t};\n\t\n\tFont.prototype.getGlyphSubset = function( _set ) {\n\t\treturn _set !== undefined ? this.normalizeSubset( _set ) : this.subset;\n\t};\n\t\n\tFont.prototype.setAlternateFor = function( unicode, glyphName ) {\n\t\tthis.charMap[ unicode ] = this.glyphMap[ glyphName ];\n\t};\n\t\n\tFont.prototype.interpolate = function( font0, font1, coef, set ) {\n\t\tthis.getGlyphSubset( set ).map(function( glyph ) {\n\t\t\tglyph.interpolate(\n\t\t\t\tfont0.glyphMap[glyph.name],\n\t\t\t\tfont1.glyphMap[glyph.name],\n\t\t\t\tcoef\n\t\t\t);\n\t\t});\n\t\n\t\t// TODO: evaluate if taking subsetting into account makes kerning\n\t\t// interpolation faster or slower.\n\t\tif ( this.ot.kerningPairs ) {\n\t\t\tfor ( var i in this.ot.kerningPairs ) {\n\t\t\t\tthis.ot.kerningPairs[i] =\n\t\t\t\t\tfont0.ot.kerningPairs[i] +\n\t\t\t\t\t( font1.ot.kerningPairs[i] - font0.ot.kerningPairs[i] ) * coef;\n\t\t\t}\n\t\t}\n\t\n\t\tthis.ot.ascender =\n\t\t\tfont0.ot.ascender + ( font1.ot.ascender - font0.ot.ascender ) * coef;\n\t\tthis.ot.descender =\n\t\t\tfont0.ot.descender + ( font1.ot.descender - font0.ot.descender ) * coef;\n\t\n\t\treturn this;\n\t};\n\t\n\tFont.prototype.updateSVGData = function( set ) {\n\t\tthis.getGlyphSubset( set ).map(function( glyph ) {\n\t\t\treturn glyph.updateSVGData();\n\t\t});\n\t\n\t\treturn this;\n\t};\n\t\n\tFont.prototype.updateOTCommands = function( set, shouldMerge ) {\n\t\treturn this.updateOT({\n\t\t\tset: set,\n\t\t\tshouldUpdateCommands: true,\n\t\t\tshouldMerge: shouldMerge\n\t\t});\n\t};\n\t\n\tFont.prototype.updateOT = function( args ) {\n\t\tif ( args && args.shouldUpdateCommands ) {\n\t\t\t// the following is required so that the globalMatrix of glyphs\n\t\t\t// is taken into account on each update. I assume this is done in the\n\t\t\t// main thread when calling view.update();\n\t\t\tthis._project._updateVersion++;\n\t\t}\n\t\n\t\tthis.ot.glyphs.glyphs = (\n\t\t\tthis.getGlyphSubset( args && args.set ).reduce(function(o, glyph, i) {\n\t\t\t\tif ( args && args.shouldUpdateCommands ) {\n\t\t\t\t\to[i] = args.shouldMerge ?\n\t\t\t\t\t\tglyph.combineOTCommands( null ) :\n\t\t\t\t\t\tglyph.updateOTCommands( null );\n\t\t\t\t} else {\n\t\t\t\t\to[i] = glyph.ot;\n\t\t\t\t}\n\t\n\t\t\t\treturn o;\n\t\t\t}, {})\n\t\t);\n\t\tthis.ot.glyphs.length = Object.keys(this.ot.glyphs.glyphs).length;\n\t\treturn this;\n\t};\n\t\n\tFont.prototype.toArrayBuffer = function() {\n\t\t// rewrite the postScriptName to remove invalid characters\n\t\t// TODO: this should be fixed in opentype.js\n\t\tthis.ot.names.postScriptName.en = (\n\t\t\tthis.ot.names.postScriptName.en.replace(/[^A-z0-9]/g, '_')\n\t\t);\n\t\n\t\treturn this.ot.toArrayBuffer();\n\t}\n\t\n\tFont.prototype.importOT = function( otFont ) {\n\t\tthis.ot = otFont;\n\t\n\t\tfor ( var i = 0; i < otFont.glyphs.length; ++i ) {\n\t\t\tvar otGlyph = otFont.glyphs.get(i);\n\t\t\tvar glyph = new Glyph({\n\t\t\t\t\tname: otGlyph.name,\n\t\t\t\t\tunicode: otGlyph.unicode\n\t\t\t\t});\n\t\n\t\t\tthis.addGlyph( glyph );\n\t\t\tglyph.importOT( otGlyph );\n\t\t}\n\t\n\t\treturn this;\n\t};\n\t\n\tif ( typeof window === 'object' && window.document ) {\n\t\n\t\tvar _URL = window.URL || window.webkitURL;\n\t\tFont.prototype.addToFonts = document.fonts ?\n\t\t\t// CSS font loading, lightning fast\n\t\t\tfunction( buffer, enFamilyName, noMerge) {\n\t\t\t\t//cancelling in browser merge\n\t\t\t\tclearTimeout(this.mergeTimeout);\n\t\n\t\t\t\tif ( !enFamilyName ) {\n\t\t\t\t\tenFamilyName = this.ot.getEnglishName('fontFamily');\n\t\t\t\t}\n\t\n\t\t\t\tif ( this.fontMap[ enFamilyName ] ) {\n\t\t\t\t\tdocument.fonts.delete( this.fontMap[ enFamilyName ] );\n\t\t\t\t}\n\t\n\t\t\t\tvar fontface = this.fontMap[ enFamilyName ] = (\n\t\t\t\t\tnew window.FontFace(\n\t\t\t\t\t\tenFamilyName,\n\t\t\t\t\t\tbuffer || this.toArrayBuffer()\n\t\t\t\t\t)\n\t\t\t\t);\n\t\n\t\t\t\tif ( fontface.status === 'error' ) {\n\t\t\t\t\tthrow new Error('Fontface is invalid and cannot be displayed');\n\t\t\t\t}\n\t\n\t\t\t\tdocument.fonts.add( fontface );\n\t\n\t\t\t\t//we merge font that haven't been merge\n\t\t\t\tif ( !noMerge ) {\n\t\t\t\t\tvar timeoutRef = this.mergeTimeout = setTimeout(function() {\n\t\t\t\t\tmergeFont(\n\t\t\t\t\t\t'https://merge.prototypo.io',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstyle: 'forbrowserdisplay',\n\t\t\t\t\t\t\ttemplate: 'noidea',\n\t\t\t\t\t\t\tfamily: 'forbrowserdisplay'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'plumin',\n\t\t\t\t\t\tbuffer,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tfunction(mergedBuffer) {\n\t\t\t\t\t\t\tif (timeoutRef === this.mergeTimeout) {\n\t\t\t\t\t\t\t\tthis.addToFonts(mergedBuffer, enFamilyName, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t);\n\t\t\t\t\t}.bind(this), 300);\n\t\t\t\t}\n\t\n\t\t\t\treturn this;\n\t\t\t} :\n\t\t\tfunction( buffer, enFamilyName ) {\n\t\t\t\tif ( !enFamilyName ) {\n\t\t\t\t\tenFamilyName = this.ot.getEnglishName('fontFamily');\n\t\t\t\t}\n\t\n\t\t\t\tvar url = _URL.createObjectURL(\n\t\t\t\t\t\tnew Blob(\n\t\t\t\t\t\t\t[ new DataView( buffer || this.toArrayBuffer() ) ],\n\t\t\t\t\t\t\t{ type: 'font/opentype' }\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\n\t\t\t\tif ( this.fontObjectURL ) {\n\t\t\t\t\t_URL.revokeObjectURL( this.fontObjectURL );\n\t\t\t\t\tthis.styleSheet.deleteRule(0);\n\t\t\t\t}\n\t\n\t\t\t\tthis.styleSheet.insertRule(\n\t\t\t\t\t'@font-face { font-family: \"' + enFamilyName + '\";' +\n\t\t\t\t\t'src: url(' + url + '); }',\n\t\t\t\t\t0\n\t\t\t\t);\n\t\t\t\tthis.fontObjectURL = url;\n\t\n\t\t\t\treturn this;\n\t\t\t};\n\t\n\t\tvar a = document.createElement('a');\n\t\n\t\tvar triggerDownload = function( font, arrayBuffer, filename ) {\n\t\t\tvar reader = new FileReader();\n\t\t\tvar enFamilyName = filename || font.ot.getEnglishName('fontFamily');\n\t\n\t\t\treader.onloadend = function() {\n\t\t\t\ta.download = enFamilyName + '.otf';\n\t\t\t\ta.href = reader.result;\n\t\t\t\ta.dispatchEvent(new MouseEvent('click'));\n\t\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\ta.href = '#';\n\t\t\t\t\t_URL.revokeObjectURL( reader.result );\n\t\t\t\t}, 100);\n\t\t\t};\n\t\n\t\t\treader.readAsDataURL(new Blob(\n\t\t\t\t[ new DataView( arrayBuffer || font.toArrayBuffer() ) ],\n\t\t\t\t{ type: 'font/opentype' }\n\t\t\t));\n\t\t};\n\t\n\t\tFont.prototype.download = function( arrayBuffer, name, user, merged ) {\n\t\t\tif ( !merged ) {\n\t\t\t\ttriggerDownload(\n\t\t\t\t\tthis,\n\t\t\t\t\tarrayBuffer,\n\t\t\t\t\tname && ( name.family + ' ' + name.style ) );\n\t\t\t}\n\t\t\t// TODO: replace that with client-side font merging\n\t\t\tif (name && user) {\n\t\t\t\tmergeFont(\n\t\t\t\t\t'https://merge.prototypo.io',\n\t\t\t\t\tname,\n\t\t\t\t\tuser,\n\t\t\t\t\tarrayBuffer,\n\t\t\t\t\tmerged,\n\t\t\t\t\tfunction(bufferToDownload) {\n\t\t\t\t\t\tif ( merged ) {\n\t\t\t\t\t\t\ttriggerDownload( this, bufferToDownload );\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this)\n\t\t\t\t);\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t}\n\t\n\tmodule.exports = Font;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar opentype = __webpack_require__(2),\n\t\tpaper = __webpack_require__(4),\n\t\tOutline = __webpack_require__(9);\n\t\n\tfunction Glyph( args ) {\n\t\tpaper.Group.prototype.constructor.apply( this );\n\t\n\t\tif ( args && typeof args.unicode === 'string' ) {\n\t\t\targs.unicode = args.unicode.charCodeAt(0);\n\t\t}\n\t\n\t\tthis.ot = new opentype.Glyph( args );\n\t\tthis.ot.path = new opentype.Path();\n\t\n\t\tthis.name = args.name;\n\t\t// workaround opentype 'unicode === 0' bug\n\t\tthis.ot.unicode = args.unicode;\n\t\n\t\tthis.addChild( new Outline() );\n\t\t// the second child will hold all components\n\t\tthis.addChild( new paper.Group() );\n\t\t// Should all anchors and parentAnchors also leave in child groups?\n\t\tthis.anchors = ( args && args.anchors ) || [];\n\t\tthis.parentAnchors = ( args && args.parentAnchors ) || [];\n\t\n\t\t// each individual glyph must be explicitely made visible\n\t\tthis.visible = false;\n\t\t// default colors required to display the glyph in a canvas\n\t\tthis.fillColor = new paper.Color(0, 0, 0);\n\t\t// stroke won't be displayed unless strokeWidth is set to 1\n\t\tthis.strokeColor = new paper.Color(0, 0, 0);\n\t\tthis.strokeScaling = false;\n\t}\n\t\n\tGlyph.prototype = Object.create(paper.Group.prototype);\n\tGlyph.prototype.constructor = Glyph;\n\t\n\t// Todo: handle unicode updates\n\tObject.defineProperty(Glyph.prototype, 'unicode', {\n\t\tset: function( code ) {\n\t\t\tthis.ot.unicode = typeof code === 'string' ?\n\t\t\t\tcode.charCodeAt(0) :\n\t\t\t\tcode;\n\t\t},\n\t\tget: function() {\n\t\t\treturn this.ot.unicode;\n\t\t}\n\t});\n\t\n\tObject.defineProperty(Glyph.prototype, 'base', {\n\t\tset: function( code ) {\n\t\t\tthis._base = typeof code === 'string' ?\n\t\t\t\tcode.charCodeAt(0) :\n\t\t\t\tcode;\n\t\t},\n\t\tget: function() {\n\t\t\treturn this._base;\n\t\t}\n\t});\n\t\n\t// alias .advanceWidth to .ot.advanceWidth\n\tObject.defineProperty(Glyph.prototype, 'advanceWidth', {\n\t\tset: function( value ) {\n\t\t\tthis.ot.advanceWidth = value;\n\t\t},\n\t\tget: function() {\n\t\t\treturn this.ot.advanceWidth;\n\t\t}\n\t});\n\t\n\t// proxy .contours to .children[0]\n\tObject.defineProperty( Glyph.prototype, 'contours', {\n\t\tget: function() {\n\t\t\treturn this.children[0].children;\n\t\t}\n\t});\n\t\n\t// proxy .components to .children[1]\n\tObject.defineProperty( Glyph.prototype, 'components', {\n\t\tget: function() {\n\t\t\treturn this.children[1].children;\n\t\t}\n\t});\n\t\n\t// proxy ...Contour[s] methods to children[0]...Child[ren] methods\n\t// and proxy ...Component[s] methods to children[1]...Child[ren] methods\n\tObject.getOwnPropertyNames( paper.Item.prototype ).forEach(function(name) {\n\t\tvar proto = this;\n\t\n\t\t// exclude getters and non-methods\n\t\tif ( Object.getOwnPropertyDescriptor(proto, name).get ||\n\t\t\t\ttypeof proto[name] !== 'function' ) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tif ( name.indexOf('Children') !== -1 ) {\n\t\t\tproto[name.replace('Children', 'Contours')] = function() {\n\t\t\t\tproto[name].apply( this.children[0], arguments );\n\t\t\t};\n\t\n\t\t\tproto[name.replace('Children', 'Components')] = function() {\n\t\t\t\tproto[name].apply( this.children[1], arguments );\n\t\t\t};\n\t\n\t\t} else if ( name.indexOf('Child') !== -1 ) {\n\t\t\tproto[name.replace('Child', 'Contour')] = function() {\n\t\t\t\tproto[name].apply( this.children[0], arguments );\n\t\t\t};\n\t\n\t\t\tproto[name.replace('Child', 'Component')] = function() {\n\t\t\t\tproto[name].apply( this.children[1], arguments );\n\t\t\t};\n\t\t}\n\t\n\t}, paper.Item.prototype);\n\t\n\tGlyph.prototype.addAnchor = function( item ) {\n\t\tthis.anchors.push( item );\n\t\treturn item;\n\t};\n\t\n\tGlyph.prototype.addAnchors = function( anchors ) {\n\t\treturn anchors.forEach(function(anchor) {\n\t\t\tthis.addAnchor(anchor);\n\t\t}, this);\n\t};\n\t\n\tGlyph.prototype.addParentAnchor = function( item ) {\n\t\tthis.parentAnchors.push( item );\n\t\treturn item;\n\t};\n\t\n\tGlyph.prototype.addUnicode = function( code ) {\n\t\tthis.ot.addUnicode( code );\n\t\n\t\treturn this;\n\t};\n\t\n\tGlyph.prototype.interpolate = function( glyph0, glyph1, coef ) {\n\t\t// If we added an interpolate method to Group, we'd be able to just\n\t\t// interpolate all this.children directly.\n\t\t// instead we interpolate the outline first\n\t\tthis.children[0].interpolate(\n\t\t\tglyph0.children[0], glyph1.children[0], coef\n\t\t);\n\t\t// and then the components\n\t\tthis.children[1].children.forEach(function(component, j) {\n\t\t\tcomponent.interpolate(\n\t\t\t\tglyph0.children[1].children[j], glyph1.children[1].children[j], coef\n\t\t\t);\n\t\t});\n\t\n\t\tthis.ot.advanceWidth =\n\t\t\tglyph0.ot.advanceWidth +\n\t\t\t( glyph1.ot.advanceWidth - glyph0.ot.advanceWidth ) * coef;\n\t\tthis.ot.leftSideBearing =\n\t\t\tglyph0.ot.leftSideBearing +\n\t\t\t( glyph1.ot.leftSideBearing - glyph0.ot.leftSideBearing ) * coef;\n\t\tthis.ot.xMax =\n\t\t\tglyph0.ot.xMax + ( glyph1.ot.xMax - glyph0.ot.xMax ) * coef;\n\t\tthis.ot.xMin =\n\t\t\tglyph0.ot.xMin + ( glyph1.ot.xMin - glyph0.ot.xMin ) * coef;\n\t\tthis.ot.yMax =\n\t\t\tglyph0.ot.yMax + ( glyph1.ot.yMax - glyph0.ot.yMax ) * coef;\n\t\tthis.ot.yMin =\n\t\t\tglyph0.ot.yMin + ( glyph1.ot.yMin - glyph0.ot.yMin ) * coef;\n\t\n\t\treturn this;\n\t};\n\t\n\tGlyph.prototype.updateSVGData = function( path ) {\n\t\tif ( !path ) {\n\t\t\tthis.svgData = [];\n\t\t\tpath = this.svgData;\n\t\t}\n\t\n\t\tthis.children[0].updateSVGData( path );\n\t\n\t\tthis.children[1].children.forEach(function( component ) {\n\t\t\tcomponent.updateSVGData( path );\n\t\t});\n\t\n\t\treturn this.svgData;\n\t};\n\t\n\tGlyph.prototype.updateOTCommands = function( path ) {\n\t\tif ( !path ) {\n\t\t\tthis.ot.path.commands = [];\n\t\t\tpath = this.ot.path;\n\t\t}\n\t\n\t\tthis.children[0].updateOTCommands( path );\n\t\n\t\tthis.children[1].children.forEach(function( component ) {\n\t\t\tcomponent.updateOTCommands( path );\n\t\t});\n\t\n\t\treturn this.ot;\n\t};\n\t\n\tGlyph.prototype.combineOTCommands = function( path ) {\n\t\tif ( !path ) {\n\t\t\tthis.ot.path.commands = [];\n\t\t\tpath = this.ot.path;\n\t\t}\n\t\n\t\tvar combined = this.combineTo( new Outline() );\n\t\n\t\tif ( combined ) {\n\t\t\t// prototypo.js will make all contours clockwise without this\n\t\t\tcombined.isPrepared = true;\n\t\t\tcombined.updateOTCommands( path );\n\t\t}\n\t\n\t\treturn this.ot;\n\t};\n\t\n\tGlyph.prototype.combineTo = function( outline ) {\n\t\tif ( !outline ) {\n\t\t\toutline = new Outline();\n\t\t}\n\t\n\t\toutline = this.children[0].combineTo( outline );\n\t\n\t\treturn this.children[1].children.reduce(function( outline, component ) {\n\t\t\t// and then combine it to the rest of the glyph\n\t\t\treturn component.combineTo( outline );\n\t\t}, outline);\n\t};\n\t\n\tGlyph.prototype.importOT = function( otGlyph ) {\n\t\tvar current;\n\t\tthis.ot = otGlyph;\n\t\n\t\tif ( !otGlyph.path || !otGlyph.path.commands ) {\n\t\t\treturn this;\n\t\t}\n\t\n\t\tthis.ot.path.commands.forEach(function(command) {\n\t\t\tswitch ( command.type ) {\n\t\t\t\tcase 'M':\n\t\t\t\t\tcurrent = new paper.Path();\n\t\t\t\t\tthis.children[0].addChild( current );\n\t\n\t\t\t\t\tcurrent.moveTo( command );\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'L':\n\t\t\t\t\tcurrent.lineTo( command );\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'C':\n\t\t\t\t\tcurrent.cubicCurveTo(\n\t\t\t\t\t\t[ command.x1, command.y1 ],\n\t\t\t\t\t\t[ command.x2, command.y2 ],\n\t\t\t\t\t\tcommand\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Q':\n\t\t\t\t\tcurrent.quadraticCurveTo(\n\t\t\t\t\t\t[ command.x1, command.y1 ],\n\t\t\t\t\t\tcommand\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Z':\n\t\t\t\t\t// When the glyph has no contour,\n\t\t\t\t\t// they contain a single Z command in\n\t\t\t\t\t// opentype.js.\n\t\t\t\t\t// TODO: see how we should handle that\n\t\t\t\t\tif ( current ) {\n\t\t\t\t\t\tcurrent.closePath();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}.bind(this));\n\t\n\t\treturn this;\n\t};\n\t\n\tmodule.exports = Glyph;\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar paper = __webpack_require__(4);\n\t\n\tvar Outline = paper.CompoundPath;\n\t\n\t// function Outline() {\n\t// \tpaper.CompoundPath.prototype.constructor.apply( this, arguments );\n\t// }\n\t//\n\t// // inehrit CompoundPath\n\t// Outline.prototype = Object.create(paper.CompoundPath.prototype);\n\t// Outline.prototype.constructor = Outline;\n\t\n\t// Fix two problems with CompoundPath#insertChildren:\n\t// - it arbitrarily changes the direction of paths\n\t// - it seems that it doesn't handle CompoundPath arguments\n\tOutline.prototype.insertChildren = function(index, items, _preserve) {\n\t\tif ( Array.isArray( items ) ) {\n\t\t\t// flatten items to handle CompoundPath children\n\t\t\titems = [].concat.apply([], items.map(function(item) {\n\t\t\t\treturn item instanceof paper.Path ? item : item.children;\n\t\t\t}));\n\t\t}\n\t\n\t\treturn paper.Item.prototype.insertChildren.call(\n\t\t\tthis, index, items, _preserve, paper.Path\n\t\t);\n\t};\n\t\n\tOutline.fromPath = function( path ) {\n\t\tvar result = new Outline();\n\t\treturn path._clone( result, false );\n\t};\n\t\n\tOutline.prototype.interpolate = function( outline0, outline1, coef ) {\n\t\tfor (var i = 0, l = this.children.length; i < l; i++) {\n\t\t\t// The number of children should be the same everywhere,\n\t\t\t// but we're going to try our best anyway\n\t\t\tif ( !outline0.children[i] || !outline1.children[i] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\n\t\t\tthis.children[i].interpolate(\n\t\t\t\toutline0.children[i],\n\t\t\t\toutline1.children[i],\n\t\t\t\tcoef\n\t\t\t);\n\t\t}\n\t\n\t\treturn this;\n\t};\n\t\n\tOutline.prototype.updateSVGData = function( path ) {\n\t\tif ( !path ) {\n\t\t\tthis.svgData = [];\n\t\t\tpath = this.svgData;\n\t\t}\n\t\n\t\tthis.children.forEach(function( contour ) {\n\t\t\tcontour.updateSVGData( path );\n\t\t}, this);\n\t\n\t\treturn this.svgData;\n\t};\n\t\n\tOutline.prototype.updateOTCommands = function( path ) {\n\t\tif ( !path ) {\n\t\t\tthis.ot.path.commands = [];\n\t\t\tpath = this.ot.path;\n\t\t}\n\t\n\t\tthis.children.forEach(function( contour ) {\n\t\t\tcontour.updateOTCommands( path );\n\t\t}.bind(this));\n\t\n\t\treturn this.ot;\n\t};\n\t\n\tOutline.prototype.combineTo = function( outline ) {\n\t\treturn this.children.reduce(function( reducing, path ) {\n\t\t\t// ignore empty and open paths\n\t\t\tif ( path.curves.length === 0 || !path.closed ) {\n\t\t\t\treturn reducing;\n\t\t\t}\n\t\n\t\t\tvar tmp = ( reducing == undefined  ?\n\t\t\t\t// when the initial value doesn't exist, use the first path\n\t\t\t\t// (clone it otherwise it's removed from this.children)\n\t\t\t\tpath.clone( false ) :\n\t\t\t\treducing[\n\t\t\t\t\tpath.clockwise === !(path.exportReversed) ? 'unite' : 'subtract'\n\t\t\t\t]( path )\n\t\t\t);\n\t\n\t\t\treturn ( tmp.constructor === paper.Path ?\n\t\t\t\tnew paper.CompoundPath({ children: [ tmp ] }) :\n\t\t\t\ttmp\n\t\t\t);\n\t\n\t\t}, outline);\n\t};\n\t\n\tmodule.exports = Outline;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t/**\n\t * Code refactored from Mozilla Developer Network:\n\t * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\t */\n\t\n\t'use strict';\n\t\n\tfunction assign(target, firstSource) {\n\t  if (target === undefined || target === null) {\n\t    throw new TypeError('Cannot convert first argument to object');\n\t  }\n\t\n\t  var to = Object(target);\n\t  for (var i = 1; i < arguments.length; i++) {\n\t    var nextSource = arguments[i];\n\t    if (nextSource === undefined || nextSource === null) {\n\t      continue;\n\t    }\n\t\n\t    var keysArray = Object.keys(Object(nextSource));\n\t    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n\t      var nextKey = keysArray[nextIndex];\n\t      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\t      if (desc !== undefined && desc.enumerable) {\n\t        to[nextKey] = nextSource[nextKey];\n\t      }\n\t    }\n\t  }\n\t  return to;\n\t}\n\t\n\tfunction polyfill() {\n\t  if (!Object.assign) {\n\t    Object.defineProperty(Object, 'assign', {\n\t      enumerable: false,\n\t      configurable: true,\n\t      writable: true,\n\t      value: assign\n\t    });\n\t  }\n\t}\n\t\n\tmodule.exports = {\n\t  assign: assign,\n\t  polyfill: polyfill\n\t};\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* Extend the Path prototype to add OpenType conversion\n\t * and alias *segments methods and properties to *nodes\n\t */\n\tvar paper = __webpack_require__(4);\n\t\n\tvar proto = paper.PaperScope.prototype.Path.prototype;\n\t\n\t// alias *Segments methods to *Nodes equivalents\n\t[ 'add', 'insert', 'remove' ].forEach(function(name) {\n\t\tproto[name + 'Nodes'] =\n\t\t\tproto[name + 'Segments'];\n\t});\n\t\n\t// alias .segments to .nodes\n\tObject.defineProperties(proto, {\n\t\tnodes: Object.getOwnPropertyDescriptor( proto, 'segments' ),\n\t\tfirstNode: Object.getOwnPropertyDescriptor( proto, 'firstSegment' ),\n\t\tlastNode: Object.getOwnPropertyDescriptor( proto, 'lastSegment' )\n\t});\n\t\n\tproto._updateData = function( data, pushSimple, pushBezier ) {\n\t\tif ( this.visible === false || this.curves.length === 0) {\n\t\t\treturn data;\n\t\t}\n\t\n\t\t// prototypo needs to be able to change the direction of the updated data.\n\t\tvar reverse = this.exportReversed,\n\t\t\tcurves = this.curves,\n\t\t\tlength = curves.length,\n\t\t\tmatrix = this.globalMatrix,\n\t\t\tstart =\n\t\t\t\tcurves[ reverse ? length - 1 : 0 ][ 'point' + ( reverse ? 2 : 1 ) ]\n\t\t\t\t\t.transform( matrix );\n\t\n\t\tpushSimple(\n\t\t\t'M',\n\t\t\tMath.round( start.x ) || 0,\n\t\t\tMath.round( start.y ) || 0\n\t\t);\n\t\n\t\tfor ( var i = -1, l = curves.length; ++i < l; ) {\n\t\t\tvar curve = curves[ reverse ? l - 1 - i : i ],\n\t\t\t\tend = curve['point' + ( reverse ? 1 : 2 ) ].transform( matrix );\n\t\n\t\t\tif ( curve.isStraight() ) {\n\t\t\t\tpushSimple(\n\t\t\t\t\t'L',\n\t\t\t\t\tMath.round( end.x ) || 0,\n\t\t\t\t\tMath.round( end.y ) || 0\n\t\t\t\t);\n\t\n\t\t\t} else {\n\t\t\t\tvar ctrl1 = new paper.Point(\n\t\t\t\t\t\tcurve.point1.x + curve.handle1.x,\n\t\t\t\t\t\tcurve.point1.y + curve.handle1.y\n\t\t\t\t\t).transform( matrix ),\n\t\t\t\t\tctrl2 = new paper.Point(\n\t\t\t\t\t\tcurve.point2.x + curve.handle2.x,\n\t\t\t\t\t\tcurve.point2.y + curve.handle2.y\n\t\t\t\t\t).transform( matrix );\n\t\n\t\t\t\tif ( reverse ) {\n\t\t\t\t\tpushBezier(\n\t\t\t\t\t\t'C',\n\t\t\t\t\t\tMath.round( ctrl2.x ) || 0,\n\t\t\t\t\t\tMath.round( ctrl2.y ) || 0,\n\t\t\t\t\t\tMath.round( ctrl1.x ) || 0,\n\t\t\t\t\t\tMath.round( ctrl1.y ) || 0,\n\t\t\t\t\t\tMath.round( end.x ) || 0,\n\t\t\t\t\t\tMath.round( end.y ) || 0\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tpushBezier(\n\t\t\t\t\t\t'C',\n\t\t\t\t\t\tMath.round( ctrl1.x ) || 0,\n\t\t\t\t\t\tMath.round( ctrl1.y ) || 0,\n\t\t\t\t\t\tMath.round( ctrl2.x ) || 0,\n\t\t\t\t\t\tMath.round( ctrl2.y ) || 0,\n\t\t\t\t\t\tMath.round( end.x ) || 0,\n\t\t\t\t\t\tMath.round( end.y ) || 0\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tif ( this.closed ) {\n\t\t\tpushSimple('Z');\n\t\t}\n\t\n\t\treturn data;\n\t};\n\t\n\tproto.updateOTCommands = function( data ) {\n\t\treturn this._updateData(\n\t\t\tdata,\n\t\t\tfunction pushSimple() {\n\t\t\t\tdata.commands.push({\n\t\t\t\t\ttype: arguments[0],\n\t\t\t\t\tx: arguments[1],\n\t\t\t\t\ty: arguments[2]\n\t\t\t\t});\n\t\t\t},\n\t\t\tfunction pushBezier() {\n\t\t\t\tdata.commands.push({\n\t\t\t\t\ttype: arguments[0],\n\t\t\t\t\tx1: arguments[1],\n\t\t\t\t\ty1: arguments[2],\n\t\t\t\t\tx2: arguments[3],\n\t\t\t\t\ty2: arguments[4],\n\t\t\t\t\tx: arguments[5],\n\t\t\t\t\ty: arguments[6]\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t};\n\t\n\tproto.updateSVGData = function( data ) {\n\t\treturn this._updateData(\n\t\t\tdata,\n\t\t\tfunction pushSimple() {\n\t\t\t\tdata.push.apply( data, arguments );\n\t\t\t},\n\t\t\tfunction pushBezier() {\n\t\t\t\tdata.push.apply( data, arguments );\n\t\t\t}\n\t\t);\n\t};\n\t\n\tmodule.exports = paper.Path;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar paper = __webpack_require__(4);\n\t\n\tObject.defineProperty( paper.Segment.prototype, 'x', {\n\t\tget: function() {\n\t\t\treturn this.point.x;\n\t\t},\n\t\tset: function( value ) {\n\t\t\tthis.point.x = value;\n\t\t}\n\t});\n\t\n\tObject.defineProperty( paper.Segment.prototype, 'y', {\n\t\tget: function() {\n\t\t\treturn this.point.y;\n\t\t},\n\t\tset: function( value ) {\n\t\t\tthis.point.y = value;\n\t\t}\n\t});\n\t\n\tmodule.exports = paper.Segment;\n\n\n/***/ })\n/******/ ])\n});\n;\n//# sourceMappingURL=plumin.js.map\n\n\n// WEBPACK FOOTER //\n// ../plumin.js/dist/plumin.js","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_ListCache.js\n// module id = 6\n// module chunks = 0","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Symbol.js\n// module id = 7\n// module chunks = 0","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_assocIndexOf.js\n// module id = 8\n// module chunks = 0","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getMapData.js\n// module id = 9\n// module chunks = 0","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_nativeCreate.js\n// module id = 10\n// module chunks = 0","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_toKey.js\n// module id = 11\n// module chunks = 0","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isObject.js\n// module id = 12\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isSymbol.js\n// module id = 13\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 14\n// module chunks = 0","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash.assign/index.js\n// module id = 15\n// module chunks = 0","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Map.js\n// module id = 16\n// module chunks = 0","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_MapCache.js\n// module id = 17\n// module chunks = 0","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isKey.js\n// module id = 18\n// module chunks = 0","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isLength.js\n// module id = 19\n// module chunks = 0","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/keys.js\n// module id = 20\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 21\n// module chunks = 0","var plumin = require('plumin.js'),\n\tDepTree = require('deptree'),\n\tcloneDeep = require('lodash.clonedeep'),\n\tfilter = require('lodash.filter'),\n\tassign = require('lodash.assign'),\n\tupdateUtils = require('./updateUtils.js');\n\nvar paper = plumin.paper,\n\tUtils = updateUtils,\n\t_ = {\n\t\tcloneDeep: cloneDeep,\n\t\tassign: assign\n\t};\n\n// convert the glyph source from the ufo object model to the paper object model\n// this is the inverse operation done by jsufonify\nUtils.ufoToPaper = function( src ) {\n\tif ( src.parameter ) {\n\t\tsrc.parameters = src.parameter;\n\t\tdelete src.parameter;\n\t}\n\n\tif ( src.anchor ) {\n\t\tsrc.anchors = src.anchor;\n\t\tdelete src.anchor;\n\t}\n\n\tif ( src.outline && src.outline.contour ) {\n\t\tsrc.contours = src.outline.contour;\n\t\tdelete src.outline.contour;\n\t}\n\n\tif ( src.contours ) {\n\t\tsrc.contours.forEach(function(contour) {\n\t\t\tif ( contour.point ) {\n\t\t\t\tcontour.nodes = contour.point;\n\t\t\t\tdelete contour.point;\n\t\t\t}\n\t\t});\n\t}\n\n\tif ( src.outline && src.outline.component ) {\n\t\tsrc.components = src.outline.component;\n\n\t\tsrc.components.forEach(function(component) {\n\t\t\tif ( component.anchor ) {\n\t\t\t\tcomponent.parentAnchors = component.anchor;\n\t\t\t\tdelete component.anchor;\n\t\t\t}\n\n\t\t\tif ( component.parameter ) {\n\t\t\t\tcomponent.parentParameters = component.parameter;\n\t\t\t\tdelete component.parameter;\n\t\t\t}\n\t\t});\n\n\t\tdelete src.outline.component;\n\t}\n\n\tdelete src.outline;\n\n\tif ( src.lib && src.lib.transforms ) {\n\t\tsrc.transforms = src.lib.transforms;\n\t\tdelete src.lib.transforms;\n\t}\n\n\tif ( src.lib && src.lib.transformOrigin ) {\n\t\tsrc.transformOrigin = src.lib.transformOrigin;\n\t\tdelete src.lib.transformOrigin;\n\t}\n\n\tif ( src.lib && src.lib.parameters ) {\n\t\tsrc.parameters = src.lib.parameters;\n\t\tdelete src.lib.parameters;\n\t}\n\n\tif ( src.lib && src.lib.solvingOrder ) {\n\t\tsrc.solvingOrder = src.lib.solvingOrder;\n\t\tdelete src.lib.solvingOrder;\n\t}\n\n\treturn src;\n};\n\nUtils.fontFromSrc = function( src ) {\n\t// TODO: this, block is only here for backward compat\n\t// and should be removed at some point in the future\n\tif ( !src.fontinfo ) {\n\t\tsrc.fontinfo = src.info;\n\t}\n\n\tvar font = new paper.Font( _.assign({}, src.fontinfo, {\n\t\t// The font needs to be initialized with valid ascender/descender values\n\t\tascender: 1,\n\t\tdescender: -1\n\t}) );\n\n\tfont.src = Utils.ufoToPaper( src );\n\n\tvar filteredSrc = _.assign( {}, src );\n\tdelete filteredSrc.controls;\n\tdelete filteredSrc.presets;\n\tdelete filteredSrc.glyphs;\n\n\tUtils.createUpdaters( filteredSrc, 'font_' + src.fontinfo.familyName );\n\n\tfont.parameters = {};\n\tUtils.mergeStatic( font.parameters, font.src.parameters );\n\n\t// solvingOrder might be already available (if this is a subcomponent,\n\t// or precomputed in a worker)\n\tfont.solvingOrder = font.src.solvingOrder;\n\n\tif ( !font.solvingOrder ) {\n\t\tfont.solvingOrder = filteredSrc.solvingOrder =\n\t\t\tUtils.solveDependencyTree( font, filteredSrc );\n\t}\n\n\treturn font;\n};\n\n// create Glyph instance and all its child items: anchors, contours\n// and components\n// var wmm = typeof WeakMap === 'function' && new WeakMap();\nUtils.glyphFromSrc = function( src, fontSrc, naive, embed ) {\n\tvar glyph = new paper.Glyph({\n\t\tname: src.name,\n\t\tunicode: src.unicode\n\t});\n\n\t// Clone glyph src to allow altering it without impacting components srcs.\n\tglyph.src = _.cloneDeep( src );\n\t// turn ._operation strings to ._updaters functions\n\t// TODO: restore sourceURL pragma for debugging.\n\t// this should impact the way results are memoized\n\tUtils.createUpdaters( glyph.src/*, 'glyphs/glyph_' + name*/ );\n\tUtils.mergeStatic( glyph, glyph.src );\n\n\t// this will be used to hold local parameters that will be merged with\n\t// the font parameters\n\tglyph.parameters = {};\n\tUtils.mergeStatic( glyph.parameters, glyph.src.parameters );\n\n\t// solvingOrder might be already available (if this is a subcomponent,\n\t// or precomputed in a worker)\n\tglyph.solvingOrder = glyph.src.solvingOrder;\n\n\t(glyph.src.anchors || []).forEach(function(anchorSrc) {\n\t\tvar anchor = new paper.Node();\n\t\tanchor.src = anchorSrc;\n\t\tUtils.mergeStatic( anchor, anchorSrc );\n\n\t\tglyph.addAnchor( anchor );\n\t});\n\n\t(glyph.src.contours || []).forEach(function(contourSrc, contourIdx) {\n\t\tvar contour = new paper.Path();\n\t\tcontour.src = contourSrc;\n\t\tUtils.mergeStatic( contour, contourSrc );\n\n\t\tglyph.addContour( contour );\n\n\t\t// TODO: handle oncurve/offcurve points\n\t\tcontourSrc.nodes.forEach(function(nodeSrc, nodeIdx) {\n\t\t\tvar node = new paper.Node();\n\t\t\tnode.src = nodeSrc;\n\t\t\tUtils.mergeStatic( node, nodeSrc );\n\t\t\tnode.contourIdx = contourIdx;\n\t\t\tnode.nodeIdx = nodeIdx;\n\n\t\t\tcontour.add( node );\n\t\t});\n\t});\n\n\tif ( !glyph.src.components ) {\n\t\treturn glyph;\n\t}\n\n\tglyph.componentLists = {};\n\n\t// components can only be embedded once all glyphs have been generated\n\t// from source\n\tglyph.embedComponents = function() {\n\t\tglyph.src.components.forEach(function(componentSrc) {\n\t\t\tif (Array.isArray(componentSrc.base)) {\n\t\t\t\tglyph.componentLists[componentSrc.id] = componentSrc.base;\n\t\t\t\tUtils.selectGlyphComponent(\n\t\t\t\t\tglyph,\n\t\t\t\t\tcomponentSrc,\n\t\t\t\t\tcomponentSrc.base[0],\n\t\t\t\t\tfontSrc,\n\t\t\t\t\tnaive,\n\t\t\t\t\tcomponentSrc.id);\n\t\t\t} else {\n\t\t\t\tUtils.selectGlyphComponent(\n\t\t\t\t\tglyph,\n\t\t\t\t\tcomponentSrc,\n\t\t\t\t\tcomponentSrc.base,\n\t\t\t\t\tfontSrc,\n\t\t\t\t\tnaive);\n\t\t\t}\n\t\t});\n\n\t\tdelete glyph.embedComponents;\n\t};\n\n\tif ( embed ) {\n\t\tglyph.embedComponents();\n\t}\n\n\treturn glyph;\n};\n\nUtils.selectGlyphComponent = function(\n\tglyph,\n\tcomponentSrc,\n\tcomponentName,\n\tfontSrc,\n\tnaive,\n\tid,\n\tindex) {\n\tvar component = Utils.glyphFromSrc(\n\t\t\tfontSrc.glyphs[componentName],\n\t\t\tfontSrc,\n\t\t\tnaive,\n\t\t\t// components' subcomponents can be embedded immediatly\n\t\t\ttrue\n\t\t);\n\n\tcomponent.parentParameters = {};\n\tUtils.mergeStatic(\n\t\tcomponent.parentParameters,\n\t\tcomponentSrc.parentParameters\n\t);\n\n\tnaive.annotator( component );\n\tcomponent.componentId = id;\n\tcomponent.chosen = componentName;\n\tcomponent.multiple = Array.isArray(componentSrc.base);\n\tif (index === undefined) {\n\t\tglyph.addComponent( component);\n\t} else {\n\t\tif (glyph.components[index].optionPoint) {\n\t\t\tglyph.components[index].optionPoint.remove();\n\t\t}\n\t\tglyph.components[index].replaceWith(component);\n\t}\n\n\t(componentSrc.parentAnchors || []).forEach(function(anchorSrc) {\n\t\tvar anchor = new paper.Node();\n\t\tanchor.src = anchorSrc;\n\t\tUtils.mergeStatic( anchor, anchorSrc );\n\n\t\tcomponent.addParentAnchor( anchor );\n\t});\n}\n\n// build a full cursor from arguments\n// adds 'contours' and 'nodes' automagically when arguments start with a number\nUtils.cursor = function() {\n\tvar cursor = [];\n\n\tfor ( var i = -1; ++i < arguments.length; ) {\n\t\tif ( i === 0 && typeof arguments[0] === 'number' ) {\n\t\t\tcursor.push( 'contours' );\n\t\t}\n\t\tif ( i === 1 && typeof arguments[0] === 'number' ) {\n\t\t\tcursor.push( 'nodes' );\n\t\t}\n\t\tcursor.push( arguments[i] );\n\t}\n\n\treturn cursor.join('.');\n};\n\nUtils.propFromCursor = function( cursor, context, length ) {\n\tif ( length === undefined ) {\n\t\tlength = cursor.length;\n\t}\n\n\tfor ( var i = -1; ++i < length; ) {\n\t\tif (context === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\tcontext = context[ cursor[i] ];\n\t}\n\n\treturn context;\n};\n\nUtils.mergeStatic = function( obj, src ) {\n\tfor ( var i in src ) {\n\t\tif ( typeof src[i] !== 'object' ) {\n\t\t\tobj[i] = src[i];\n\n\t\t// props that have empty dependencies and params are static\n\t\t} else if (\n\t\t\tsrc[i]._dependencies && src[i]._dependencies.length === 0 &&\n\t\t\t( !src[i]._parameters || src[i]._parameters.length === 0 ) &&\n\t\t\tsrc[i]._updaters\n\t\t) {\n\t\t\tobj[i] = src[i]._updaters[0].apply(\n\t\t\t\tobj,\n\t\t\t\t[ null, null, null, null, Utils ]\n\t\t\t);\n\n\t\t\tdelete src[i];\n\t\t}\n\t}\n};\n\nUtils.createUpdaters = function( leaf, path ) {\n\tif ( leaf.constructor === Object && leaf._operation ) {\n\t\tleaf._updaters = [ Utils.createUpdater( leaf, path ) ];\n\n\t} else if ( leaf.constructor === Object ) {\n\t\tfor ( var i in leaf ) {\n\t\t\tUtils.createUpdaters( leaf[i], path + '.' + i );\n\t\t}\n\n\t} else if ( leaf.constructor === Array ) {\n\t\tleaf.forEach(function(child, j) {\n\t\t\tUtils.createUpdaters( child, path + '.' + j );\n\t\t});\n\t}\n};\n\nUtils.updaterCache = {};\nUtils.createUpdater = function( leaf/*, path*/ ) {\n\tvar sOperation = leaf._operation.toString(),\n\t\tcacheKey = ( leaf.parameters || [] ).join() + '#' + sOperation;\n\n\tif ( cacheKey in Utils.updaterCache ) {\n\t\treturn Utils.updaterCache[ cacheKey ];\n\t}\n\n\tUtils.updaterCache[ cacheKey ] = Function.apply( null, [\n\t\t\t'propName', 'contours', 'anchors', 'parentAnchors', 'Utils'\n\t\t]\n\t\t.concat( leaf._parameters || [] )\n\t\t.concat(\n\t\t\t( typeof leaf._operation === 'string' &&\n\t\t\t\t\tleaf._operation.indexOf('return ') === -1 ?\n\t\t\t\t'return ' : ''\n\t\t\t) +\n\t\t\t// The operation might be wrapped in a function (e.g. multi-\n\t\t\t// line code for debugging purpose). In this case, return\n\t\t\t// must be explicit\n\t\t\tsOperation\n\t\t\t\t// [\\s\\S] need to be used instead of . because\n\t\t\t\t// javascript doesn't have a dotall flag (s)\n\t\t\t\t.replace(/^function\\s*\\(\\)\\s*\\{([\\s\\S]*?)\\}$/, '$1')\n\t\t\t\t.trim()/* +\n\t\t\t// add sourceURL pragma to help debugging\n\t\t\t// TODO: restore sourceURL pragma if it proves necessary\n\t\t\t'\\n\\n//# sourceURL=' + path*/\n\t\t) );\n\n\treturn Utils.updaterCache[ cacheKey ];\n};\n\nUtils.solveDependencyTree = function( leaf, src ) {\n\tvar depTree = Utils.dependencyTree( src || leaf.src, null ),\n\t\torder = depTree.resolve().map(function( cursor ) {\n\t\t\treturn { cursor: cursor.split('.') };\n\t\t}),\n\t\tsimplified = Utils.simplifyResolutionOrder( leaf, order );\n\n\treturn simplified;\n};\n\nUtils.dependencyTree = function( parentSrc, cursor, depTree ) {\n\tif ( !depTree ) {\n\t\tdepTree = new DepTree();\n\t}\n\n\tObject.keys( parentSrc ).forEach(function( i ) {\n\t\t// don't inspect local parameters, private properties and non-object\n\t\tif ( i === 'parameters' || i.indexOf('_') === 0 ||\n\t\t\t\ttypeof parentSrc[i] !== 'object' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar leafSrc = parentSrc[i],\n\t\t\tcurrCursor = cursor ? cursor + '.' + i : i;\n\n\t\tif ( ( leafSrc._updaters && leafSrc._updaters.length ) ||\n\t\t\t\t( leafSrc._dependencies && leafSrc._dependencies.length ) ) {\n\n\t\t\tdepTree.add( currCursor,\n\t\t\t\tleafSrc._dependencies.filter(function(dep) {\n\t\t\t\t\t// parentAnchors are always here when you need them\n\t\t\t\t\treturn !/^parentAnchors/.test(dep);\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\tif ( !leafSrc._operation ) {\n\t\t\tUtils.dependencyTree( leafSrc, currCursor, depTree );\n\t\t}\n\t});\n\n\treturn depTree;\n};\n\n// Simplify resolution order by removing cursors that don't point to objects\n// with updater functions\nUtils.simplifyResolutionOrder = function( leaf, depTree ) {\n\treturn depTree.filter(function( cursor ) {\n\t\tvar src = Utils.propFromCursor( cursor.cursor, leaf.src );\n\t\treturn src && src._updaters;\n\t});\n};\n\nvar rdeg = /deg$/;\nUtils.transformsToMatrix = function( transforms, origin ) {\n\tvar prev = new Float32Array(6),\n\t\tcurr = new Float32Array(6),\n\t\trslt = new Float32Array([ 1, 0, 0, 1, 0, 0 ]);\n\n\tif ( origin && Array.isArray( origin ) ) {\n\t\ttransforms.unshift([ 'translate', origin[0], origin[1] ]);\n\t\ttransforms.push([ 'translate', -origin[0], -origin[1] ]);\n\n\t} else if ( origin ) {\n\t\ttransforms.unshift([ 'translate', origin.x, origin.y ]);\n\t\ttransforms.push([ 'translate', -origin.x, -origin.y ]);\n\t}\n\n\ttransforms.forEach(function( transform ) {\n\t\tcurr[0] = curr[3] = 1;\n\t\tcurr[1] = curr[2] = curr[4] = curr[5] = 0;\n\n\t\t// convert degrees to radian\n\t\tfor ( var i = 1; i < transform.length; i++ ) {\n\t\t\tif ( transform[i] && typeof transform[i] === 'string' &&\n\t\t\t\t\trdeg.test(transform[i]) ) {\n\t\t\t\ttransform[i] = parseFloat(transform[i]) * ( Math.PI * 2 / 360 );\n\t\t\t}\n\t\t}\n\n\t\tswitch ( transform[0] ) {\n\t\tcase 'translateX':\n\t\t\tcurr[4] = transform[1];\n\t\t\tbreak;\n\n\t\tcase 'translateY':\n\t\t\tcurr[5] = transform[1];\n\t\t\tbreak;\n\n\t\tcase 'translate':\n\t\t\tcurr[4] = transform[1];\n\t\t\tcurr[5] = transform[2] || 0;\n\t\t\tbreak;\n\n\t\tcase 'rotate':\n\t\t\tcurr[0] = Math.cos( transform[1] );\n\t\t\tcurr[1] = Math.sin( transform[1] );\n\t\t\tcurr[2] = -curr[1];\n\t\t\tcurr[3] = curr[0];\n\t\t\tbreak;\n\n\t\tcase 'scaleX':\n\t\t\tcurr[0] = transform[1];\n\t\t\tbreak;\n\n\t\tcase 'scaleY':\n\t\t\tcurr[3] = transform[1];\n\t\t\tbreak;\n\n\t\tcase 'scale':\n\t\t\tcurr[0] = transform[1];\n\t\t\tcurr[3] = transform.length > 2 ? transform[2] : transform[1];\n\t\t\tbreak;\n\n\t\tcase 'skewX':\n\t\t\t// stop parsing transform when encountering skewX(90)\n\t\t\t// see http://stackoverflow.com/questions/21094958/how-to-deal-with-infinity-in-a-2d-matrix\n\t\t\ttransform[1] = transform[1] % ( 2 * Math.PI );\n\t\t\tif ( transform[1] === Math.PI / 2 ||\n\t\t\t\t\ttransform[1] === -Math.PI / 2 ) {\n\t\t\t\treturn rslt;\n\t\t\t}\n\t\t\tcurr[2] = Math.tan( transform[1] );\n\t\t\tbreak;\n\n\t\tcase 'skewY':\n\t\t\ttransform[1] = transform[1] % ( 2 * Math.PI );\n\t\t\tif ( transform[1] === Math.PI / 2 ||\n\t\t\t\t\ttransform[1] === -Math.PI / 2 ) {\n\t\t\t\treturn rslt;\n\t\t\t}\n\t\t\tcurr[1] = Math.tan( transform[1] );\n\t\t\tbreak;\n\n\t\tcase 'matrix':\n\t\t\tcurr[0] = transform[1];\n\t\t\tcurr[1] = transform[2];\n\t\t\tcurr[2] = transform[3];\n\t\t\tcurr[3] = transform[4];\n\t\t\tcurr[4] = transform[5];\n\t\t\tcurr[5] = transform[6];\n\t\t\tbreak;\n\t\t}\n\n\t\tprev[0] = rslt[0];\n\t\tprev[1] = rslt[1];\n\t\tprev[2] = rslt[2];\n\t\tprev[3] = rslt[3];\n\t\tprev[4] = rslt[4];\n\t\tprev[5] = rslt[5];\n\n\t\trslt[0] = prev[0] * curr[0] + prev[2] * curr[1];\n\t\trslt[1] = prev[1] * curr[0] + prev[3] * curr[1];\n\t\trslt[2] = ( prev[0] * curr[2] || 0 ) + prev[2] * curr[3];\n\t\trslt[3] = ( prev[1] * curr[2] || 0 ) + prev[3] * curr[3];\n\t\trslt[4] = prev[0] * curr[4] + prev[2] * curr[5] + prev[4];\n\t\trslt[5] = prev[1] * curr[4] + prev[3] * curr[5] + prev[5];\n\t});\n\n\treturn new paper.Matrix(\n\t\trslt[0],\n\t\trslt[1],\n\t\trslt[2],\n\t\trslt[3],\n\t\trslt[4],\n\t\trslt[5]\n\t);\n};\n\nUtils.updateParameters = function( leaf, params ) {\n\tvar paramsToUpdate = (leaf.src && leaf.src.parameters) || [];\n\n\tif (leaf.parent && leaf.parent.src) {\n\t\tparamsToUpdate = _.assign([], leaf.parent.src.parameters, paramsToUpdate);\n\t}\n\n\tObject.keys( ( leaf.src && paramsToUpdate ) || [] )\n\t\t.forEach(function( name ) {\n\t\t\tvar src = paramsToUpdate[name];\n\n\t\t\tparams[name] = src._updaters ?\n\t\t\t\tsrc._updaters[0].apply( null, [\n\t\t\t\t\tname, [], [], leaf.parentAnchors, Utils\n\t\t\t\t].concat(\n\t\t\t\t\t( src._parameters || [] ).map(function(_name) {\n\t\t\t\t\t\treturn params[_name];\n\t\t\t\t\t})\n\t\t\t\t)) :\n\t\t\t\tsrc;\n\t\t});\n};\n\nUtils.updateIndividualParameters = function( leaf, params ) {\n\tObject.keys( ( leaf.src && leaf.src.parameters ) || [] )\n\t\t.forEach(function( name ) {\n\t\t\tvar src = leaf.src.parameters[name];\n\n\t\t\tif ( params['indiv_group_param'] ) {\n\t\t\t\tObject.keys(params['indiv_group_param'])\n\t\t\t\t\t.forEach(function( groupName ) {\n\t\t\t\t\tvar needed = false;\n\t\t\t\t\tvar group = params['indiv_group_param'][groupName];\n\n\t\t\t\t\tfunction handleGroup(_name) {\n\t\t\t\t\t\treturn group[_name + '_rel'] ?\n\t\t\t\t\t\t\t( group[_name + '_rel'].state === 'relative' ?\n\t\t\t\t\t\t\t\tgroup[_name + '_rel'].value * params[_name] :\n\t\t\t\t\t\t\t\tgroup[_name + '_rel'].value + params[_name]\n\t\t\t\t\t\t\t) : params[_name];\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( src._parameters ) {\n\t\t\t\t\t\tsrc._parameters.forEach(function( parameter ) {\n\t\t\t\t\t\t\tneeded = needed || group[parameter + '_rel'];\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif ( needed ) {\n\t\t\t\t\t\t\tgroup[name] = src._updaters ?\n\t\t\t\t\t\t\t\tsrc._updaters[0].apply( null, [\n\t\t\t\t\t\t\t\t\tname, [], [], leaf.parentAnchors, Utils\n\t\t\t\t\t\t\t\t].concat(\n\t\t\t\t\t\t\t\t\t( src._parameters || [] )\n\t\t\t\t\t\t\t\t\t\t.map(handleGroup)\n\t\t\t\t\t\t\t\t)) :\n\t\t\t\t\t\t\t\tsrc;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n};\n\nUtils.updateProperties = function( leaf, params, erroredPreviously ) {\n\tif ( !leaf.solvingOrder ) {\n\t\treturn;\n\t}\n\tvar errored;\n\n\t// don't use forEach here as we might add items to the array during the loop\n\tfor ( var i = 0; i < leaf.solvingOrder.length; i++ ) {\n\t\tvar _cursor = leaf.solvingOrder[i],\n\t\t\tcursor = _cursor.cursor,\n\t\t\tpropName = cursor[ cursor.length - 1 ],\n\t\t\tsrc = _cursor.src || ( _cursor.src =\n\t\t\t\tUtils.propFromCursor( cursor, leaf.src ) ),\n\t\t\tobj = _cursor.obj || ( _cursor.obj =\n\t\t\t\tUtils.propFromCursor( cursor, leaf, cursor.length - 1 ) ),\n\t\t\t// TODO: one day we could allow multiple _updaters\n\t\t\tresult;\n\n\t\tif ( src && src._updaters ) {\n\t\t\ttry {\n\t\t\t\tresult = src._updaters[0].apply(\n\t\t\t\t\tobj,\n\t\t\t\t\t[\n\t\t\t\t\t\tpropName, leaf.contours, leaf.anchors,\n\t\t\t\t\t\tleaf.parentAnchors, Utils\n\t\t\t\t\t].concat(\n\t\t\t\t\t\t( src._parameters || [] ).map(function(_name) {\n\t\t\t\t\t\t\tif ( !(_name in params) ) {\n\t\t\t\t\t\t\t\t             \n                                       \n                     \n                               \n               \n                            \n                          \n                          \n                  \n          \n                                      \n                  \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn params[_name];\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t\tif ( typeof result === 'number' && isNaN(result) ) {\n\t\t\t\t\t             \n                                    \n                  \n                                 \n                       \n                       \n               \n       \n                                   \n               \n\t\t\t\t}\n\n\t\t\t} catch (e) {\n\t\t\t\t             \n                                   \n                 \n                                 \n                      \n                      \n               \n      \n      \n                                  \n              \n\n\t\t\t\t// add the failing properties at the end of the solvingOrder\n\t\t\t\tleaf.solvingOrder.push(_cursor);\n\t\t\t\terrored = true;\n\t\t\t}\n\t\t}\n\n\t\t// Assume that updaters returning undefined have their own\n\t\t// assignment logic\n\t\tif ( result !== undefined ) {\n\t\t\tif (params.manualChanges && params.manualChanges.cursors) {\n\t\t\t\tvar cursorName = cursor.join('.');\n\t\t\t\tvar changes = params.manualChanges.cursors[cursorName];\n\n\t\t\t\tif (typeof changes === 'number') {\n\t\t\t\t\tif (typeof result === 'string') {\n\t\t\t\t\t\tresult = (parseFloat(result) + changes / Math.PI * 180) + 'deg';\n\t\t\t\t\t} else if (typeof result === 'number') {\n\t\t\t\t\t\tresult += changes;\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof changes === 'object') {\n\t\t\t\t\tObject.keys(changes).forEach(key => {\n\t\t\t\t\t\tif (result.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tif (key !== 'width') {\n\t\t\t\t\t\t\t\tif (typeof result[key] === 'string') {\n\t\t\t\t\t\t\t\t\tresult[key] = (parseFloat(result[key]) + changes[key] / Math.PI * 180) + 'deg';\n\t\t\t\t\t\t\t\t} else if (typeof result[key] === 'number') {\n\t\t\t\t\t\t\t\t\tresult[key] += changes[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresult[key] *= 1 + changes[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tdelete params.manualChanges.cursors[cursorName];\n\t\t\t\t}\n\t\t\tobj[propName] = result;\n\t\t}\n\t}\n\n\tvar cursorKeys = params.manualChanges && params.manualChanges.cursors ? Object.keys(params.manualChanges.cursors) : [];\n\tvar validCursor = filter(cursorKeys, function(cursorString) {\n\t\tvar cursor = cursorString.split('.');\n\t\tvar tmpObj = Utils.propFromCursor( cursor, leaf, cursor.length - 1 );\n\n\t\treturn tmpObj !== undefined;\n\t});\n\tif (validCursor.length > 0) {\n\t\tfor (i = 0; i < validCursor.length; i++) {\n\t\t\tvar cursorKeyArray = validCursor[i].split('.');\n\t\t\tvar tmpObj = Utils.propFromCursor( cursorKeyArray, leaf, cursorKeyArray.length - 1 );\n\t\t\tvar tmpSrc;\n\t\t\tif (tmpObj.oldUpdaters && tmpObj.oldUpdaters[cursorKeyArray[cursorKeyArray.length - 1]]) {\n\t\t\t\ttmpSrc = tmpObj.oldUpdaters[cursorKeyArray[cursorKeyArray.length - 1]];\n\t\t\t} else {\n\t\t\t\ttmpSrc = {\n\t\t\t\t\t_updaters: [ Utils.createUpdater({\n\t\t\t\t\t\t_operation: JSON.stringify(tmpObj[cursorKeyArray[cursorKeyArray.length - 1]] || 0),\n\t\t\t\t\t}) ],\n\t\t\t\t};\n\t\t\t\ttmpObj.oldUpdaters = tmpObj.oldUpdaters || {};\n\t\t\t\ttmpObj.oldUpdaters[cursorKeyArray[cursorKeyArray.length - 1]] = tmpSrc;\n\t\t\t}\n\t\t\tvar newCursor = {\n\t\t\t\tcursor: cursorKeyArray,\n\t\t\t\tobj: tmpObj,\n\t\t\t\tsrc: tmpSrc,\n\t\t\t\tmanual: true,\n\t\t\t};\n\n\t\t\tleaf.solvingOrder.unshift(newCursor);\n\t\t\tparams.manualChanges.dirty--;\n\t\t}\n\t\terrored = true;\n\t\terroredPreviously = false;\n\t}\n\n\t// If one update errored, we're going to try once more, hoping things will\n\t// get resolved on the second pass.\n\tif ( errored && !erroredPreviously ) {\n\t\tUtils.updateProperties( leaf, params, true );\n\n\t// any error on the second try will cause it to throw\n\t} else if ( errored && erroredPreviously ) {\n\t\tthrow 'Too much update errors, giving up.';\n\t}\n};\n\n// The ascender and descender properties must be set to their maximum\n// values accross the individualized params groups\nUtils.updateXscenderProperties = function( font, params ) {\n\tif ( params['indiv_group_param'] ) {\n\t\tvar xscenderProperties = [\n\t\t\t'ascender',\n\t\t\t'descender',\n\t\t\t'cap-height',\n\t\t\t'descendent-height'\n\t\t];\n\n\t\txscenderProperties.forEach(function( name ) {\n\t\t\tvar src = font.src.fontinfo[ name ];\n\t\t\tObject.keys( params['indiv_group_param'] )\n\t\t\t\t.forEach(function( groupName ) {\n\t\t\t\tvar group = params['indiv_group_param'][groupName];\n\n\t\t\t\tvar sign = font.ot[name] > 0 ? 1 : -1;\n\n\t\t\t\tfont.ot[ name ] = sign * Math.max( Math.abs(font.ot[ name ]),\n\t\t\t\t\tMath.abs(src._updaters[0].apply(\n\t\t\t\t\t\tfont.ot,\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\tname, null, null, null, Utils\n\t\t\t\t\t\t].concat(\n\t\t\t\t\t\t\t( src._parameters || [] ).map(function(_name) {\n\t\t\t\t\t\t\t\treturn group[_name] || params[_name];\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t))\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t}\n}\n\nmodule.exports = Utils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Utils.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash.clonedeep/index.js\n// module id = 23\n// module chunks = 0","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Stack.js\n// module id = 24\n// module chunks = 0","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseGet.js\n// module id = 25\n// module chunks = 0","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsEqual.js\n// module id = 26\n// module chunks = 0","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIteratee.js\n// module id = 27\n// module chunks = 0","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_castPath.js\n// module id = 28\n// module chunks = 0","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_equalArrays.js\n// module id = 29\n// module chunks = 0","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_freeGlobal.js\n// module id = 30\n// module chunks = 0","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isIndex.js\n// module id = 31\n// module chunks = 0","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isStrictComparable.js\n// module id = 32\n// module chunks = 0","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_matchesStrictComparable.js\n// module id = 33\n// module chunks = 0","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_toSource.js\n// module id = 34\n// module chunks = 0","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/eq.js\n// module id = 35\n// module chunks = 0","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isArguments.js\n// module id = 36\n// module chunks = 0","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isArrayLike.js\n// module id = 37\n// module chunks = 0","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isBuffer.js\n// module id = 38\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isFunction.js\n// module id = 39\n// module chunks = 0","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isTypedArray.js\n// module id = 40\n// module chunks = 0","var plumin = require('plumin.js'),\n\tassign = require('lodash.assign'),\n\tcloneDeep = require('lodash.clonedeep'),\n\tUtils = require('./Utils.js'),\n\tnaive = require('./naive.js'),\n\tfind = require('lodash/find');\n\nvar paper = plumin.paper,\n\tpsProto = paper.PaperScope.prototype,\n\t_ = { assign: assign, find: find };\n\nfunction parametricFont( src ) {\n\tvar font = Utils.fontFromSrc( src );\n\n\tObject.keys( src.glyphs ).forEach(function( name ) {\n\t\tvar glyphSrc = src.glyphs[name];\n\n\t\tUtils.ufoToPaper( glyphSrc );\n\n\t\tvar glyph = Utils.glyphFromSrc( glyphSrc, src, naive );\n\n\t\tfont.addGlyph( glyph );\n\n\t\t// Create additional paths for skeletons and set ._dependencies\n\t\t// appropriately\n\t\tnaive.annotator( glyph );\n\n\t\t// solvingOrder might be already available (if this is a subcomponent,\n\t\t// or precomputed in a worker)\n\t\tif ( !glyph.solvingOrder ) {\n\t\t\tglyph.solvingOrder = glyphSrc.solvingOrder =\n\t\t\t\tUtils.solveDependencyTree( glyph );\n\t\t}\n\t});\n\n\t// all glyphs are ready, embed components now\n\tfont.glyphs.forEach(function( _glyph ) {\n\t\tif ( _glyph.embedComponents ) {\n\t\t\t_glyph.embedComponents();\n\t\t}\n\t});\n\n\treturn font;\n}\n\nplumin.parametricFont = parametricFont;\nplumin.Utils = Utils;\nplumin.Utils.naive = naive;\n\npsProto.Font.prototype.update = function( params, set ) {\n\tvar font = this;\n\tvar subset = this.getGlyphSubset(set);\n\n\tif (params.altList) {\n\t\tObject.keys(params.altList).forEach((unicode) => {\n\t\t\tconst charMap = font.charMap;\n\t\t\tif (charMap[unicode] && charMap[unicode].name !== params.altList[unicode]) {\n\t\t\t\tvar oldGlyph = charMap[unicode];\n\t\t\t\tfont.setAlternateFor(unicode, params.altList[unicode]);\n\n\t\t\t\tvar index = subset.indexOf(oldGlyph);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tsubset[index] = charMap[unicode];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tUtils.updateParameters( font, params );\n\n\t// Additionally, we must update the params of indiv group\n\tUtils.updateIndividualParameters( font, params );\n\n\tUtils.updateProperties( font, params );\n\n\tUtils.updateXscenderProperties( font, params );\n\n\tsubset.map(function( glyph ) {\n\t\treturn glyph.update( params );\n\t}, this);\n\n\t// We no longer support font transforms. Transforms should happen at the\n\t// glyph level, where they can be individualized.\n\n\treturn this;\n};\n\npsProto.Font.prototype.resetComponents = function() {\n\tthis.glyphs.forEach(function( glyph ) {\n\t\tglyph.resetComponents(this.src);\n\t}.bind(this));\n}\n\npsProto.Path.prototype._drawOld = psProto.Path.prototype._draw;\npsProto.Path.prototype._draw = function(ctx, param, viewMatrix, strokeMatrix) {\n\tif (this.applyMatrix) {\n\t\tvar realViewMatrix = new psProto.Matrix(\n\t\t\tthis.view.zoom / window.devicePixelRatio,\n\t\t\tviewMatrix.b / window.devicePixelRatio,\n\t\t\tviewMatrix.c / window.devicePixelRatio,\n\t\t\tthis.view.zoom / window.devicePixelRatio,\n\t\t\t(-this.view.center.x + this.view.bounds.width / 2) * this.view.zoom / window.devicePixelRatio,\n\t\t\t(-this.view.center.y + this.view.bounds.height / 2) * this.view.zoom / window.devicePixelRatio);\n\t\trealViewMatrix.a = realViewMatrix.a * this.parent.globalMatrix.a;\n\t\trealViewMatrix.d = realViewMatrix.d * this.parent.globalMatrix.d;\n\t\trealViewMatrix.tx = realViewMatrix.tx + this.parent.globalMatrix.tx * this.view.zoom / window.devicePixelRatio;\n\t\trealViewMatrix.ty = realViewMatrix.ty + this.parent.globalMatrix.ty * this.view.zoom / window.devicePixelRatio;\n\t\tthis._drawOld(ctx, param, realViewMatrix, realViewMatrix);\n\t} else {\n\t\tthis._drawOld(ctx, param, realViewMatrix, strokeMatrix);\n\t}\n};\n\npsProto.CompoundPath.prototype._drawOld = psProto.CompoundPath.prototype._draw;\npsProto.CompoundPath.prototype._draw = function(ctx, param, viewMatrix) {\n\tvar realViewMatrix = new psProto.Matrix(\n\t\tthis.view.zoom / window.devicePixelRatio,\n\t\tviewMatrix.b / window.devicePixelRatio,\n\t\tviewMatrix.c / window.devicePixelRatio,\n\t\tthis.view.zoom / window.devicePixelRatio,\n\t\t(-this.view.center.x + this.view.bounds.width / 2) * this.view.zoom / window.devicePixelRatio,\n\t\t(-this.view.center.y + this.view.bounds.height / 2) * this.view.zoom / window.devicePixelRatio);\n\trealViewMatrix.a = realViewMatrix.a * this.parent.globalMatrix.a;\n\trealViewMatrix.d = realViewMatrix.d * this.parent.globalMatrix.d;\n\trealViewMatrix.tx = realViewMatrix.tx + this.parent.globalMatrix.tx * this.view.zoom / window.devicePixelRatio;\n\trealViewMatrix.ty = realViewMatrix.ty + this.parent.globalMatrix.ty * this.view.zoom / window.devicePixelRatio;\n\tthis._drawOld(ctx, param, realViewMatrix, realViewMatrix);\n};\n\npsProto.Font.prototype.changeCursorsToManual = function(glyphUnicode, cursors) {\n\tvar font = this;\n\n\t// TODO manage alternates\n\tfont.altMap[glyphUnicode][0].changeCursorsToManual(cursors);\n}\n\npsProto.Font.prototype.setAlternatesFor = function(unicode, glyphName) {\n\tvar font = this;\n\tvar glyph = font.charMap[unicode].src;\n\tvar nextGlyph = font.children[glyphName].src;\n\tvar result = [];\n\n\t(glyph.relatedGlyphs || []).forEach(function(name) {\n\t\tvar relatedGlyph = font.children[name].src;\n\t\tvar alternateName = relatedGlyph.name.replace(relatedGlyph.base || relatedGlyph.name, nextGlyph.base || nextGlyph.name);\n\n\t\tif (font.children[alternateName]) { // checking alternate's existence\n\t\t\tfont.setAlternateFor(\n\t\t\t\trelatedGlyph.unicode,\n\t\t\t\talternateName\n\t\t\t);\n\t\t\tresult.push({\n\t\t\t\tglyph: relatedGlyph.unicode,\n\t\t\t\tname: alternateName\n\t\t\t});\n\t\t}\n\t});\n\n\tfont.setAlternateFor(unicode, glyphName);\n\tresult.push({\n\t\tglyph: unicode,\n\t\tname: glyphName\n\t});\n\n\treturn result;\n};\n\n/* Update the shape of the glyph, according to formula and parameters\n * 0. before running, nodes have already been created by ParametricFont\n *   (including expanded ones thanks to naive.expandSkeletons). And static\n *   properties have been copied over to those nodes\n * 1. We use the solving order to calculate all node properties\n * 2. transform contours\n * 3. Update components and transform them\n */\npsProto.Glyph.prototype.update = function( _params ) {\n\tvar glyph = this,\n\t\tfont = glyph.parent,\n\t\tmatrix,\n\t\tsubset = font.subset,\n\t\tparams;\n\n\tif (_params) {\n\t\tthis.oldParams = _params;\n\t} else if (this.oldParams) {\n\t\t_params = this.oldParams;\n\t} else {\n\t\treturn;\n\t}\n\n\tif (_params.altList && font.charMap && subset) {\n\t\tconst unicode = _.find(Object.keys(_params.altList), (o) => {\n\t\t\treturn parseInt(o) === this.ot.unicode;\n\t\t});\n\t\tif (unicode && this.name !== _params.altList[unicode].name) {\n\t\t\tconst charMap = font.charMap;\n\t\t\tif (charMap[unicode] && charMap[unicode].name !== _params.altList[unicode]) {\n\t\t\t\tvar index = subset.indexOf(charMap[unicode]);\n\t\t\t\tfont.setAlternateFor(unicode, _params.altList[unicode]);\n\n\t\t\t\tsubset[index] = charMap[unicode];\n\t\t\t\tcharMap[unicode].update(_params, subset);\n\t\t\t\treturn charMap[unicode];\n\t\t\t}\n\t\t}\n\t}\n\n\t// 0. calculate local parameters\n\tif ( _params['indiv_glyphs'] &&\n\t\t\tObject.keys( _params['indiv_glyphs'] )\n\t\t\t\t.indexOf( '' + glyph.ot.unicode ) !== -1 ) {\n\n\t\tvar indivParam = {};\n\n\t\tObject.keys( _params ).forEach(function( param ) {\n\t\t\tif ( typeof _params[param] === 'number' ) {\n\t\t\t\tvar groups = _params['indiv_group_param'][\n\t\t\t\t\t\t_params['indiv_glyphs'][glyph.ot.unicode]\n\t\t\t\t\t] || {},\n\t\t\t\t\tmultiplier = groups[param + '_rel'] || {\n\t\t\t\t\t\tstate: 'relative',\n\t\t\t\t\t\tvalue: 1\n\t\t\t\t\t};\n\n\t\t\t\tindivParam[param] = groups[param] ||\n\t\t\t\t\t( multiplier.state === 'relative' ?\n\t\t\t\t\t\t(multiplier.value * _params[param]) :\n\t\t\t\t\t\t(multiplier.value + _params[param])\n\t\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\tparams = _.assign( {}, _params, indivParam, glyph.parentParameters );\n\t} else {\n\t\tparams = _.assign( {}, _params, glyph.parentParameters );\n\t}\n\n\tUtils.updateParameters( glyph, params );\n\n\t// original values backup\n\tglyph.baseSpacingLeft = params.spacingLeft;\n\tglyph.baseSpacingRight = params.spacingRight;\n\n\t// if we have special properties to compute\n\tif (params.glyphSpecialProps && params.glyphSpecialProps[glyph.ot.unicode]) {\n\t\tvar propsToUpdate = params.glyphSpecialProps[glyph.ot.unicode];\n\n\t\tObject.keys(propsToUpdate).forEach(function(property) {\n\t\t\tparams[property] = params[property] + propsToUpdate[property];\n\t\t});\n\t}\n\n\tglyph.spacingLeft = params.spacingLeft;\n\tglyph.spacingRight = params.spacingRight;\n\n\t// parentParameters always overwrite glyph parameters. Use aliases\n\t// (e.g. _width) to let glyph have the final word\n\t_.assign( params, glyph.parentParameters );\n\n\tif (params.glyphComponentChoice && params.glyphComponentChoice[glyph.ot.unicode]) {\n\t\tvar componentsChoices = params.glyphComponentChoice[glyph.ot.unicode];\n\t\tObject.keys(componentsChoices).forEach(function(key) {\n\t\t\tvar componentFilter = glyph.components.filter(function(comp) {\n\t\t\t\treturn comp.componentId === key;\n\t\t\t});\n\t\t\tif (componentFilter.length > 0) {\n\t\t\t\tvar component = componentFilter[0];\n\t\t\t\tvar availableComponent = (\n\t\t\t\t\tglyph.src.components.find(function(compAvail) { return compAvail.id === key}) ||\n\t\t\t\t\t{ base: [] }\n\t\t\t\t).base.indexOf(componentsChoices[key]) !== -1;\n\n\t\t\t\tif (component.chosen !== componentsChoices[key] && availableComponent) {\n\t\t\t\t\tglyph.changeComponent(key, componentsChoices[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// 1. calculate node properties\n\n\tif (_params.manualChanges) {\n\t\tparams.manualChanges = cloneDeep(_params.manualChanges[glyph.name]);\n\t}\n\tUtils.updateProperties( glyph, params );\n\n\t// 2. transform contours\n\tthis.contours.forEach(function(contour) {\n\t\t// a. transform the nodes\n\t\tcontour.nodes.forEach(function(node) {\n\t\t\tif ( node.transforms ) {\n\t\t\t\tmatrix = Utils.transformsToMatrix(\n\t\t\t\t\tnode.transforms.slice(0), node.transformOrigin\n\t\t\t\t);\n\n\t\t\t\tif ( contour.skeleton !== true ) {\n\t\t\t\t\tnode.transform(matrix);\n\n\t\t\t\t// when dealing with a skeleton, modify only the matrix of\n\t\t\t\t// expanded items\n\t\t\t\t} else {\n\t\t\t\t\tnode.expandedTo.forEach(function( _node ) {\n\t\t\t\t\t\t_node.transform(matrix);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// b. transform the contour\n\t\t// prepare and update outlines and expanded contours, but not\n\t\t// skeletons\n\t\tif ( contour.transforms ) {\n\t\t\tmatrix = Utils.transformsToMatrix(\n\t\t\t\tcontour.transforms.slice(0), contour.transformOrigin\n\t\t\t);\n\n\t\t\tif ( contour.skeleton !== true ) {\n\t\t\t\t// We don't want to apply the transforms immediatly on contours,\n\t\t\t\t// otherwise the transformation will add-up on each update.\n\t\t\t\tcontour.applyMatrix = false;\n\t\t\t\tcontour.matrix = matrix;\n\n\t\t\t// when dealing with a skeleton, modify only the matrix of\n\t\t\t// expanded items\n\t\t\t} else {\n\t\t\t\tcontour.expandedTo.forEach(function( _contour ) {\n\t\t\t\t\t_contour.applyMatrix = false;\n\t\t\t\t\t_contour.matrix = matrix;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, this);\n\n\t// 3. update components and transform components\n\tif ( this.components.length && font ) {\n\t\t// subcomponents have the parent component as their parent\n\t\t// so search for the font\n\t\twhile ( !('glyphs' in font) ) {\n\t\t\tfont = font.parent;\n\t\t}\n\n\t\tthis.components.forEach(function(component) {\n\t\t\tcomponent.update( params );\n\n\t\t\tif ( component.transforms ) {\n\t\t\t\tmatrix = Utils.transformsToMatrix(\n\t\t\t\t\tcomponent.transforms.slice(0), component.transformOrigin\n\t\t\t\t);\n\n\t\t\t\tcomponent.applyMatrix = false;\n\t\t\t\tcomponent.matrix = matrix;\n\t\t\t}\n\t\t}, this);\n\t}\n\n\t// 4. transform whole glyph\n\tif ( glyph.transforms ) {\n\n\t\tmatrix = Utils.transformsToMatrix(\n\t\t\tglyph.transforms.slice(0), glyph.transformOrigin\n\t\t);\n\n\t\tglyph.applyMatrix = false;\n\t\tglyph.matrix = matrix;\n\t}\n\n\tglyph.glyphWidth = glyph.bounds.width;\n\n\treturn this;\n};\n\npsProto.Glyph.prototype.resetComponents = function() {\n\tif (this.src) {\n\t\tthis.src.components.forEach(function(componentSrc) {\n\t\t\tif (Array.isArray(componentSrc.base)) {\n\t\t\t\tthis.changeComponent(componentSrc.id, componentSrc.base[0]);\n\t\t\t}\n\t\t}.bind(this));\n\t}\n}\n\npsProto.Glyph.prototype.changeComponent = function(componentId, componentName) {\n\tvar glyph = this;\n\t//We remove the old components\n\tvar componentToDelete = glyph.components.filter(function(comp) { return comp.componentId === componentId })[0];\n\t//And remove its handle from the view\n\tcomponentToDelete.contours.forEach(function(contour) {\n\t\tcontour.fullySelected = false;\n\t});\n\t//And add the correct components\n\tvar componentSrc = glyph.src.components.filter(function(comp) { return comp.id === componentId })[0];\n\tglyph.solvingOrder = undefined;\n\tglyph.src.solvingOrder = undefined;\n\tUtils.selectGlyphComponent(\n\t\tglyph,\n\t\tcomponentSrc,\n\t\tcomponentName,\n\t\tglyph.parent.src,\n\t\tUtils.naive,\n\t\tcomponentId, glyph.components.indexOf(componentToDelete));\n\tglyph.solvingOrder = glyph.src.solvingOrder = Utils.solveDependencyTree(glyph);\n\tglyph.update();\n}\n\n// Before updating SVG or OpenType data, we must determine paths exports\n// directions. Basically, everything needs to be clockwise.\n// this method needs to be called only after the first update, otherwise the\n// directions won't be known\npsProto.Outline.prototype.prepareDataUpdate = function() {\n\tif ( this.isPrepared ) {\n\t\treturn;\n\t}\n\n\tthis.children.forEach(function(contour) {\n\t\t// expanded contours are handled from their skeleton\n\t\tif ( contour.expandedFrom || contour.exportReversed) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( contour.skeleton !== true) {\n\t\t\tcontour.exportReversed = !contour.isClockwise();\n\n\t\t} else if ( !contour.expandedTo[1] ) {\n\t\t\tcontour.expandedTo[0].exportReversed =\n\t\t\t\t!contour.expandedTo[0].isClockwise();\n\n\t\t} else {\n\t\t\tvar isClockwise = contour.isClockwise();\n\n\t\t\tcontour.expandedTo[0].exportReversed = !isClockwise;\n\t\t\tcontour.expandedTo[1].exportReversed = !isClockwise;\n\t\t}\n\t});\n\n\tthis.isPrepared = true;\n};\n\n// for the following plumin methods, the outline must be prepared beforehand\n// to be usable in prototypo.js\n[ 'updateSVGData', 'updateOTCommands', 'combineTo' ].forEach(function(name) {\n\tvar method = paper.PaperScope.prototype.Outline.prototype[ name ];\n\n\tpsProto.Outline.prototype[ name ] = function() {\n\t\tif ( !this.isPrepared ) {\n\t\t\tthis.prepareDataUpdate();\n\t\t\tthis.isPrepared = true;\n\t\t}\n\n\t\treturn method.apply( this, arguments );\n\t};\n});\n\nplumin.cloneDeep = cloneDeep;\n\nmodule.exports = plumin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/prototypo.js","var plumin = require('plumin.js'),\n\tassign = require('lodash.assign'),\n\tUtils = require('./Utils.js');\n\nvar paper = plumin.paper,\n\tnaive = {},\n\t_ = { assign: assign };\n\nfunction autoExpandableNodeSrc( node, i, j, inSkeleton ) {\n\treturn {\n\t\tpoint: { _dependencies: [\n\t\t\tUtils.cursor( i, j, 'x' ),\n\t\t\tUtils.cursor( i, j, 'y' )\n\t\t] },\n\t\tall: { _dependencies: Object.keys( node.src ).map(function( key ) {\n\t\t\treturn Utils.cursor( i, j, key );\n\t\t}) },\n\t\t_dependencies: inSkeleton ?\n\t\t\t// nodes in skeleton are never fully calculated (we don't calculate\n\t\t\t// the position of handles because we never draw their contour).\n\t\t\t// So we don't care about their dependencies.\n\t\t\t[] :\n\t\t\t[ Utils.cursor( 'contours', i, 'all' ) ]\n\t};\n}\n\nfunction autoExpandedNodeSrc( node, i, j, side, isClosed ) {\n\treturn {\n\t\tx: { _dependencies: [\n\t\t\tUtils.cursor( i, j, 'expandedTo', side, 'point' )\n\t\t] },\n\t\ty: { _dependencies: [\n\t\t\tUtils.cursor( i, j, 'expandedTo', side, 'point' )\n\t\t] },\n\t\tpoint: {\n\t\t\t_dependencies: [\n\t\t\t\tUtils.cursor( i, j, 'x' ),\n\t\t\t\tUtils.cursor( i, j, 'y' ),\n\t\t\t\tUtils.cursor( i, j, 'expand' )\n\t\t\t],\n\t\t\t_parameters: [ 'width' ],\n\t\t\t_updaters: [ function() {\n\t\t\t\tvar width = arguments[\n\t\t\t\t\t\targuments.length - 1\n\t\t\t\t\t];\n\n\t\t\t\tnaive.expandedNodeUpdater(\n\t\t\t\t\tnode.expandedTo[side], side === 0, width\n\t\t\t\t);\n\t\t\t} ]\n\t\t},\n\t\tall: {\n\t\t\t_dependencies: Object.keys( node.src ).map(function( key ) {\n\t\t\t\t\treturn Utils.cursor( i, j, key );\n\t\t\t}).concat([\n\t\t\t\tUtils.cursor( i, j, 'expandedTo', side, 'point' )\n\t\t\t]),\n\t\t\t_updaters: [ function() {\n\t\t\t\tnaive.skeletonCopier( node );\n\t\t\t} ]\n\t\t},\n\t\t_dependencies: [\n\t\t\tUtils.cursor( 'contours', i, 'expandedTo',\n\t\t\t\t( isClosed ? side : 0 ), 'all' )\n\t\t]\n\t};\n}\n\nfunction explicitExpandableNodeSrc( node, i, j ) {\n\treturn {\n\t\tpoint: { _dependencies: [] },\n\t\tall: { _dependencies: [ 0, 1 ].map(function( side ) {\n\t\t\treturn Utils.cursor( i, j, 'expandedTo', side, 'all' );\n\t\t}) },\n\t\t_dependencies: []\n\t};\n}\n\nfunction explicitExpandedNodeSrc( node, i, j, side, isClosed ) {\n\treturn {\n\t\tpoint: { _dependencies: [\n\t\t\t\tUtils.cursor( i, j, 'expandedTo', side, 'x' ),\n\t\t\t\tUtils.cursor( i, j, 'expandedTo', side, 'y' )\n\t\t] },\n\t\tall: { _dependencies:\n\t\t\tObject.keys( node.src.expandedTo[ side ] ).map(function( key ) {\n\t\t\t\treturn Utils.cursor( i, j, 'expandedTo', side, key );\n\t\t\t})\n\t\t},\n\t\t_dependencies: [\n\t\t\tUtils.cursor( 'contours', i, 'expandedTo',\n\t\t\t\t( isClosed ? side : 0 ), 'all' )\n\t\t]\n\t};\n}\n\nfunction expandedContourSrc( contour, i, side ) {\n\tvar half = contour.nodes.length / 2;\n\n\treturn {\n\t\tall: {\n\t\t\t_dependencies: contour.nodes.map(function(node, j) {\n\t\t\t\treturn side !== undefined ?\n\t\t\t\t\tUtils.cursor( i, j, 'expandedTo', side, 'all' ) :\n\t\t\t\t\tUtils.cursor(\n\t\t\t\t\t\ti, j % half, 'expandedTo', ( j < half ? 0 : 1 ), 'all'\n\t\t\t\t\t);\n\t\t\t}),\n\t\t\t_parameters: [ 'curviness' ],\n\t\t\t_updaters: [ function() {\n\t\t\t\tvar curviness = arguments[ arguments.length - 1 ];\n\n\t\t\t\tnaive.prepareContour( contour );\n\t\t\t\tnaive.updateContour( contour, curviness );\n\t\t\t} ]\n\t\t},\n\t\t// nodes: nodesSrc,\n\t\t_dependencies: [\n\t\t\tUtils.cursor( 'contours', i, 'expandedTo', side || 0, 'all' )\n\t\t]\n\t};\n}\n\nfunction contourSrc( contour, i ) {\n\treturn {\n\t\tall: {\n\t\t\t_dependencies: contour.nodes.map(function( node, j ) {\n\t\t\t\treturn Utils.cursor( i, j, 'all' );\n\t\t\t}),\n\t\t\t_parameters: [ 'curviness' ],\n\t\t\t_updaters: [ function() {\n\t\t\t\tvar curviness = arguments[ arguments.length - 1 ];\n\n\t\t\t\tnaive.prepareContour( contour );\n\t\t\t\tnaive.updateContour( contour, curviness );\n\t\t\t} ]\n\t\t},\n\t\t_dependencies: contour.nodes.map(function( node, j ) {\n\t\t\treturn Utils.cursor( i, j );\n\t\t})\n\t};\n}\n\n// default method to expand skeletons:\n// derives two additional node from every node with an .expand object\nnaive.annotator = function( glyph ) {\n\tvar additionalContours = [];\n\n\tglyph.contours.forEach(function( contour, i ) {\n\t\tif ( contour.skeleton !== true ) {\n\t\t\t// annotate nodes+points that aren't in a skeleton\n\t\t\tcontour.nodes.forEach(function( node, j ) {\n\t\t\t\t_.assign( node.src, autoExpandableNodeSrc( node, i, j ) );\n\t\t\t});\n\n\t\t\t_.assign( contour.src, contourSrc( contour, i ) );\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar leftContour,\n\t\t\trightContour,\n\t\t\tleftNodes = [],\n\t\t\trightNodes = [],\n\t\t\tleftNodesSrc = [],\n\t\t\trightNodesSrc = [],\n\t\t\tfirstNode,\n\t\t\tlastNode;\n\n\t\t// skeletons should be hidden\n\t\tcontour.visible = false;\n\n\t\tcontour.nodes.forEach(function( node, j ) {\n\n\t\t\tvar left = new paper.Node(),\n\t\t\t\tright = new paper.Node(),\n\t\t\t\tleftSrc,\n\t\t\t\trightSrc;\n\n\t\t\tleftNodes.push(left);\n\t\t\trightNodes.unshift(right);\n\t\t\tnode.expandedTo = [ left, right ];\n\t\t\tleft.expandedFrom = right.expandedFrom = node;\n\n\t\t\tif ( !node.src.expandedTo ) {\n\t\t\t\t// annotate nodes+points that are automatically expanded\n\t\t\t\tleftSrc = autoExpandedNodeSrc( node, i, j, 0, contour.closed );\n\t\t\t\trightSrc = autoExpandedNodeSrc( node, i, j, 1, contour.closed );\n\t\t\t\tnode.src.expandedTo = [ leftSrc, rightSrc ];\n\t\t\t\t_.assign( node.src,\n\t\t\t\t\tautoExpandableNodeSrc( node, i, j, !!'inSkeleton' ) );\n\n\t\t\t// the expanded node might have been defined explicitely\n\t\t\t} else if ( node.src.expandedTo[0] &&\n\t\t\t\t\t!node.src.expandedTo[0]._updaters ) {\n\t\t\t\tnode.src.expandedTo.forEach(function( src, k ) {\n\t\t\t\t\tUtils.mergeStatic( node.expandedTo[k], src );\n\t\t\t\t});\n\n\t\t\t\t// annotate nodes+points that are explicitely expanded\n\t\t\t\tleftSrc = _.assign( node.src.expandedTo[0],\n\t\t\t\t\texplicitExpandedNodeSrc( node, i, j, 0, contour.closed )\n\t\t\t\t);\n\t\t\t\trightSrc = _.assign( node.src.expandedTo[1],\n\t\t\t\t\texplicitExpandedNodeSrc( node, i, j, 1, contour.closed )\n\t\t\t\t);\n\n\t\t\t\t_.assign( node.src,\n\t\t\t\t\texplicitExpandableNodeSrc( node, i, j ) );\n\n\t\t\t\t// A leaf shouldn't appear twice during the recursive\n\t\t\t\t// dependency-tree building. Make the expanded nodes accessible\n\t\t\t\t// from expanded contours, and provide accessors on the\n\t\t\t\t// .expandedFrom node.\n\t\t\t\t// leftNodesSrc.push( leftSrc );\n\t\t\t\t// rightNodesSrc.push( rightSrc );\n\t\t\t}\n\n\t\t\t// if ( leftSrc && rightSrc ) {\n\t\t\t// \tObject.defineProperties( node.src.expandedTo = {}, {\n\t\t\t// \t\t0: { get: function() {\n\t\t\t// \t\t\treturn leftSrc;\n\t\t\t// \t\t}},\n\t\t\t// \t\t1: { get: function() {\n\t\t\t// \t\t\t\treturn rightSrc;\n\t\t\t// \t\t}}\n\t\t\t// \t});\n\t\t\t// }\n\t\t});\n\n\t\tif ( !contour.expandedTo && !contour.closed ) {\n\t\t\tleftContour = new paper.Path({\n\t\t\t\tclosed: true,\n\t\t\t\tsegments: leftNodes.concat(rightNodes)\n\t\t\t});\n\t\t\tcontour.expandedTo = [ leftContour ];\n\t\t\tcontour.src.expandedTo = [\n\t\t\t\texpandedContourSrc( leftContour, i\n\t\t\t\t\t//, 0, leftNodesSrc.concat( rightNodesSrc )\n\t\t\t\t)\n\t\t\t];\n\t\t\tleftContour.expandedFrom = contour;\n\t\t\tadditionalContours.push( leftContour );\n\n\t\t\tfirstNode = contour.firstNode;\n\t\t\tlastNode = contour.lastNode;\n\n\t\t\tfirstNode.type = 'corner';\n\t\t\tlastNode.type = 'corner';\n\n\t\t\tfirstNode.expandedTo[0].type = 'corner';\n\t\t\tfirstNode.expandedTo[1].type = 'corner';\n\t\t\tlastNode.expandedTo[0].type = 'corner';\n\t\t\tlastNode.expandedTo[1].type = 'corner';\n\n\t\t\tfirstNode.expandedTo[0].typeIn = 'line';\n\t\t\tfirstNode.expandedTo[1].typeOut = 'line';\n\t\t\tlastNode.expandedTo[0].typeOut = 'line';\n\t\t\tlastNode.expandedTo[1].typeIn = 'line';\n\n\t\t} else if ( !contour.expandedTo && contour.closed ) {\n\t\t\tleftContour = new paper.Path({\n\t\t\t\tclosed: true,\n\t\t\t\tsegments: leftNodes\n\t\t\t});\n\t\t\tadditionalContours.push( leftContour );\n\t\t\trightContour = new paper.Path({\n\t\t\t\tclosed: true,\n\t\t\t\tsegments: rightNodes\n\t\t\t});\n\t\t\tadditionalContours.push( rightContour );\n\n\t\t\tcontour.expandedTo = [\n\t\t\t\tleftContour,\n\t\t\t\trightContour\n\t\t\t];\n\t\t\tcontour.src.expandedTo = [\n\t\t\t\texpandedContourSrc( leftContour, i, 0, leftNodesSrc ),\n\t\t\t\texpandedContourSrc( rightContour, i, 1, rightNodesSrc )\n\t\t\t];\n\t\t\tleftContour.expandedFrom = rightContour.expandedFrom = contour;\n\t\t}\n\t});\n\n\tglyph.addContours( additionalContours );\n};\n\n// Calculate expanded node position\nnaive.expandedNodeUpdater = function( node, isLeft, _width ) {\n\tvar origin = node.expandedFrom,\n\t\texpand = origin.expand,\n\t\twidth = expand && expand.width !== undefined ?\n\t\t\texpand.width : _width,\n\t\tcoef = expand && expand.distr !== undefined ?\n\t\t\t( isLeft ? expand.distr : 1 - expand.distr ) :\n\t\t\t0.5,\n\t\tangle = ( isLeft ? Math.PI : 0 ) +\n\t\t\t( expand && expand.angle !== undefined ?\n\t\t\t\texpand.angle :\n\t\t\t\t// We resort to using directions.\n\t\t\t\t// This is wrong, directions are not included in the\n\t\t\t\t// dependencies of the updater and might not be ready yet.\n\t\t\t\t// TODO: Fix this (always require angle to be specified?)\n\t\t\t\t( origin._dirOut !== undefined ?\n\t\t\t\t\torigin._dirOut - Math.PI / 2 :\n\t\t\t\t\torigin._dirIn + Math.PI / 2\n\t\t\t\t)\n\t\t\t);\n\n\t// position\n\tnode.point.x = origin.point.x + ( width * coef * Math.cos( angle ) );\n\tnode.point.y = origin.point.y + ( width * coef * Math.sin( angle ) );\n};\n\n// copy skeleton properties such as types, directions and tensions to expanded\n// nodes\nnaive.skeletonCopier = function( node ) {\n\tvar angle = node.expand && node.expand.angle || 0,\n\t\tleft = node.expandedTo[0],\n\t\tright = node.expandedTo[1];\n\n\t// node type\n\tif ( node.type !== undefined ) {\n\t\tleft.type = right.type = node.type;\n\t}\n\n\t// direction type\n\tif ( node.typeIn !== undefined ) {\n\t\tleft.typeIn = right.typeOut = node.typeIn;\n\t}\n\tif ( node.typeOut !== undefined ) {\n\t\tleft.typeOut = right.typeIn = node.typeOut;\n\t}\n\n\t// direction\n\tif ( node._dirIn !== undefined ) {\n\t\tleft._dirIn = right._dirOut = node._dirIn;\n\n\t\tif ( node.type === 'smooth' && !node._dirOut) {\n\t\t\tleft._dirOut = right._dirIn = node._dirIn + Math.PI;\n\t\t}\n\t}\n\tif ( node._dirOut !== undefined ) {\n\t\tleft._dirOut = right._dirIn = node._dirOut;\n\n\t\tif ( node.type === 'smooth' && !node._dirIn) {\n\t\t\tleft._dirIn = right._dirOut = node._dirOut + Math.PI;\n\t\t}\n\t}\n\t// use angle if direction isn't already defined\n\tif ( left._dirIn === undefined ) { // implies right._dirOut === undefined\n\t\tleft._dirIn = angle - Math.PI / 2;\n\t\tright._dirOut = angle + Math.PI / 2;\n\t}\n\tif ( left._dirOut === undefined ) { // implies right._dirIn === undefined\n\t\tleft._dirOut = angle + Math.PI / 2;\n\t\tright._dirIn = angle - Math.PI / 2;\n\t}\n\n\t// tension\n\tleft.tensionIn = right.tensionOut = node.tensionIn !== undefined ?\n\t\tnode.tensionIn :\n\t\t( node.tension !== undefined ? node.tension : 1 );\n\tleft.tensionOut = right.tensionIn = node.tensionOut !== undefined ?\n\t\tnode.tensionOut :\n\t\t( node.tension !== undefined ? node.tension : 1 );\n};\n\n// Make sure 'line' types are set on both side of segments\n// and if a smooth node is used in a straight segment, update the directions\n// appropriately this can only be done once the types, directions and position\n// of all nodes have been updated can be renamed #prepareLines if no other\n// operation is added\n// TODO: try doing it at the same time as updateContour (once we have more\n// complex glyphs)\nnaive.prepareContour = function( path ) {\n\tpath.nodes.forEach(function(node) {\n\t\tif ( node.typeIn === 'line' && node.previous ) {\n\t\t\tnode.previous.typeOut = 'line';\n\t\t}\n\n\t\tif ( node.typeOut === 'line' && node.next ) {\n\t\t\tnode.next.typeIn = 'line';\n\t\t}\n\t});\n\n\tpath.nodes.forEach(function(node) {\n\t\tif ( node.typeIn === 'line' && node.type === 'smooth' &&\n\t\t\t\tnode.previous ) {\n\n\t\t\tnode._dirIn = Utils.lineAngle(\n\t\t\t\tnode.point, node.previous.point\n\t\t\t);\n\t\t\tnode._dirOut = node._dirIn + Math.PI;\n\t\t}\n\n\t\tif ( node.typeOut === 'line' && node.type === 'smooth' &&\n\t\t\t\tnode.next ) {\n\n\t\t\tnode._dirOut = Utils.lineAngle(\n\t\t\t\tnode.point, node.next.point\n\t\t\t);\n\t\t\tnode._dirIn = node._dirOut + Math.PI;\n\t\t}\n\t});\n};\n\n// sets the position of control points\n// can be renamed #updateControls if no other operation is added\nnaive.updateContour = function( path, curviness ) {\n\tif ( curviness === undefined ) {\n\t\tcurviness = 2 / 3;\n\t}\n\n\tpath.nodes.forEach(function(node) {\n\t\tvar start = node,\n\t\t\tend,\n\t\t\tstartCtrl,\n\t\t\tendCtrl,\n\t\t\tstartType,\n\t\t\tendType,\n\t\t\tstartTension,\n\t\t\tendTension,\n\t\t\tstartDir,\n\t\t\tendDir,\n\t\t\trri;\n\n\t\tif ( !node.next ) {\n\t\t\treturn;\n\t\t}\n\n\t\tend = node.next;\n\t\tstartCtrl = start.handleOut;\n\t\tendCtrl = end.handleIn;\n\n\t\tstartType = start.typeOut;\n\t\tendType = end.typeIn;\n\n\t\tif ( startType === 'line' || endType === 'line' ) {\n\t\t\tstartCtrl.x = 0;\n\t\t\tstartCtrl.y = 0;\n\t\t\tendCtrl.x = 0;\n\t\t\tendCtrl.y = 0;\n\n\t\t\treturn;\n\t\t}\n\n\t\tstartTension = start.tensionOut !== undefined ?\n\t\t\tstart.tensionOut :\n\t\t\t( start.tension !== undefined ? start.tension : 1 );\n\t\tendTension = end.tensionIn !== undefined ?\n\t\t\tend.tensionIn :\n\t\t\t( end.tension !== undefined ? end.tension : 1 );\n\n\t\tstartDir = start._dirOut !== undefined ?\n\t\t\tstart._dirOut :\n\t\t\t( start.type === 'smooth' ? start._dirIn + Math.PI : 0 );\n\t\tendDir = end._dirIn !== undefined ?\n\t\t\tend._dirIn :\n\t\t\t( end.type === 'smooth' ? end._dirOut - Math.PI : 0 );\n\n\t\trri = Utils.rayRayIntersection(\n\t\t\tstart._point,\n\t\t\tstartDir,\n\t\t\tend._point,\n\t\t\tendDir\n\t\t);\n\n\t\t// direction of handles is parallel\n\t\tif ( rri === null ) {\n\t\t\tvar angle = Utils.lineAngle( start._point, end._point ),\n\t\t\t\tmiddle = {\n\t\t\t\t\tx: ( end._point.x - start._point.x ) / 2 + start._point.x,\n\t\t\t\t\ty: ( end._point.y - start._point.y ) / 2 + start._point.y\n\t\t\t\t},\n\t\t\t\tp0 = Utils.rayRayIntersection(\n\t\t\t\t\tstart._point, startDir, middle, angle - Math.PI / 2\n\t\t\t\t),\n\t\t\t\tp1 = Utils.rayRayIntersection(\n\t\t\t\t\tmiddle, angle + Math.PI / 2, end._point, endDir\n\t\t\t\t);\n\n\t\t\tif ( p0 === null ) {\n\t\t\t\tstartCtrl.x = 0;\n\t\t\t\tstartCtrl.y = 0;\n\t\t\t\tendCtrl.x = 0;\n\t\t\t\tendCtrl.y = 0;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstartCtrl.x = ( Math.round(p0[0]) - start._point.x ) *\n\t\t\t\tcurviness * startTension;\n\t\t\tstartCtrl.y = ( Math.round(p0[1]) - start._point.y ) *\n\t\t\t\tcurviness * startTension;\n\t\t\tendCtrl.x = ( Math.round(p1[0]) - end._point.x ) *\n\t\t\t\tcurviness * endTension;\n\t\t\tendCtrl.y = ( Math.round(p1[1]) - end._point.y ) *\n\t\t\t\tcurviness * endTension;\n\n\t\t\treturn;\n\t\t}\n\n\t\tstartCtrl.x = ( Math.round(rri[0]) - start.point.x ) *\n\t\t\tcurviness * startTension;\n\t\tstartCtrl.y = ( Math.round(rri[1]) - start.point.y ) *\n\t\t\tcurviness * startTension;\n\t\tendCtrl.x = ( Math.round(rri[0]) - end.point.x ) *\n\t\t\tcurviness * endTension;\n\t\tendCtrl.y = ( Math.round(rri[1]) - end.point.y ) *\n\t\t\tcurviness * endTension;\n\t});\n};\n\nvar rdeg = /deg$/;\nObject.defineProperties(paper.PaperScope.prototype.Segment.prototype, {\n\texpand: {\n\t\tget: function() {\n\t\t\treturn this._expand;\n\t\t},\n\t\tset: function( expand ) {\n\t\t\tif ( typeof expand.angle === 'string' && rdeg.test(expand.angle) ) {\n\t\t\t\texpand.angle = parseFloat(expand.angle) * ( Math.PI * 2 / 360 );\n\t\t\t}\n\n\t\t\tthis._expand = expand;\n\t\t}\n\t},\n\tdirIn: {\n\t\tget: function() {\n\t\t\treturn this._dirIn;\n\t\t},\n\t\tset: function( dir ) {\n\t\t\tif ( typeof dir === 'string' && rdeg.test( dir ) ) {\n\t\t\t\tthis._dirIn = parseFloat(dir) * ( Math.PI * 2 / 360 );\n\t\t\t} else {\n\t\t\t\tthis._dirIn = dir;\n\t\t\t}\n\t\t}\n\t},\n\tdirOut: {\n\t\tget: function() {\n\t\t\treturn this._dirOut;\n\t\t},\n\t\tset: function( dir ) {\n\t\t\tif ( typeof dir === 'string' && rdeg.test( dir ) ) {\n\t\t\t\tthis._dirOut = parseFloat(dir) * ( Math.PI * 2 / 360 );\n\t\t\t} else {\n\t\t\t\tthis._dirOut = dir;\n\t\t\t}\n\t\t}\n\t}\n});\n\nmodule.exports = naive;\n\n\n\n// WEBPACK FOOTER //\n// ./src/naive.js","var plumin = require('plumin.js'),\n\tpaper = plumin.paper;\n\nvar Utils = {};\n\n/* eslint-disable */\n// The following function should be useless, thanks to paper\nUtils.lineLineIntersection = function( p1, p2, p3, p4 ) {\n\tvar x1 = p1.x,\n\t\ty1 = p1.y,\n\t\tx2 = p2.x,\n\t\ty2 = p2.y,\n\t\tx3 = p3.x,\n\t\ty3 = p3.y,\n\t\tx4 = p4.x,\n\t\ty4 = p4.y,\n\t\td = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n\tif ( d === 0 ) {\n\t\treturn null;\n\t}\n\n\treturn new Float32Array([\n\t\t( (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4) ) /\n\t\td,\n\t\t( (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4) ) /\n\t\td\n\t]);\n};\n\n// Find the intersection of two rays.\n// A ray is defined by a point and an angle.\nUtils.rayRayIntersection = function( p1, a1, p2, a2 ) {\n\t// line equations\n\tvar a = Math.tan(a1),\n\t\tb = Math.tan(a2),\n\t\tc = p1.y - a * p1.x,\n\t\td = p2.y - b * p2.x,\n\t\tx,\n\t\ty;\n\n\t// When searching for lines intersection,\n\t// angles can be normalized to 0 < a < PI\n\t// This will be helpful in detecting special cases below.\n\ta1 = a1 % Math.PI;\n\tif ( a1 < 0 ) {\n\t\ta1 += Math.PI;\n\t}\n\ta2 = a2 % Math.PI;\n\tif ( a2 < 0 ) {\n\t\ta2 += Math.PI;\n\t}\n\n\t// no intersection\n\tif ( a1 === a2 ) {\n\t\treturn null;\n\t}\n\n\t//We want to round a1, a2 and PI to avoid problems with approximation\n\ta1 = a1.toFixed(6);\n\ta2 = a2.toFixed(6);\n\tvar piOver2 = (Math.PI / 2).toFixed(6);\n\n\t// Optimize frequent and easy special cases.\n\t// Without optimization, results would be incorrect when cos(a) === 0\n\tif ( a1 === 0 ) {\n\t\ty = p1.y;\n\t} else if ( a1 === piOver2 ) {\n\t\tx = p1.x;\n\t}\n\tif ( a2 === 0 ) {\n\t\ty = p2.y;\n\t} else if ( a2 === piOver2 ) {\n\t\tx = p2.x;\n\t}\n\n\t// easiest case\n\tif ( x !== undefined && y !== undefined ) {\n\t\treturn new Float32Array([ x, y ]);\n\t}\n\n\t// other cases that can be optimized\n\tif ( a1 === 0 ) {\n\t\treturn new Float32Array([ ( y - d ) / b, y ]);\n\t}\n\tif ( a1 === piOver2 ) {\n\t\treturn new Float32Array([ x, b * x + d ]);\n\t}\n\tif ( a2 === 0 ) {\n\t\treturn new Float32Array([ ( y - c ) / a, y ]);\n\t}\n\tif ( a2 === piOver2 ) {\n\t\treturn new Float32Array([ x, a * x + c ]);\n\t}\n\n\t// intersection from two line equations\n\t// algo: http://en.wikipedia.org/wiki/Line–line_intersection#Given_the_equations_of_the_lines\n\treturn new Float32Array([\n\t\tx = (d - c) / (a - b),\n\t\t// this should work equally well with ax+c or bx+d\n\t\ta * x + c\n\t]);\n};\n\n// return the angle between two points\nUtils.lineAngle = function( p0, p1 ) {\n\treturn Math.atan2( p1.y - p0.y, p1.x - p0.x );\n};\n\nUtils.onLine = function( params ) {\n\tif ( params.on[0].x === params.on[1].x &&\n\t\tparams.on[0].y === params.on[1].y ) {\n\t\treturn 'x' in params ?\n\t\t\tparams.on[0].y :\n\t\t\tparams.on[0].x;\n\t}\n\n\tvar origin = params.on[0],\n\t\tvector = [\n\t\t\tparams.on[1].x - params.on[0].x,\n\t\t\tparams.on[1].y - params.on[0].y\n\t\t];\n\n\treturn 'x' in params ?\n\t\t( params.x - origin.x ) / vector[0] * vector[1] + origin.y :\n\t\t( params.y - origin.y ) / vector[1] * vector[0] + origin.x;\n};\n\nUtils.pointOnCurve = function(pointHandleOut,\n\tpointHandleIn,\n\tdistanceFromOut,\n\tinverseOrientation,\n\tlinePrecision) {\n\tlinePrecision = linePrecision || 3;\n\tvar length = 0;\n\tvar previousPoint;\n\n\tvar points;\n\tif (!inverseOrientation) {\n\t\tpoints = [\n\t\t\tpointHandleOut.point,\n\t\t\tpointHandleOut.point.add(pointHandleOut.handleOut),\n\t\t\tpointHandleIn.point.add(pointHandleIn.handleIn),\n\t\t\tpointHandleIn.point\n\t\t];\n\t} else {\n\t\tpoints = [\n\t\t\tpointHandleIn.point,\n\t\t\tpointHandleIn.point.add(pointHandleIn.handleIn),\n\t\t\tpointHandleOut.point.add(pointHandleOut.handleOut),\n\t\t\tpointHandleOut.point\n\t\t];\n\t}\n\n\tfor (var i = 0; i < linePrecision; i++) {\n\t\tvar point = Utils.getPointOnCurve(points,\n\t\t\t( i / ( linePrecision - 1 ) ) );\n\n\t\tif (previousPoint) {\n\t\t\tlength += Utils.distance(previousPoint.x,\n\t\t\t\tpreviousPoint.y,\n\t\t\t\tpoint.x,\n\t\t\t\tpoint.y);\n\n\t\t}\n\n\t\tpreviousPoint = point;\n\t}\n\n\tvar t = length === 0 ? 0 : distanceFromOut / length;\n\n\tt = Math.max(0.001, Math.min(1, t));\n\n    return Utils.getPointOnCurve(points, t);\n};\n\nUtils.getPointOnCurve = function(points, t) {\n\tvar inverseT = 1 - t;\n\tvar a = inverseT * inverseT * inverseT;\n\tvar b = inverseT * inverseT * t * 3;\n\tvar c = inverseT * t * t * 3;\n\tvar d = t * t * t;\n\n\treturn {\n\t\tx: a * points[0].x + b * points[1].x + c * points[2].x + d * points[3].x,\n\t\ty: a * points[0].y + b * points[1].y + c * points[2].y + d * points[3].y,\n\t\tnormal: Utils.lineAngle(\n\t\t\t{\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t},\n\t\t\t{\n\t\t\t\tx: (points[1].x - points[0].x) * inverseT * inverseT + 2 * ( points[2].x - points[1].x ) * t * inverseT + (points[3].x - points[2].x) * t * t,\n\t\t\t\ty: (points[1].y - points[0].y) * inverseT * inverseT + 2 * ( points[2].y - points[1].y ) * t * inverseT + (points[3].y - points[2].y) * t * t,\n\t\t\t}\n\t\t)\n\t}\n}\n\nUtils.split = function(points, t, base) {\n\tt = t || 1;\n\tvar result = points;\n\twhile (points.length > 1) {\n\t\tvar newPoints = [];\n\t\tfor (var i = 1; i < points.length; i++) {\n\t\t\tnewPoints.push(\n\t\t\t\tpoints[i - 1]\n\t\t\t\t\t.multiply(1 - t)\n\t\t\t\t\t.add(\n\t\t\t\t\t\tpoints[i]\n\t\t\t\t\t\t\t.multiply(t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\n\t\tresult = result.concat(newPoints);\n\t\tpoints = newPoints;\n\t}\n\n\tif (t === 1) {\n\t\treturn {\n\t\t\tleft: [\n\t\t\t\tbase[1],\n\t\t\t\tbase[0]\n\t\t\t],\n\t\t\tright: [\n\t\t\t\tbase[1],\n\t\t\t\tbase[1]\n\t\t\t]\n\t\t}\n\t}\n\n\tvar splitBezier = {\n\t\tleft: [\n\t\t\t{\n\t\t\t\tx: result[0].x,\n\t\t\t\ty: result[0].y,\n\t\t\t\tpoint: new paper.Point(\n\t\t\t\t\tresult[0].x,\n\t\t\t\t\tresult[0].y\n\t\t\t\t),\n\t\t\t\thandleOut:new paper.Point(\n\t\t\t\t\tresult[4].x - result[0].x,\n\t\t\t\t\tresult[4].y - result[0].y\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tx: result[9].x,\n\t\t\t\ty: result[9].y,\n\t\t\t\tpoint: new paper.Point(\n\t\t\t\t\tresult[9].x,\n\t\t\t\t\tresult[9].y\n\t\t\t\t),\n\t\t\t\thandleIn:new paper.Point(\n\t\t\t\t\tresult[7].x - result[9].x,\n\t\t\t\t\tresult[7].y - result[9].y\n\t\t\t\t),\n\t\t\t\thandleOut:new paper.Point(\n\t\t\t\t\tresult[8].x - result[9].x,\n\t\t\t\t\tresult[8].y - result[9].y\n\t\t\t\t),\n\t\t\t}\n\t\t],\n\t\tright: [\n\t\t\t{\n\t\t\t\tx: result[9].x,\n\t\t\t\ty: result[9].y,\n\t\t\t\tpoint: new paper.Point(\n\t\t\t\t\tresult[9].x,\n\t\t\t\t\tresult[9].y\n\t\t\t\t),\n\t\t\t\thandleIn:new paper.Point(\n\t\t\t\t\tresult[7].x - result[9].x,\n\t\t\t\t\tresult[7].y - result[9].y\n\t\t\t\t),\n\t\t\t\thandleOut:new paper.Point(\n\t\t\t\t\tresult[8].x - result[9].x,\n\t\t\t\t\tresult[8].y - result[9].y\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tx: result[3].x,\n\t\t\t\ty: result[3].y,\n\t\t\t\tpoint: new paper.Point(\n\t\t\t\t\tresult[3].x,\n\t\t\t\t\tresult[3].y\n\t\t\t\t),\n\t\t\t\thandleIn:new paper.Point(\n\t\t\t\t\tresult[6].x - result[3].x,\n\t\t\t\t\tresult[6].y - result[3].y\n\t\t\t\t),\n\t\t\t}\n\t\t]\n\t};\n\treturn splitBezier;\n};\n\nUtils.distance = function(x1, y1, x2, y2) {\n\treturn Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y1 - y2, 2));\n};\n\nUtils.align = function(points, lineStart, lineEnd) {\n\tvar tx = lineStart.x,\n\tty = lineStart.y,\n\ta = -Math.atan2(lineEnd.y - ty, lineEnd.x - tx),\n\td = function(v) {\n\t\treturn {\n\t\t\tx: (v.x - tx) * Math.cos(a) - (v.y - ty) * Math.sin(a),\n\t\t\ty: (v.x - tx) * Math.sin(a) + (v.y - ty) * Math.cos(a)\n\t\t};\n\t};\n\treturn points.map(d);\n}\n\nfunction crt(v) {\n\treturn v < 0 ?\n\t\t-Math.pow( -v, 1/3) :\n\t\tMath.pow( v, 1/3);\n}\n\n// see https://github.com/Pomax/bezierjs/blob/gh-pages/lib/utils.js line 313\nUtils.lineCurveIntersection = function(pointHandleOut, pointHandleIn, lineStart, lineEnd) {\n\tlineStart = lineStart || {x:0,y:0};\n\tlineEnd = lineEnd || {x:1,y:0};\n\tvar points = [\n\t\tpointHandleOut.point,\n\t\tpointHandleOut.point.add(pointHandleOut.handleOut),\n\t\tpointHandleIn.point.add(pointHandleIn.handleIn),\n\t\tpointHandleIn.point\n\t];\n\tvar p = Utils.align(points, lineStart, lineEnd);\n\tvar reduce = function(t) { return 0<=t && t <=1; };\n\n\t// see http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm\n\tvar pa = p[0].y;\n\tvar pb = p[1].y;\n\tvar pc = p[2].y;\n\tvar pd = p[3].y;\n\tvar d = (-pa + 3 * pb - 3 * pc + pd);\n\tvar a = (3 * pa - 6 * pb + 3 * pc) / d;\n\tvar b = (-3 * pa + 3 * pb) / d;\n\tvar c = pa / d;\n\tvar p3 = ((3 * b - a * a) / 3 ) / 3;\n\tvar q = (2 * a * a * a - 9 * a * b + 27 * c) / 27;\n\tvar q2 = q/2;\n\tvar discriminant = q2 * q2 + p3 * p3 * p3;\n\tvar u1;\n\tvar v1;\n\tvar x1;\n\tvar x2;\n\tvar x3;\n\n\tvar result;\n\n\tif (discriminant < 0) {\n\t\tvar mp3 = -p3,\n\t\tmp33 = mp3 * mp3 * mp3,\n\t\tr = Math.sqrt( mp33 ),\n\t\tt = -q / ( 2 * r ),\n\t\tcosphi = t < -1 ? -1 : t > 1 ? 1 : t,\n\t\tphi = Math.acos( cosphi ),\n\t\tcrtr = crt( r ),\n\t\tt1 = 2 * crtr;\n\t\tx1 = t1 * Math.cos( phi / 3) - a / 3;\n\t\tx2 = t1 * Math.cos((phi+ Math.PI * 2)/3) - a / 3;\n\t\tx3 = t1 * Math.cos((phi+ 4 * Math.PI)/3) - a / 3;\n\t\tresult = [x1, x2, x3].filter(reduce);\n\t} else if(discriminant === 0) {\n\t\tu1 = q2 < 0 ? crt(-q2) : -crt(q2);\n\t\tx1 = 2 * u1 -a / 3;\n\t\tx2 = -u1 - a / 3;\n\t\tresult = [x1,x2].filter(reduce);\n\t} else {\n\t\tvar sd = Math.sqrt(discriminant);\n\t\tu1 = crt(-q2 + sd);\n\t\tv1 = crt(q2 + sd);\n\t\tresult = [u1 - v1 - a / 3].filter(reduce);\n\t}\n\n\treturn Utils.split(points, result[0], [pointHandleIn, pointHandleOut]);\n}\n\nUtils.log = function() {\n\t/*eslint-disable no-console */\n\tconsole.log.apply( console, arguments );\n\t/*eslint-enable no-console */\n\treturn arguments[0];\n};\n\nUtils.normalize = function(vector) {\n\tvar x = vector.x;\n\tvar y = vector.y;\n\n\tvar norm = Utils.distance(0, 0, x, y);\n\n\tif (norm === 0) {\n\t\treturn {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t}\n\n\treturn {\n\t\tx: x / norm,\n\t\ty: y / norm\n\t};\n}\n\nUtils.vectorFromPoints = function(a, b) {\n\treturn {\n\t\tx:b.x - a.x,\n\t\ty:b.y - a.y\n\t}\n}\n\nUtils.parseInt = function(int) {\n\treturn parseInt(int);\n}\n\nUtils.makeCurveInsideSerif = function(\n\tpAnchors,\n\tserifHeight,\n\tserifWidth,\n\tserifMedian,\n\tserifCurve,\n\tserifTerminal,\n\tthickness,\n\tmidWidth,\n\tserifRotate\n) {\n\tvar yDir = pAnchors.down ? -1 : 1;\n\tvar xDir = pAnchors.left ? -1 : 1;\n\tvar midStumpOrient = pAnchors.inverseMidStump ? -1: 1;\n\tvar realThickness = pAnchors.thickness || thickness;\n\n\tvar rotateRad = (serifRotate * pAnchors.rotationAngle || 0) * Math.PI/180;\n\tvar baseWidth = pAnchors.baseWidth;\n\tvar baseHeight = pAnchors.baseHeight;\n\tvar stumpOpposite = pAnchors.opposite;\n\tvar stumpBase = baseHeight;\n\tvar stumpVector = {\n\t\tx: stumpOpposite.x - stumpBase.x,\n\t\ty: stumpOpposite.y - stumpBase.y,\n\t};\n\n\tif (baseHeight.x === stumpOpposite.x && baseHeight.y === stumpOpposite.y) {\n\t\tvar stumpVector = {\n\t\t\tx: -stumpOpposite.x + baseWidth.x,\n\t\t\ty: -stumpOpposite.y + baseWidth.y,\n\t\t};\n\t}\n\tvar stumpNorm = Utils.distance(0, 0, stumpVector.x, stumpVector.y);\n\tstumpVector = Utils.normalize(stumpVector);\n\tvar stumpAngle = Utils.lineAngle(baseHeight, stumpOpposite);\n\n\tvar rotationCenter = pAnchors.rotationCenter;\n\tvar topLeft = {\n\t\tx: rotationCenter.x + (baseHeight.x - rotationCenter.x - serifHeight * xDir) * Math.cos(rotateRad) - (baseWidth.y - rotationCenter.y + serifWidth * yDir) * Math.sin(rotateRad),\n\t\ty: rotationCenter.y + (baseWidth.y - rotationCenter.y + serifWidth * yDir) * Math.cos(rotateRad) + (baseHeight.x - rotationCenter.x - serifHeight * xDir) * Math.sin(rotateRad),\n\t};\n\tvar bottomLeft = {\n\t\tx: rotationCenter.x + (baseHeight.x - rotationCenter.x - serifHeight * xDir) * Math.cos(rotateRad) - (baseHeight.y - rotationCenter.y) * Math.sin(rotateRad),\n\t\ty: rotationCenter.y + (baseHeight.y - rotationCenter.y) * Math.cos(rotateRad) + (baseHeight.x - rotationCenter.x - serifHeight * xDir) * Math.sin(rotateRad),\n\t}\n\n\t//We get the intersection with the left edge of the serif and the curve support\n\t//this operation is direction dependent\n\tvar splitBase;\n\tif (pAnchors.inverseOrder) {\n\t\tsplitBase = Utils.lineCurveIntersection(\n\t\t\tpAnchors.curveEnd,\n\t\t\tpAnchors.baseWidth,\n\t\t\t{x: topLeft.x, y: topLeft.y},\n\t\t\t{x: bottomLeft.x, y: bottomLeft.y}\n\t\t);\n\t}\n\telse {\n\t\tsplitBase = Utils.lineCurveIntersection(\n\t\t\tpAnchors.baseWidth,\n\t\t\tpAnchors.curveEnd,\n\t\t\t{x: topLeft.x, y: topLeft.y},\n\t\t\t{x: bottomLeft.x, y: bottomLeft.y}\n\t\t);\n\t}\n\n\n\t// We chose a serifCenter depending on if the left edge intersect or not with\n\t// the curve support\n\tvar serifCenter;\n\tvar splitCurveEnd;\n\n\tif (!pAnchors.inverseOrder) {\n\t\tif (splitBase.right[0].x !== splitBase.right[1].x || splitBase.right[0].y !== splitBase.right[1].y) {\n\t\t\tserifCenter = splitBase.right[0];\n\t\t\tsplitCurveEnd = splitBase.right[1];\n\t\t}\n\t\telse {\n\t\t\tserifCenter = splitBase.left[0];\n\t\t\tsplitCurveEnd = splitBase.left[1];\n\t\t}\n\t}\n\telse {\n\t\tif (splitBase.left[0].x !== splitBase.left[1].x || splitBase.left[0].y !== splitBase.left[1].y) {\n\t\t\tserifCenter = splitBase.left[1];\n\t\t\tsplitCurveEnd = splitBase.left[0];\n\t\t}\n\t\telse {\n\t\t\tserifCenter = splitBase.right[1];\n\t\t\tsplitCurveEnd = splitBase.right[0];\n\t\t}\n\t}\n\n\t// The serif direction is the line from the serif center\n\t// to the serif left edge\n\tvar serifDirection = Utils.vectorFromPoints(\n\t\tserifCenter,\n\t\t{\n\t\t\tx: rotationCenter.x + (baseHeight.x - rotationCenter.x - serifHeight * xDir) * serifMedian * Math.cos(rotateRad) - (baseWidth.y - rotationCenter.y + serifWidth * yDir) * Math.sin(rotateRad),\n\t\t\ty: rotationCenter.y + (baseWidth.y - rotationCenter.y + serifWidth * yDir) * Math.cos(rotateRad) + (baseHeight.x - rotationCenter.x - serifHeight * xDir) * serifMedian * Math.sin(rotateRad),\n\t\t}\n\t);\n\n\tvar serifBasis = Utils.normalize(serifDirection);\n\tvar serifRadDirection = Math.atan2(serifBasis.y, serifBasis.x);\n\n\tvar pointOnCurve;\n\tvar pointOnSerif;\n\tvar pointWithCurve = {};\n\tvar normalToCurve;\n\n\tif (pAnchors.inverseOrder) {\n\t\tpointWithCurve = Utils.pointOnCurve(splitCurveEnd, serifCenter, serifCurve, true, 200)\n\t}\n\telse {\n\t\tpointWithCurve = Utils.pointOnCurve(serifCenter, splitCurveEnd, serifCurve, false, 200)\n\t}\n\n\tif (serifCurve > 0) {\n\t\tnormalToCurve = pointWithCurve.normal;\n\t\tpointOnCurve = {\n\t\t\tx: pointWithCurve.x,\n\t\t\ty: pointWithCurve.y,\n\t\t\tdirOut: pointWithCurve.normal,\n\t\t\ttype:'corner'\n\t\t};\n\t\tvar curveRatio = Math.min(serifCurve / Utils.distance(0, 0, serifDirection.x, serifDirection.y), 0.75);\n\t\tpointOnSerif = {\n\t\t\tx: serifCenter.x + serifDirection.x * curveRatio,\n\t\t\ty: serifCenter.y + serifDirection.y * curveRatio,\n\t\t\tdirIn: serifRadDirection,\n\t\t\tdirOut: serifRadDirection,\n\t\t\ttype:'corner'\n\t\t};\n\t}\n\telse {\n\t\tif (pAnchors.inverseOrder) {\n\t\t\tnormalToCurve = serifCenter.handleIn.angleInRadians;\n\t\t}\n\t\telse {\n\t\t\tnormalToCurve = serifCenter.handleOut.angleInRadians;\n\t\t}\n\t\tpointOnCurve = {\n\t\t\tx: serifCenter.x,\n\t\t\ty: serifCenter.y,\n\t\t\ttype:'corner',\n\t\t};\n\t\tpointOnSerif = {\n\t\t\tx: serifCenter.x,\n\t\t\ty: serifCenter.y,\n\t\t\ttype:'corner'\n\t\t};\n\t}\n\tvar leftEdge = {\n\t\tx: serifCenter.x + serifDirection.x,\n\t\ty: serifCenter.y + serifDirection.y,\n\t\tdirIn: serifRadDirection,\n\t\tdirOut: rotateRad,\n\t};\n\tvar rightEdge = {\n\t\tx: rotationCenter.x - (baseWidth.y - rotationCenter.y + serifWidth * midWidth * yDir) * Math.sin(rotateRad),\n\t\ty: rotationCenter.y + (baseWidth.y - rotationCenter.y + serifWidth * midWidth * yDir) * Math.cos(rotateRad),\n\t\tdirIn: rotateRad,\n\t\ttypeOut: 'line'\n\t};\n\tvar serifRoot = {\n\t\tx: baseHeight.x,\n\t\ty: baseHeight.y,\n\t};\n\n\tvar rootVector = Utils.normalize(Utils.vectorFromPoints(serifRoot, rightEdge));\n\tvar medianVector = Utils.normalize(Utils.vectorFromPoints(pointOnSerif, leftEdge));\n\n\tvar terminalVector = Utils.normalize({\n\t\tx: rootVector.x + medianVector.x,\n\t\ty: rootVector.y + medianVector.y,\n\t});\n\n\tvar midPoint = {\n\t\tx: (leftEdge.x + rightEdge.x) / 2 + serifTerminal * serifHeight * terminalVector.x,\n\t\ty: (leftEdge.y + rightEdge.y) / 2 + serifTerminal * serifHeight * terminalVector.y,\n\t\tdirIn: rotateRad,\n\t\tdirOut: rotateRad,\n\t};\n\n\tif (serifTerminal !== 0) {\n\t\tleftEdge.dirOut = Math.atan2(medianVector.y, medianVector.x);\n\t\trightEdge.dirIn = Math.atan2(rootVector.y, rootVector.x);\n\t}\n\telse if (midWidth !== 1) {\n\t\tvar dirOut = Math.atan2(leftEdge.y - rightEdge.y, leftEdge.x - rightEdge.x);\n\t\tleftEdge.dirOut = dirOut;\n\t\trightEdge.dirIn = dirOut;\n\t\tmidPoint.dirIn = dirOut\n\t\tmidPoint.dirOut = dirOut\n\t}\n\n\tvar midStump = {\n\t\tx: serifRoot.x + stumpNorm / 2 * stumpVector.x,\n\t\ty: serifRoot.y + stumpNorm / 2 * stumpVector.y,\n\t\tdirOut: baseWidth.dirIn,\n\t\ttypeIn: 'line',\n\t\ttype: 'corner',\n\t}\n\n\tvar lastPoint = {\n\t\tx: pointOnCurve.x - stumpNorm / 2 * Math.sin(normalToCurve) * yDir * xDir,\n\t\ty: pointOnCurve.y + stumpNorm / 2 * Math.cos(normalToCurve) * yDir * xDir,\n\t\tdirIn: normalToCurve,\n\t\ttypeOut: 'line',\n\t\ttype: 'corner',\n\t}\n\n\tif (serifCurve + serifHeight < 70) {\n\t\tmidStump.tensionOut = 0;\n\t\tlastPoint.tensionIn = 0;\n\t}\n\telse {\n\t\tmidStump.tensionOut = 1;\n\t\tlastPoint.tensionIn = 1;\n\t}\n\n\treturn [\n\t\tpointOnCurve,\n\t\tpointOnSerif,\n\t\tleftEdge,\n\t\tmidPoint,\n\t\trightEdge,\n\t\trotationCenter,\n\t\tserifRoot,\n\t\tmidStump,\n\t\tlastPoint\n\t]\n}\n/* eslint-enable */\n\nmodule.exports = Utils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/updateUtils.js","var DepTree = function() {\n  this.nodes = {}; \n};\n\nDepTree.prototype.add = function(node, dependants) {\n  var self = this;\n\n  if (!dependants) {\n    dependants = [];\n  } else if (!(dependants instanceof Array)) {\n    dependants = [dependants];\n  }\n\n  this.nodes[node] = dependants;\n};\n\n\nDepTree.prototype.resolveNode = function(node, resolved, processing) {\n\n  var self = this;\n\n  resolved = resolved || [];\n  processing = processing || {};\n  var deps = this.nodes[node] || [];\n\n  processing[node] = true;\n\n  deps.forEach(function(dep) {\n    if (resolved.indexOf(dep) != -1) {\n      return;\n    }\n    if (processing[dep]) {\n      throw new Error('Circular dependency: '+dep);\n    }\n    self.resolveNode(dep, resolved, processing);\n  });\n\n  if (resolved.indexOf(node) == -1) {\n    processing[node] = false;\n    resolved.push(node);\n  }\n  return resolved;\n};\n\nDepTree.prototype.resolve = function() {\n\n  var resolved = [];\n  for (var node in this.nodes) {\n    this.resolveNode(node, resolved);\n  }\n\n  return resolved;\n\n};\n\n\nmodule.exports = DepTree;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deptree/index.js\n// module id = 44\n// module chunks = 0","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array ? array.length : 0,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {boolean} [bitmask] The bitmask of comparison flags.\n *  The bitmask may be composed of the following flags:\n *     1 - Unordered comparison\n *     2 - Partial comparison\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, bitmask, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = getTag(object);\n    objTag = objTag == argsTag ? objectTag : objTag;\n  }\n  if (!othIsArr) {\n    othTag = getTag(other);\n    othTag = othTag == argsTag ? objectTag : othTag;\n  }\n  var objIsObj = objTag == objectTag && !isHostObject(object),\n      othIsObj = othTag == objectTag && !isHostObject(other),\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, equalFunc, customizer, bitmask, stack)\n      : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);\n  }\n  if (!(bitmask & PARTIAL_COMPARE_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, equalFunc, customizer, bitmask, stack);\n}\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n}\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);\n  };\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & UNORDERED_COMPARE_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!seen.has(othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n              return seen.add(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, customizer, bitmask, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & PARTIAL_COMPARE_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= UNORDERED_COMPARE_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var result,\n      index = -1,\n      length = path.length;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result) {\n    return result;\n  }\n  var length = object ? object.length : 0;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = filter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash.filter/index.js\n// module id = 45\n// module chunks = 0","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_DataView.js\n// module id = 46\n// module chunks = 0","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Hash.js\n// module id = 47\n// module chunks = 0","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Promise.js\n// module id = 48\n// module chunks = 0","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Set.js\n// module id = 49\n// module chunks = 0","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_SetCache.js\n// module id = 50\n// module chunks = 0","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Uint8Array.js\n// module id = 51\n// module chunks = 0","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_WeakMap.js\n// module id = 52\n// module chunks = 0","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayFilter.js\n// module id = 53\n// module chunks = 0","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayLikeKeys.js\n// module id = 54\n// module chunks = 0","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayMap.js\n// module id = 55\n// module chunks = 0","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayPush.js\n// module id = 56\n// module chunks = 0","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arraySome.js\n// module id = 57\n// module chunks = 0","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseFindIndex.js\n// module id = 58\n// module chunks = 0","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseGetAllKeys.js\n// module id = 59\n// module chunks = 0","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseHasIn.js\n// module id = 60\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsArguments.js\n// module id = 61\n// module chunks = 0","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsEqualDeep.js\n// module id = 62\n// module chunks = 0","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsMatch.js\n// module id = 63\n// module chunks = 0","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsNative.js\n// module id = 64\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsTypedArray.js\n// module id = 65\n// module chunks = 0","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseKeys.js\n// module id = 66\n// module chunks = 0","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseMatches.js\n// module id = 67\n// module chunks = 0","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseMatchesProperty.js\n// module id = 68\n// module chunks = 0","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseProperty.js\n// module id = 69\n// module chunks = 0","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_basePropertyDeep.js\n// module id = 70\n// module chunks = 0","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseTimes.js\n// module id = 71\n// module chunks = 0","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseToString.js\n// module id = 72\n// module chunks = 0","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseUnary.js\n// module id = 73\n// module chunks = 0","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_cacheHas.js\n// module id = 74\n// module chunks = 0","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_coreJsData.js\n// module id = 75\n// module chunks = 0","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_createFind.js\n// module id = 76\n// module chunks = 0","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_equalByTag.js\n// module id = 77\n// module chunks = 0","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_equalObjects.js\n// module id = 78\n// module chunks = 0","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getAllKeys.js\n// module id = 79\n// module chunks = 0","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getMatchData.js\n// module id = 80\n// module chunks = 0","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getRawTag.js\n// module id = 81\n// module chunks = 0","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getSymbols.js\n// module id = 82\n// module chunks = 0","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getTag.js\n// module id = 83\n// module chunks = 0","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getValue.js\n// module id = 84\n// module chunks = 0","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hasPath.js\n// module id = 85\n// module chunks = 0","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashClear.js\n// module id = 86\n// module chunks = 0","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashDelete.js\n// module id = 87\n// module chunks = 0","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashGet.js\n// module id = 88\n// module chunks = 0","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashHas.js\n// module id = 89\n// module chunks = 0","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashSet.js\n// module id = 90\n// module chunks = 0","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isKeyable.js\n// module id = 91\n// module chunks = 0","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isMasked.js\n// module id = 92\n// module chunks = 0","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isPrototype.js\n// module id = 93\n// module chunks = 0","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheClear.js\n// module id = 94\n// module chunks = 0","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheDelete.js\n// module id = 95\n// module chunks = 0","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheGet.js\n// module id = 96\n// module chunks = 0","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheHas.js\n// module id = 97\n// module chunks = 0","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheSet.js\n// module id = 98\n// module chunks = 0","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheClear.js\n// module id = 99\n// module chunks = 0","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheDelete.js\n// module id = 100\n// module chunks = 0","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheGet.js\n// module id = 101\n// module chunks = 0","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheHas.js\n// module id = 102\n// module chunks = 0","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheSet.js\n// module id = 103\n// module chunks = 0","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapToArray.js\n// module id = 104\n// module chunks = 0","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_memoizeCapped.js\n// module id = 105\n// module chunks = 0","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_nativeKeys.js\n// module id = 106\n// module chunks = 0","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_nodeUtil.js\n// module id = 107\n// module chunks = 0","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_objectToString.js\n// module id = 108\n// module chunks = 0","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_overArg.js\n// module id = 109\n// module chunks = 0","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_setCacheAdd.js\n// module id = 110\n// module chunks = 0","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_setCacheHas.js\n// module id = 111\n// module chunks = 0","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_setToArray.js\n// module id = 112\n// module chunks = 0","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackClear.js\n// module id = 113\n// module chunks = 0","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackDelete.js\n// module id = 114\n// module chunks = 0","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackGet.js\n// module id = 115\n// module chunks = 0","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackHas.js\n// module id = 116\n// module chunks = 0","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackSet.js\n// module id = 117\n// module chunks = 0","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stringToPath.js\n// module id = 118\n// module chunks = 0","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/find.js\n// module id = 119\n// module chunks = 0","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/findIndex.js\n// module id = 120\n// module chunks = 0","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/get.js\n// module id = 121\n// module chunks = 0","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/hasIn.js\n// module id = 122\n// module chunks = 0","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/identity.js\n// module id = 123\n// module chunks = 0","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/memoize.js\n// module id = 124\n// module chunks = 0","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/property.js\n// module id = 125\n// module chunks = 0","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/stubArray.js\n// module id = 126\n// module chunks = 0","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/stubFalse.js\n// module id = 127\n// module chunks = 0","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/toFinite.js\n// module id = 128\n// module chunks = 0","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/toInteger.js\n// module id = 129\n// module chunks = 0","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/toNumber.js\n// module id = 130\n// module chunks = 0","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/toString.js\n// module id = 131\n// module chunks = 0"],"sourceRoot":""}